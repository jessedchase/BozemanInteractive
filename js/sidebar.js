/** 
 * Made by Spring/Summer 2016
 * Compiled at: 26/2/2016 15:23:3
 */
"use strict"
var ss;!function(t){var e=function(){function t(){}return t.loadScript=function(e,i,n){t.ua=e,t.domainName="localhost"==i?"none":i,window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=1*new Date;var s=document.createElement("script"),o=document.getElementsByTagName("script")[0];s.async=!0,s.src="//www.google-analytics.com/analytics.js",o.parentNode.insertBefore(s,o),n===!0?ga("create",t.ua,{cookieDomain:t.domainName,cookieName:"ga_cookie"}):(ga("create",t.ua,{anonymizeIp:!0,clientId:window.localStorage.getItem("ga_clientId")}),ga(function(t){window.localStorage.setItem("ga_clientId",t.get("clientId"))}))},t.forceSSL=function(){ga("set","forceSSL",!0)},t.sendPage=function(){ga("send","pageview")},t.send=function(t,e,i){void 0===i&&(i="pageview"),ga("send",i,{page:t,title:e})},t.set=function(t,e,i){void 0===i&&(i="pageview"),ga("set",i,{page:t,title:e})},t}();t.GoogleAnalytics=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){this.__listeners={}}return t.prototype.once=function(t,e){this.addEventListener(t,function(){this.removeEventListener(t,e),e(arguments)})},t.prototype.addEventListener=function(t,e){void 0===this.__listeners[t]&&(this.__listeners[t]=[]),-1===this.__listeners[t].indexOf(e)&&this.__listeners[t].push(e)},t.prototype.hasEventListener=function(t,e){return void 0!==this.__listeners[t]&&-1!==this.__listeners[t].indexOf(e)},t.prototype.removeEventListener=function(t,e){var i=this.__listeners[t];if(void 0===i)throw new Error("You cant remove events from a element that already has been destroyed.");var n=i.indexOf(e);-1!==n&&i.splice(n,1)},t.prototype.dispatchEvent=function(t){var e=this.__listeners[t.type];if(void 0!==e){for(var i=[],n=e.length,s=0;n>s;)i[s]=e[s],++s;for(s=0;n>s;)i[s](t),++s}},t.prototype.destroy=function(){this.__listeners=null},t}();t.EventDispatcher=e}(ss||(ss={}));var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},ss;!function(t){var e=function(e){function i(){e.call(this),this.progress=0,this.before=this.__inside_before,this.inside=this.__before_inside,this.after=this.__before_after,this.bounds=new t.Range(null,null),this.duration=0}return __extends(i,e),i.prototype.getProgress=function(){return this.progress},i.prototype.setDuration=function(t){this.duration=t},i.prototype.getLocalProgress=function(){return(this.bounds.start-this.progress)/this.duration},i.prototype.length=function(){return this.duration},i.prototype.setStateToBefore=function(){this.before=this.__before_before,this.inside=this.__before_inside,this.after=this.__before_after},i.prototype.setStateToInside=function(){this.before=this.__inside_before,this.inside=this.render,this.after=this.__inside_after},i.prototype.setStateToAfter=function(){this.before=this.__after_before,this.inside=this.__after_inside,this.after=this.__after_after},i.prototype.updateRender=function(){this.progress>this.bounds.start&&this.progress<this.bounds.end&&this._updateRender()},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.renderAt=function(t){this.progress=t,t<this.bounds.end?t>this.bounds.start?this.inside(t):this.before():this.after()},i.prototype.__default_before=function(){this.setStateToBefore()},i.prototype.__before_before=function(){},i.prototype.__inside_before=function(){this.lastRender(),this.setStateToBefore()},i.prototype.__after_before=function(){this.lastRender(),this.setStateToBefore()},i.prototype.__before_inside=function(t){this.render(),this.setStateToInside()},i.prototype.__after_inside=function(t){this.render(),this.setStateToInside()},i.prototype.__before_after=function(){this.lastRender(),this.setStateToAfter()},i.prototype.__inside_after=function(){this.lastRender(),this.setStateToAfter()},i.prototype.__after_after=function(){},i.prototype.render=function(){},i.prototype.lastRender=function(){},i.prototype._updateRender=function(){},i.prototype.destroy=function(){this.duration=this.bounds=null},i}(t.EventDispatcher);t.ARenderWithin=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.Diagnose=function(){return t._Tweens},t.getProgress=function(){return performance.now()},t.add=function(e){t._Tweens.addElement(e),t._StartPerformFrame()},t.remove=function(e){t._Tweens.removeElement(e),t._CheckRenderNeed()},t._CheckRenderNeed=function(){0===t._Tweens.length?t._StopPerformFrame():t._StartPerformFrame()},t._StartPerformFrame=function(){null===t._RequestFrameID&&(t._RequestFrameID=window.requestAnimationFrame(t._PerformFrame))},t._StopPerformFrame=function(){null!==t._RequestFrameID&&(window.cancelAnimationFrame(t._RequestFrameID),t._RequestFrameID=null)},t._PerformFrame=function(e){var i=t._Tweens,n=i.length;for(t.CT=performance.now();n--;)void 0!==i[n]&&i[n].renderAt(t.CT);t._Tweens.length>0&&(t._RequestFrameID=window.requestAnimationFrame(t._PerformFrame))},t.CT=0,t._Tweens=[],t._RequestFrameID=null,t}();t.RenderManager=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e){this.type=t,this.target=e}return t.COMPLETE="complete",t.ERROR="error",t}();t.TaskEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.COMPLETE=t.TaskEvent.COMPLETE,e.END=t.TaskEvent.COMPLETE,e.BEFORE="before",e.AFTER="after",e.START="start",e}();t.TweenEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this),this.parent=t.RenderManager,this.active=!1,this._baseTime=0,this.gt=0,this.ta=1,this.bounds=new t.Range(0,0),this.from=0,this.to=0,this.velocity=0,this.current=0,this.progress=0,this.friction=n,this.tension=s,this.tempFunc=i}return __extends(i,e),i.prototype.getProgress=function(){return this.progress},i.prototype._onAutoDestroy=function(){this.removeEventListener(t.TaskEvent.COMPLETE,this._onAutoDestroyBind),this._onAutoDestroyBind=void 0,this.destroy()},i.prototype.makeAutoDestroy=function(){void 0===this._onAutoDestroyBind&&(this._onAutoDestroyBind=this._onAutoDestroy.bind(this),this.addEventListener(t.TaskEvent.COMPLETE,this._onAutoDestroyBind))},i.prototype.removeAutoDestroy=function(){void 0!==this._onAutoDestroyBind&&(this.removeEventListener(t.TaskEvent.COMPLETE,this._onAutoDestroyBind),this._onAutoDestroyBind=void 0)},i.prototype._onAutoPause=function(){this.pause()},i.prototype.makeAutoPause=function(){void 0===this._onAutoPauseBind&&(this._onAutoPauseBind=this._onAutoPause.bind(this),this.addEventListener(t.TaskEvent.COMPLETE,this._onAutoPauseBind))},i.prototype.removeAutoPause=function(){void 0!==this._onAutoPauseBind&&(this.removeEventListener(t.TaskEvent.COMPLETE,this._onAutoPauseBind),this._onAutoPauseBind=void 0)},i.prototype.setTimeAspect=function(t){this.ta=t},i.prototype.getTimeAspect=function(){return this.ta},i.prototype.setParent=function(t){this.parent=t},i.prototype.resetParent=function(){this.parent=t.RenderManager},i.prototype.renderAt=function(e){var n=e-this._baseTime,s=(n-this.gt)*this.ta,o=this.progress+s;this.gt=n,this.progress=o;var r=this.velocity,a=this.tension,h=this.friction,d=0>s?this.from:this.to,l=this.current,u=d-l;if(0!==s){if(Math.abs(this.velocity)<.001&&Math.abs(u)<.001)return this.active=!1,void this.dispatchEvent(new t.SSEvent(t.TweenEvent.COMPLETE,this));for(var c,p,f,v,y,m,g,S,w,b,T,C=i.DELTA*this.ta,e=(this.progress,0),E=l,L=this.velocity,_=l,P=Math.abs(s),R=Math.ceil(P/i.RENDERSTEP),M=P/R,B=Math.abs(C);P>e;)e+=M,T=d-_,c=L,y=a*T-h*r,_=l+c*B*.5,p=L+y*B*.5,m=a*T-h*p,_=l+p*B*.5,f=L+m*B*.5,g=a*T-h*f,_=l+f*B*1,v=L+g*B*1,S=a*T-h*v,w=1/6*(2*(p+f)+c+v),b=1/6*(2*(m+g)+y+S),E+=w*B,L+=b*B;this.current=E,this.velocity=L,this.tempFunc(this.current)}},i.prototype.lastRenderAt=function(t){},i.prototype.updateRender=function(){},i.prototype.execute=function(){this.active===!1&&(this._baseTime=this.parent.getProgress(),this.active=!0,this.parent.add(this))},i.prototype.pause=function(){this.active=!1,this.parent.remove(this)},i.prototype.moveTo=function(t){this.to!==t&&(this.setTo(t),this.execute())},i.prototype.jumpTo=function(t){this.setTo(t),this.parent.remove(this),this.tempFunc(t)},i.prototype.setTo=function(t){this.to!==t&&(this.from=this.to,this.to=t)},i.prototype.getTo=function(){return this.to},i.prototype.revert=function(){this.active=!1,this.parent.remove(this)},i.prototype.destroy=function(){this.parent.remove(this),this._baseTime=this.progress=this.bounds=this.active=null,e.prototype.destroy.call(this),this.destroy=null},i.RENDERSTEP=1e3/240,i.DELTA=.1,i}(t.EventDispatcher);t.ADynamicTween=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.subrenders=[],this.amountOfRenders=0,this.relativeSubrenders=[],this.amountOfRelativeRenders=0}return __extends(i,e),i.prototype.add=function(t){-1==this.subrenders.indexOf(t)&&(void 0!==this.bounds?this.bounds.concatIn(t.bounds):this.bounds=t.bounds.clone(),this.duration=this.bounds.length(),this.subrenders.push(t),this.amountOfRenders++)},i.prototype.remove=function(t){var e=this.subrenders.indexOf(t);if(-1!=e){for(this.subrenders.splice(e,1),this.amountOfRenders--,e=this.amountOfRenders,this.bounds=this.subrenders[--e].bounds.clone();e--;)this.bounds.concatIn(this.subrenders[e].bounds);this.duration=this.bounds.length()}},i.prototype.clear=function(){this.subrenders=[],this.amountOfRenders=this.duration=this.bounds.start=this.bounds.end=0,this.relativeSubrenders=[]},i.prototype.addRelative=function(t){-1==this.relativeSubrenders.indexOf(t)&&(this.relativeSubrenders.push(t),this.amountOfRelativeRenders++)},i.prototype.removeRelative=function(t){var e=this.relativeSubrenders.indexOf(t);-1!=e&&(this.relativeSubrenders.splice(e,1),this.amountOfRelativeRenders--)},i.prototype.addTween=function(t){t.setParent(this),this.add(t)},i.prototype.removeTween=function(t){this.remove(t),t.resetParent()},i.prototype.addRelativeTween=function(t){t.setParent(this),this.addRelative(t)},i.prototype.removeRelativeTween=function(t){this.removeRelative(t),t.resetParent()},i.prototype.setStateToBefore=function(){e.prototype.setStateToBefore.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.BEFORE,this))},i.prototype.setStateToInside=function(){e.prototype.setStateToInside.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.START,this))},i.prototype.setStateToAfter=function(){e.prototype.setStateToAfter.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.AFTER,this))},i.prototype.render=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].renderAt(this.progress);(this.bounds.start-this.progress)/this.duration;for(t=this.amountOfRelativeRenders;t--;)this.relativeSubrenders[t].renderAt(this.progress)},i.prototype.lastRender=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].lastRenderAt(this.progress);(this.bounds.start-this.progress)/this.duration;for(t=this.amountOfRelativeRenders;t--;)this.relativeSubrenders[t].renderAt(this.progress)},i}(t.ARenderWithin);t.RenderWithinGroup=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.subrenders=[],this.amountOfRenders=0}return __extends(i,e),i.prototype.add=function(t){-1==this.subrenders.indexOf(t)&&(this.subrenders.push(t),this.amountOfRenders++)},i.prototype.remove=function(t){var e=this.subrenders.indexOf(t);-1!=e&&(this.subrenders.splice(e,1),this.amountOfRenders--)},i.prototype.clear=function(){this.subrenders=[],this.amountOfRenders=0},i.prototype.setStateToBefore=function(){e.prototype.setStateToBefore.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.BEFORE,this))},i.prototype.setStateToInside=function(){e.prototype.setStateToInside.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.START,this))},i.prototype.setStateToAfter=function(){e.prototype.setStateToAfter.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.AFTER,this))},i.prototype.__inside_before=function(){e.prototype.__inside_before.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.COMPLETE,this))},i.prototype.__inside_after=function(){e.prototype.__inside_after.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.COMPLETE,this))},i.prototype.render=function(){for(var t=(this.bounds.start-this.progress)/this.duration,e=this.amountOfRenders;e--;)this.subrenders[e].renderAt(t)},i.prototype.lastRender=function(){for(var t=(this.bounds.start-this.progress)/this.duration,e=this.amountOfRenders;e--;)this.subrenders[e].lastRenderAt(t)},i}(t.ARenderWithin);t.ARenderWithinScope=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.parent=t.RenderManager,this._baseTime=0,this.gt=0,this.ta=1,this.active=!1}return __extends(i,e),i.prototype._onAutoDestroy=function(){this.removeEventListener(t.TaskEvent.COMPLETE,this._onAutoDestroyBind),this._onAutoDestroyBind=void 0,this.destroy()},i.prototype.makeAutoDestroy=function(){void 0===this._onAutoDestroyBind&&(this._onAutoDestroyBind=this._onAutoDestroy.bind(this),this.addEventListener(t.TaskEvent.COMPLETE,this._onAutoDestroyBind))},i.prototype.removeAutoDestroy=function(){void 0!==this._onAutoDestroyBind&&(this.removeEventListener(t.TaskEvent.COMPLETE,this._onAutoDestroyBind),this._onAutoDestroyBind=void 0)},i.prototype._onAutoPause=function(){this.pause()},i.prototype.makeAutoPause=function(){void 0===this._onAutoPauseBind&&(this._onAutoPauseBind=this._onAutoPause.bind(this),this.addEventListener(t.TaskEvent.COMPLETE,this._onAutoPauseBind))},i.prototype.removeAutoPause=function(){void 0!==this._onAutoPauseBind&&(this.removeEventListener(t.TaskEvent.COMPLETE,this._onAutoPauseBind),this._onAutoPauseBind=void 0)},i.prototype.setTimeAspect=function(t){this.ta=t},i.prototype.getTimeAspect=function(){return this.ta},i.prototype.setParent=function(t){this.parent=t},i.prototype.resetParent=function(){this.parent=t.RenderManager},i.prototype.renderAt=function(t){var e=t-this._baseTime;t=this.progress+(e-this.gt)*this.ta,this.gt=e,this.progress=t,t<this.bounds.end?t>this.bounds.start?this.inside(t):this.before():this.after()},i.prototype.updateRender=function(){this.active===!1&&e.prototype.updateRender.call(this)},i.prototype.setStateToBefore=function(){e.prototype.setStateToBefore.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.BEFORE,this))},i.prototype.setStateToInside=function(){e.prototype.setStateToInside.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.START,this))},i.prototype.setStateToAfter=function(){e.prototype.setStateToAfter.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.AFTER,this))},i.prototype.__inside_before=function(){e.prototype.__inside_before.call(this),this.ta<0&&this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this))},i.prototype.__inside_after=function(){e.prototype.__inside_after.call(this),this.ta>0&&this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this))},i.prototype.revert=function(){this.active=!1,this.parent.remove(this),this.lastRenderAt(this.bounds.start)},i.prototype.destroy=function(){this.parent.remove(this),this._baseTime=this.progress=this.bounds=this.active=null,e.prototype.destroy.call(this),this.destroy=null},i.prototype.execute=function(){this.active===!1&&(this._baseTime=this.parent.getProgress()),this.ta>0&&this.bounds.end<this.progress?this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this)):this.ta<0&&this.bounds.start>this.progress?this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this)):(this.active=!0,this.parent.add(this))},i.prototype.forwardFrom=function(t){this.progress=t,this.forward()},i.prototype.forward=function(){this.ta=Math.abs(this.ta),this._baseTime=this.parent.getProgress(),this.gt=this.parent.getProgress()-this._baseTime,this.execute()},i.prototype.backwardFrom=function(t){this.progress=t,this.backward()},i.prototype.backward=function(){this.ta=-Math.abs(this.ta),this._baseTime=this.parent.getProgress(),this.gt=this.parent.getProgress()-this._baseTime,this.execute()},i.prototype.reverse=function(){this.ta=-this.ta,this.gt=this.parent.getProgress()-this._baseTime,this.active=!0,this.parent.add(this)},i.prototype.play=function(){this._baseTime=this.parent.getProgress(),this.progress=this.gt=0,this.active=!0,this.parent.add(this)},i.prototype.stop=function(){this.active=!1,this.parent.remove(this)},i.prototype.finish=function(){this._baseTime=this.parent.getProgress()-this.bounds.end,this.lastRenderAt(this.bounds.end)},i.prototype.pause=function(){this.active=!1,this.parent.remove(this)},i.prototype.resume=function(){this.active===!1&&(this._baseTime=this.parent.getProgress()-this.progress,this.gt=this.progress,this.active=!0,this.parent.add(this))},i}(t.ARenderWithin);t.ATween=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.SetTransition=function(t,e,i,n){throw new Error("Moved into ss.CSS")},t.SetTranslate=function(t,e,i){throw new Error("Moved into ss.CSS")},t.SetTranslateRotate=function(t,e,i,n){throw new Error("Moved into ss.CSS")},t.SetRotateScale=function(t,e,i){throw new Error("Moved into ss.CSS")},t.SetTranslateScaleRotate=function(t,e,i,n,s){throw new Error("Moved into ss.CSS")},t.SetTranslateScale=function(t,e,i,n){throw new Error("Moved into ss.CSS")},t.SetTransformMatrix=function(t,e){throw new Error("Moved into ss.CSS")},t.SetRotate=function(t,e){throw new Error("Moved into ss.CSS")},t.SetScale=function(t,e){throw new Error("Moved into ss.CSS")},t.SetOpacity=function(t,e){throw new Error("Moved into ss.CSS")},t.SetWidth=function(t,e){throw new Error("Moved into ss.CSS")},t.SetHeight=function(t,e){throw new Error("Moved into ss.CSS")},t.SetBgPos=function(t,e,i){throw new Error("Moved into ss.CSS")},t.SetBgColor=function(t,e){throw new Error("Moved into ss.CSS")},t.SetOrigin=function(t,e,i){throw new Error("Moved into ss.CSS")},t.ForceUpdate=function(t){throw new Error("Moved into ss.CSS")},t.RemoveTransition=function(t){throw new Error("Moved into ss.CSS")},t}();t.CSSAnimation=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.FromShape=function(t,e){return function(i,n,s,o){return t.getPointAt(s*i/o+n).y*e}},t.CombineInOut=function(t,e){return function(i,n,s,o){return.5*o>i?t(i,n,s,o):e(i,n,s,o)}},t.ConfigElastic=function(t,e,i){return function(n,s,o,r){return t(n,s,o,r,e,i)}},t.Linear=function(t,e,i,n){return i*t/n+e},t.QuadIn=function(t,e,i,n){return i*(t/=n)*t+e},t.QuadOut=function(t,e,i,n){return-i*(t/=n)*(t-2)+e},t.QuadInOut=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},t.CubicIn=function(t,e,i,n){return i*(t/=n)*t*t+e},t.CubicOut=function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},t.CubicInOut=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},t.QuartIn=function(t,e,i,n){return i*(t/=n)*t*t*t+e},t.QuartOut=function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},t.QuartInOut=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},t.QuintIn=function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},t.QuintOut=function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},t.QuintInOut=function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},t.SineIn=function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},t.SineOut=function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},t.SineInOut=function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e},t.ExpoIn=function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},t.ExpoOut=function(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},t.ExpoInOut=function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*--t)+2)+e},t.CircIn=function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},t.CircOut=function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},t.CircInOut=function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},t.BounceIn=function(e,i,n,s){return n-t.BounceOut(s-e,0,n,s)+i},t.BounceOut=function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},t.BounceInOut=function(e,i,n,s){return s/2>e?.5*t.BounceIn(2*e,0,n,s)+i:.5*t.BounceOut(2*e-s,0,n,s)+.5*n+i},t.ElasticIn=function(t,e,i,n,s,o){if(0===t)return e;if(1===(t/=n))return e+i;o||(o=.3*n),s||(s=1);var r=0;return s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/o))+e},t.ElasticOut=function(t,e,i,n,s,o){if(0===t)return e;if(1===(t/=n))return e+i;o||(o=.3*n),s||(s=1);var r=0;return s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/o)+i+e},t.ElasticInOut=function(t,e,i,n,s,o){if(0===t)return e;if(2===(t/=n/2))return e+i;o||(o=n*(.3*1.5)),s||(s=1);var r=0;return s<Math.abs(i)?(s=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/s),1>t?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/o))+e:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/o)*.5+i+e},t.EaseIn=t.CubicIn,t.EaseOut=t.CubicOut,t.EaseInOut=t.CubicInOut,t}();t.Ease=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i,n,s,o,r){t.call(this),this.start=s,this.bounds.end=o,this.ease=r,this.from=i,this.to=n,this.func=e}return __extends(e,t),e.prototype.change=function(t,e,i,n){this.from=t,this.to=e,this.bounds.start=i,this.bounds.end=n},e.prototype.render=function(){this.func(this.ease(this.progress,this.from,this.to-this.from,this.bounds.end-this.start))},e.prototype.lastRender=function(){this.func(this.ease(Math.min(Math.max(this.progress,this.bounds.start),this.bounds.end),this.from,this.to-this.from,this.bounds.end-this.start))},e.prototype.destroy=function(){this.ease=this.from=this.to=this.func=null,t.prototype.destroy.call(this)},e}(t.ATween);t.FunctionTween=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.subrenders=[],this.amountOfRenders=0}return __extends(i,e),i.prototype.add=function(t){-1==this.subrenders.indexOf(t)&&(this.bounds.concatIn(t.bounds),this.duration=this.bounds.length(),this.subrenders.push(t),this.amountOfRenders++)},i.prototype.remove=function(t){var e=this.subrenders.indexOf(t);if(-1!=e){for(this.subrenders.splice(e,1),this.amountOfRenders--,e=this.amountOfRenders,this.bounds=this.subrenders[--e].bounds.clone();e--;)this.bounds.concatIn(this.subrenders[e].bounds);this.duration=this.bounds.length()}},i.prototype.clear=function(){this.subrenders=[],this.amountOfRenders=this.duration=this.bounds.start=this.bounds.end=0},i.prototype.addFunction=function(e,i,n,s,o,r){this.add(new t.FunctionRender(e,i,n,s,o,r))},i.prototype.addRender=function(e,i,n,s,o,r){this.add(new t.RenderRenderable(e,i,n,s,o,r))},i.prototype.addTween=function(t){t.setParent(this),this.add(t)},i.prototype.removeTween=function(t){this.remove(t),t.resetParent()},i.prototype.render=function(){for(var t=0,e=this.amountOfRenders;e>t;)this.subrenders[t++].renderAt(this.progress)},i.prototype.lastRender=function(){for(var t=Math.min(Math.max(this.progress,this.bounds.start),this.bounds.end),e=0,i=this.amountOfRenders;i>e;)this.subrenders[e++].lastRenderAt(t)},i.prototype._updateRender=function(){for(var t=0,e=this.amountOfRenders;e>t;)this.subrenders[t++].updateRender()},i.prototype.destroy=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].destroy();this.subrenders=null,this.amountOfRenders=0,e.prototype.destroy.call(this)},i}(t.ATween);t.Tween=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.property=t.css.name.TRANSFORM,this.target=i,this.matrix=n}return __extends(i,e),i.FromElement=function(e){return new i(e,t.TransformMatrix.FromElement(e))},i.FromDefault=function(e){return new i(e,t.TransformMatrix.FromDefault())},i.prototype.setMatrix=function(t){this.matrix=t},i.prototype.translate=function(e,i,n,s,o){this.add(new t.PointPropertyRender(this.matrix.t,e,i,n,s,o))},i.prototype.translateX=function(e,i,n,s,o){this.add(new t.PropertyRender(this.matrix.t,"x",e,i,n,s,o))},i.prototype.translateY=function(e,i,n,s,o){this.add(new t.PropertyRender(this.matrix.t,"y",e,i,n,s,o))},i.prototype.scale=function(e,i,n,s,o){this.add(new t.PropertyRender(this.matrix,"sx",e,i,n,s,o)),this.add(new t.PropertyRender(this.matrix,"sy",e,i,n,s,o))},i.prototype.scaleX=function(e,i,n,s,o){this.add(new t.PropertyRender(this.matrix,"sx",e,i,n,s,o))},i.prototype.scaleY=function(e,i,n,s,o){this.add(new t.PropertyRender(this.matrix,"sy",e,i,n,s,o))},i.prototype.rotate=function(e,i,n,s,o){this.add(new t.PropertyRender(this.matrix,"r",e,i,n,s,o))},i.prototype.render=function(){e.prototype.render.call(this),this.target.style[this.property]=this.matrix.toString()},i.prototype.lastRender=function(){e.prototype.lastRender.call(this),this.target.style[this.property]=this.matrix.toString()},i.prototype._updateRender=function(){e.prototype._updateRender.call(this),this.target.style[this.property]=this.matrix.toString()},i.prototype.destroy=function(){this.matrix=null,e.prototype.destroy.call(this)},i}(t.Tween);t.HTMLMatrixTween=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.target=t}return __extends(i,e),i.prototype._onAutoDestroy=function(){delete this.target._tween,e.prototype._onAutoDestroy.call(this)},i.GetOnceTweenFor=function(t){if(t.hasOwnProperty("_tween"))return t._tween.removeAutoPause(),t._tween.makeAutoDestroy(),t._tween;var e=new i(t);return e.makeAutoDestroy(),t._tween=e},i.GetTweenFor=function(t){if(t.hasOwnProperty("_tween"))return t._tween.removeAutoDestroy(),t._tween.makeAutoPause(),t._tween;var e=new i(t);return e.makeAutoPause(),t._tween=e},i.Once=function(t,e,n,s,o){void 0===o&&(o=0);var r,a=i.GetOnceTweenFor(t);a.clear();for(r in e)a.to(r,null,e[r],o,o+n,s);return a.execute(),a},i.To=function(t,e,n,s,o){void 0===o&&(o=0);var r,a=i.GetTweenFor(t);a.clear();for(r in e)a.to(r,null,e[r],o,o+n,s);return a.execute(),a},i.FromTo=function(t,e,n,s,o,r){void 0===r&&(r=0);var a,h=i.GetTweenFor(t);h.clear();for(a in n)h.to(a,e[a]||null,n[a],r,r+s,o);return h.execute(),h},i.ExtendTo=function(t,e,n,s,o){void 0===o&&(o=0);var r,a,h=i.GetTweenFor(t),d=h.getProgress();for(r in e)a=e[r],h.to(r,null,a,d+o,d+o+n,s);return h.resume(),h},i.Clear=function(t){i.GetTweenFor(t).clear()},i.Start=function(t){i.GetTweenFor(t).execute()},i.Stop=function(t){i.GetTweenFor(t).stop()},i.Reverse=function(t){i.GetTweenFor(t).reverse()},i.Finish=function(t){i.GetTweenFor(t).finish()},i.Pause=function(t){i.GetTweenFor(t).pause()},i.Resume=function(t){i.GetTweenFor(t).resume()},i.Destroy=function(t){i.GetTweenFor(t).destroy(),t._tween=void 0},i.prototype.getMatrixTween=function(){return null==this.matrixTween&&(this.matrixTween=t.HTMLMatrixTween.FromElement(this.target),this.add(this.matrixTween)),this.matrixTween},i.prototype.setMatrixDefault=function(e){null==this.matrixTween?(this.matrixTween=new t.HTMLMatrixTween(this.target,e),this.add(this.matrixTween)):this.matrixTween.setMatrix(e)},i.prototype.to=function(t,e,i,n,s,o){isNaN(i)===!1?this.tweenByNumber(t,null,e,i,n,s,o):"string"==typeof i?this.tweenByString(t,e,i,n,s,o):this.tweenByData(t,e,i,n,s,o)},i.prototype.tweenByNumber=function(e,i,n,s,o,r,a){var h=t.CSSPropertyRenderFactory.Get(e);void 0!==h?this.add(h.FromNumberValues(this.target,e,i,n,s,o,r,a)):this.setExtraPropByNumber(e,i,n,s,o,r,a)},i.prototype.tweenByString=function(e,i,n,s,o,r){var a=t.CSSPropertyRenderFactory.Get(e);void 0!==a?this.add(a.CreateFromString(this.target,e,i,n,s,o,r)):this.setExtraPropByString(e,i,n,s,o,r)},i.prototype.tweenByData=function(e,i,n,s,o,r){var a=t.CSSPropertyRenderFactory.Get(e);void 0!==a?this.add(a.CreateFromData(this.target,e,i,n,s,o,r)):this.setExtraPropByData(e,i,n,s,o,r)},i.prototype.setExtraPropByNumber=function(t,e,i,n,s,o,r){t=t.toLowerCase(),"translate"==t||("translatex"==t?this.translateX(i,n,s,o,r):"translatey"==t?this.translateY(i,n,s,o,r):"scale"==t?this.scale(i,n,s,o,r):"scalex"==t?this.scaleX(i,n,s,o,r):"scaley"==t?this.scaleY(i,n,s,o,r):"rotate"==t&&this.rotate(i,n,s,o,r))},i.prototype.setExtraPropByString=function(e,i,n,s,o,r){if(e=e.toLowerCase(),"translate"==e)this.translate(t.Point.FromString(i),t.Point.FromString(n),s,o,r);else if("translatex"==e)this.translateX(parseFloat(i),parseFloat(n),s,o,r);else if("translatey"==e)this.translateY(parseFloat(i),parseFloat(n),s,o,r);else if("scale"==e)this.scale(parseFloat(i),parseFloat(n),s,o,r);else if("scalex"==e)this.scaleX(parseFloat(i),parseFloat(n),s,o,r);else if("scaley"==e)this.scaleY(parseFloat(i),parseFloat(n),s,o,r);else if("rotate"==e){if(null!==i){var a=t.StyleUtility.GetUnit(n),h=parseFloat(i);"deg"==a&&(h=t.MathUtility.ToRadians(h))}else var h=null;var d=t.StyleUtility.GetUnit(n),l=parseFloat(n);"deg"==d&&(l=t.MathUtility.ToRadians(l)),this.rotate(h,l,s,o,r)}},i.prototype.setExtraPropByData=function(t,e,i,n,s,o){t=t.toLowerCase(),"translate"==t&&this.translate(e,i,n,s,o)},i.prototype.translate=function(t,e,i,n,s){var o=this.getMatrixTween();o.translate(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.translateX=function(t,e,i,n,s){var o=this.getMatrixTween();o.translateX(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.translateY=function(t,e,i,n,s){var o=this.getMatrixTween();o.translateY(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.scale=function(t,e,i,n,s){var o=this.getMatrixTween();o.scale(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.scaleX=function(t,e,i,n,s){var o=this.getMatrixTween();o.scaleX(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.scaleY=function(t,e,i,n,s){var o=this.getMatrixTween();o.scaleY(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.rotate=function(t,e,i,n,s){var o=this.getMatrixTween();o.rotate(t,e,i,n,s),this.bounds.concatIn(o.bounds)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.target=null},i}(t.Tween);t.HTMLTween=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e){t.call(this),this.point=e}return __extends(e,t),e.prototype.destroy=function(){this.point=null,t.prototype.destroy.call(this)},e}(t.Tween);t.PointTween=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.call(this),this.bounds=this.limitedBounds=new t.RangeLimited(null,null,null,null)}return __extends(i,e),i.prototype.destroy=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].destroy();this.subrenders=null,this.amountOfRenders=null,e.prototype.destroy.call(this)},i}(t.RenderWithinGroup);t.RenderWithinScope=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.subrenders=[],this.amountOfRenders=0,this.size=t}return __extends(i,e),i.prototype.add=function(t){-1==this.subrenders.indexOf(t)&&(t.setViewportSize(this.size),this.bounds.concatIn(t.bounds),this.duration=this.bounds.length(),this.subrenders.push(t),this.amountOfRenders++)},i.prototype.addAndUpdate=function(t){this.add(t),t.renderAt(this.progress)},i.prototype.remove=function(t){var e=this.subrenders.indexOf(t);-1!=e&&(this.subrenders.splice(e,1),this.amountOfRenders--)},i.prototype.clear=function(){this.subrenders=[],this.amountOfRenders=this.bounds.start=this.bounds.end=0},i.prototype.length=function(){return this.subrenders.length},i.prototype.setStateToBefore=function(){e.prototype.setStateToBefore.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.BEFORE,this))},i.prototype.setStateToInside=function(){e.prototype.setStateToInside.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.START,this))},i.prototype.setStateToAfter=function(){e.prototype.setStateToAfter.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.AFTER,this))},i.prototype.__inside_before=function(){e.prototype.__inside_before.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.COMPLETE,this))},i.prototype.__inside_after=function(){e.prototype.__inside_after.call(this),this.dispatchEvent(new t.SSEvent(t.TweenEvent.COMPLETE,this))},i.prototype.render=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].renderAt(this.progress);
},i.prototype.lastRender=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].lastRenderAt(this.progress)},i.prototype.setViewportSize=function(t){this.size=t,this.bounds.clear();for(var e,i=this.amountOfRenders;i--;)e=this.subrenders[i],e.setViewportSize(t),0==this.bounds.length()?(this.bounds.start=e.bounds.start,this.bounds.end=e.bounds.end):this.bounds.concatIn(e.bounds)},i.prototype.destroy=function(){for(var t=this.amountOfRenders;t--;)this.subrenders[t].destroy();this.subrenders=null,this.amountOfRenders=null,e.prototype.destroy.call(this)},i}(t.ARenderWithin);t.RenderWithinScopeArea=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i){t.call(this,e),this.extra=i}return __extends(e,t),e.prototype.setViewportSize=function(t){this.size=t,this.bounds.clear();for(var e,i=this.amountOfRenders;i--;)e=this.subrenders[i],e.setViewportSize(t),0==this.bounds.length()?(this.bounds.start=e.bounds.start,this.bounds.end=e.bounds.end):this.bounds.concatIn(e.bounds);this.bounds.start-=this.extra,this.bounds.end+=this.extra},e}(t.RenderWithinScopeArea);t.RenderWithinScopeAreaPlusExtra=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e){t.call(this),this.additionalTargetsLength=0,this.target=e}return __extends(e,t),e.prototype.addTarget=function(t){void 0===this.additionalTargets&&(this.additionalTargets=[]),this.additionalTargets.push(t),this.additionalTargetsLength++},e.prototype.render=function(){if(t.prototype.render.call(this),this.target.update(),void 0!==this.additionalTargets)for(var e=this.additionalTargetsLength;e--;)this.additionalTargets[e].update()},e.prototype.lastRender=function(){if(t.prototype.lastRender.call(this),this.target.update(),void 0!==this.additionalTargets)for(var e=this.additionalTargetsLength;e--;)this.additionalTargets[e].update()},e.prototype.destroy=function(){this.target=null,this.additionalTargets=void 0,t.prototype.destroy.call(this)},e}(t.Tween);t.SVGSymbolTween=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e,i){this.h=t,this.s=e,this.l=i}return e.FromString=function(t){var i=t.match(/\d+/g);return new e(parseFloat(i[0])/360,parseFloat(i[1])/100,parseFloat(i[2])/100)},e.FromArray=function(t){return new e(t[0],t[1],t[2])},e.FromRGB=function(t){return e.FromRGBValues(t.r,t.g,t.b)},e.FromRGBValues=function(t,i,n){t/=255,i/=255,n/=255;var s,o,r=Math.max(t,i,n),a=Math.min(t,i,n),h=(r+a)/2;if(r==a)s=o=0;else{var d=r-a;switch(o=h>.5?d/(2-r-a):d/(r+a),r){case t:s=(i-n)/d+(n>i?6:0);break;case i:s=(n-t)/d+2;break;case n:s=(t-i)/d+4}s/=6}return new e(s,o,h)},e.FromJSON=function(t){return new e(t.h,t.s,t.l)},e.FromHEXNumber=function(t){return e.FromRGBValues(t>>16&255,t>>8&255,255&t)},e.prototype.clone=function(){return new e(this.h,this.s,this.l)},e.prototype.toString=function(){return"hsl("+Math.round(360*this.h)+", "+Math.round(100*this.s)+"%, "+Math.round(100*this.l)+"%)"},e.prototype.toJSON=function(){return{h:this.h,s:this.s,l:this.l}},e._HueToRGB=function(t,e,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?t+6*(e-t)*i:.5>i?e:2/3>i?t+(e-t)*(2/3-i)*6:t},e.prototype.toRGB=function(){if(0==this.s)return new t.RGB(this.l,this.l,this.l);var i=this.l<.5?this.l*(1+this.s):this.l+this.s-this.l*this.s,n=2*this.l-i;return new t.RGB(Math.round(255*e._HueToRGB(n,i,this.h+1/3)),Math.round(255*e._HueToRGB(n,i,this.h)),Math.round(255*e._HueToRGB(n,i,this.h-1/3)))},e.prototype.toHEXNumber=function(){var t=this.toRGB();return(t.r<<16)+(t.g<<8)+t.b},e.prototype.blend=function(t,i){return new e(Math.round(this.h+i*(t.h-this.h)),Math.round(this.s+i*(t.s-this.s)),Math.round(this.l+i*(t.l-this.l)))},e.prototype.blendInBetween=function(t,e,i){this.h=Math.round(t.h+i*(e.h-t.h)),this.s=Math.round(t.s+i*(e.s-t.s)),this.l=Math.round(t.l+i*(e.l-t.l))},e}();t.HSL=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e,i){this.r=t,this.g=e,this.b=i}return e.FromString=function(i){var n=i.match(/\d+/g);return n.forEach(t.ArrayUtility.ForEachMakeFloat),e.FromArray(n)},e.FromArray=function(t){return new e(t[0],t[1],t[2])},e.FromJSON=function(t){return new e(t.r,t.g,t.b)},e.FromHex=function(t){return t="#"==t.charAt(0)?t.substring(1,7):t,new e(parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16))},e.FromHexNumber=function(t){return new e(t>>16&255,t>>8&255,255&t)},e.prototype.getLightness=function(){var t=this.r/255,e=this.g/255,i=this.b/255,n=Math.max(t,e,i),s=Math.min(t,e,i);return(n+s)/2},e.prototype.clone=function(){return new e(this.r,this.g,this.b)},e.prototype.toString=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},e.prototype.toHexString=function(){return"#"+t.ColorUtility.PrependZeroIfNecessaryHelper(this.r.toString(16))+t.ColorUtility.PrependZeroIfNecessaryHelper(this.g.toString(16))+t.ColorUtility.PrependZeroIfNecessaryHelper(this.b.toString(16))},e.prototype.toHexNumber=function(){return(this.r<<16)+(this.g<<8)+this.b},e.prototype.toJSON=function(){return{r:this.r,g:this.g,b:this.b}},e.prototype.toRGBA=function(e){return new t.RGBA(this.r,this.g,this.b,e||1)},e.prototype.blendRGB=function(t,i){return new e(Math.round(this.r+i*(t.r-this.r)),Math.round(this.g+i*(t.g-this.g)),Math.round(this.b+i*(t.b-this.b)))},e.prototype.blendInBetween=function(t,e,i){this.r=Math.round(t.r+i*(e.r-t.r)),this.g=Math.round(t.g+i*(e.g-t.g)),this.b=Math.round(t.b+i*(e.b-t.b))},e.prototype.darken=function(t){return this.blendRGB(e.BLACK,t)},e.prototype.brigthen=function(t){return this.blendRGB(e.WHITE,t)},e.BLACK=new e(0,0,0),e.WHITE=new e(255,255,255),e}();t.RGB=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i,n,s){e.call(this,t,i,n),this.a=s}return __extends(i,e),i.FromString=function(e){var n=e.match(/\d+/g);return n.forEach(t.ArrayUtility.ForEachMakeFloat),i.FromArray(n)},i.FromArray=function(t){return new i(t[0],t[1],t[2],t[3]||1)},i.FromJSON=function(t){return new i(t.r,t.g,t.b,t.a)},i.FromHex=function(t){t="#"==t.charAt(0)?t.substring(1,9):t;var e=parseInt(t.substring(6,8),16)/255;return new i(parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16),e||1)},i.prototype.blendRGBA=function(t,e){return new i(Math.round(this.r+e*(t.r-this.r)),Math.round(this.g+e*(t.g-this.g)),Math.round(this.b+e*(t.b-this.b)),Math.round(this.a+e*(t.a-this.a)))},i.prototype.blendRGB=function(t,e){return new i(Math.round(this.r+e*(t.r-this.r)),Math.round(this.g+e*(t.g-this.g)),Math.round(this.b+e*(t.b-this.b)),this.a)},i.prototype.clone=function(){return new i(this.r,this.g,this.b,this.a)},i.prototype.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"},i.prototype.toJSON=function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},i.prototype.toRGB=function(){return new t.RGB(this.r,this.g,this.b)},i}(t.RGB);t.RGBA=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.SetTransition=function(i,n,s,o){if(i.style[t.css.name.TRANSITION]=n,"function"==typeof s||o!==!1){var r=function(t){t.target===i&&(i.removeEventListener("transitionend",r),o!==!1&&e.SetTransition(i,"",null,!1),"function"==typeof s&&s(),t.stopPropagation())};i.addEventListener("transitionend",r)}},e.RemoveTransition=function(e){e.style[t.css.name.TRANSITION]="none"},e.SetOrigin=function(e,i,n){e.style[t.StyleUtility.GetVendorPrefix("TransformOrigin")]=i+"px "+n+"px"},e.SetTranslate=function(e,i,n){e.style[t.css.name.TRANSFORM]=t.Polyfills.Create3DTranslate(i,n)},e.SetTranslateRotate=function(e,i,n,s){e.style[t.css.name.TRANSFORM]=t.Polyfills.Create3DTranslate(i,n)+" rotate("+s+"deg)"},e.SetTranslateScale=function(e,i,n,s){e.style[t.css.name.TRANSFORM]=t.Polyfills.Create3DTranslate(i,n)+" scale("+s+")"},e.SetTranslateScaleRotate=function(e,i,n,s,o){e.style[t.css.name.TRANSFORM]=t.Polyfills.Create3DTranslate(i,n)+" scale("+s+") rotate("+o+"deg)"},e.SetTranslateScaleRotateSkew=function(e,i,n,s,o,r){e.style[t.css.name.TRANSFORM]=t.Polyfills.Create3DTranslate(i,n)+" scale("+s+") rotate("+o+"deg) skew("+r+"deg)"},e.SetRotate=function(e,i){e.style[t.css.name.TRANSFORM]="rotate("+i+"deg)"},e.SetRotateScale=function(e,i,n){e.style[t.css.name.TRANSFORM]="rotate("+i+"deg) scale("+n+")"},e.SetScale=function(e,i){e.style[t.css.name.TRANSFORM]="scale("+i+")"},e.SetScaleXY=function(e,i,n){e.style[t.css.name.TRANSFORM]="scaleX("+i+") scaleY("+n+")"},e.SetTransformMatrix=function(e,i){e.style[t.css.name.TRANSFORM]=i.toString()},e.SetOpacity=function(e,i){e.style[t.css.name.OPACITY]=i},e.ForceUpdate=function(t){t.offsetHeight},e}();t.CSS=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.EaseInOut=function(t){return"cubic-bezier("+t+", 0, "+(1-t)+", 1)"},t.EaseIn=function(t){return"cubic-bezier("+t+", 0, 1, 1)"},t.EaseOut=function(t){return"cubic-bezier(0, 0, "+(1-t)+", 1)"},t.Linear="cubic-bezier(0.250, 0.250, 0.750, 0.750)",t.SineIn="cubic-bezier(0.470, 0.000, 0.745, 0.715)",t.QuadIn="cubic-bezier(0.550, 0.085, 0.680, 0.530)",t.CubicIn="cubic-bezier(0.550, 0.055, 0.675, 0.190)",t.QuartIn="cubic-bezier(0.895, 0.030, 0.685, 0.220)",t.QuintIn="cubic-bezier(0.755, 0.050, 0.855, 0.060)",t.ExpoIn="cubic-bezier(0.950, 0.050, 0.795, 0.035)",t.CircIn="cubic-bezier(0.600, 0.040, 0.980, 0.335)",t.BackIn="cubic-bezier(0.600, -0.280, 0.735, 0.045)",t.SineOut="cubic-bezier(0.390, 0.575, 0.565, 1.000)",t.QuadOut="cubic-bezier(0.250, 0.460, 0.450, 0.940)",t.CubicOut="cubic-bezier(0.215, 0.610, 0.355, 1.000)",t.QuartOut="cubic-bezier(0.165, 0.840, 0.440, 1.000)",t.QuintOut="cubic-bezier(0.230, 1.000, 0.320, 1.000)",t.ExpoOut="cubic-bezier(0.190, 1.000, 0.220, 1.000)",t.CircOut="cubic-bezier(0.075, 0.820, 0.165, 1.000)",t.BackOut="cubic-bezier(0.175, 0.885, 0.320, 1.275)",t.SineInOut="cubic-bezier(0.445, 0.050, 0.550, 0.950)",t.QuadInOut="cubic-bezier(0.455, 0.030, 0.515, 0.955)",t.CubicInOut="cubic-bezier(0.645, 0.045, 0.355, 1.000)",t.QuartInOut="cubic-bezier(0.770, 0.000, 0.175, 1.000)",t.QuintInOut="cubic-bezier(0.860, 0.000, 0.070, 1.000)",t.ExpoInOut="cubic-bezier(1.000, 0.000, 0.000, 1.000)",t.CircInOut="cubic-bezier(0.785, 0.135, 0.150, 0.860)",t.BackInOut="cubic-bezier(0.680, -0.550, 0.265, 1.550)",t.SineInOutFixed="cubic-bezier(0.45, 0, 0.55, 1)",t.QuadInOutFixed="cubic-bezier(0.45, 0, 0.55, 1)",t.CubicInOutFixed="cubic-bezier(0.64, 0, 0.36, 1)",t.QuartInOutFixed="cubic-bezier(0.83, 0, 0.17, 1)",t.QuintInOutFixed="cubic-bezier(0.88, 0, 0.12, 1)",t.ExpoInOutFixed="cubic-bezier(1, 0, 0, 1)",t}();t.CSSEase=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t._UpperCaseFunction=function(t,e){return e.toUpperCase()},t._getVendorStyleName=function(e){if(e=e.charAt(0).toLowerCase()+e.slice(1),e in t._CssTestStyle)return e;for(var i,n=e.charAt(0).toUpperCase()+e.slice(1),s=t._CssPrefixes.length;s--;)if(i=t._CssPrefixes[s]+n,i in t._CssTestStyle)return i},t.GetVendorPrefix=function(e){return t._PrefixTable[e]||(t._PrefixTable[e]=t._getVendorStyleName(e))},t.convertJSPropertyToCSS=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.GetStyleValue=function(t,e,i){var n=window.getComputedStyle(t).getPropertyValue(e);return(null==n||""===n||"none"===n||"auto"===n||"auto auto"===n)&&(n=i?i:"0"),n},t.Support3d=function(){if(void 0===this._support3d){var e=document.createElement("div");try{var i="translate3d(10px, 10px, 10px)";e.style[t.GetVendorPrefix("Transform")]=i,e.style[t.GetVendorPrefix("Transform")]==i?this._support3d=!0:this._support3d=!1}catch(n){this._support3d=!1}}return this._support3d},t.GetUnit=function(e){var i=e.match(t._GetUnitRegex);return i.length>0?i[0]:null},t.ConvertToPercentagesOrAuto=function(t){return null===t?"auto":Math.round(100*t)+"%"},t._RmsPrefix=/^-ms-/,t._RdashAlpha=/-([\da-z])/gi,t._CssPrefixes=["Khtml","O","ms","Moz","Webkit"],t._CssTestStyle=document.getElementsByTagName("html")[0].style,t._PrefixTable={},t._GetUnitRegex=/[a-z%]+/,t}();t.StyleUtility=e}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i=function(){function e(){}return e.OPACITY=t.StyleUtility.GetVendorPrefix("opacity"),e.TRANSFORM=t.StyleUtility.GetVendorPrefix("transform"),e.TRANSFORMORIGIN=t.StyleUtility.GetVendorPrefix("transformOrigin"),e.TRANSITION=t.StyleUtility.GetVendorPrefix("transition"),e.ANIMATIONNAME=t.StyleUtility.GetVendorPrefix("animationName"),e}();e.name=i}(e=t.css||(t.css={}))}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.HasWebGlSupport=function(){var t,e,i={antialias:!0,stencil:!1,depth:!1};try{t=document.createElement("canvas"),e=t.getContext("webgl",i)||t.getContext("experimental-webgl",i)}catch(n){}return!!e},e.HasCanvasSupport=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},e.Has3D=function(){return e._has3DSupport||e._Has3DCheck()},e._Has3DCheck=function(){if(!window.getComputedStyle)return!1;var e,i=document.createElement("p"),n=t.StyleUtility.GetVendorPrefix("transform");return document.body.insertBefore(i,null),void 0!==i.style[n]&&(i.style[n]="translate3d(1px,1px,1px)",e=window.getComputedStyle(i).getPropertyValue(n)),document.body.removeChild(i),void 0!==e&&""!==e&&"none"!==e},e.GetViewportSize=function(){return new t.Area(e.GetViewportWidth(),e.GetViewportHeight())},e.GetViewportWidth=function(){return window.innerWidth},e.GetViewportHeight=function(){return window.innerHeight},e.GetDocumentHeight=function(){return document.body.scrollHeight},e.Init=function(){var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("msie"))this.IsIE=!0,this.IEVersion=parseInt(t.split("msie")[1]);else if(-1!=t.indexOf("firefox"))this.IsFireFox=!0;else if(-1!=t.indexOf("opera"))this.IsOpera=!0;else if(-1!=t.indexOf("chrome"))this.IsChrome=!0;else if(-1!=t.indexOf("crios"))this.IsChrome=!0;else if(-1!=t.indexOf("safari")){this.IsSafari=!0;var e=t.match(/version\/(\d+)/i).splice(1,1)[0];this.SafariVersion=parseInt(e)}},e.HasPopState="onpopstate"in window,e.HasTouch="ontouchstart"in window,e.IsLessOrEqualToIE8=document.addEventListener?!1:!0,e.IsMobileDevice=null!==navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(BlackBerry)|(IEMobile)|(Opera Mini)|(webOS)/i)?!0:!1,e.PixelRatio=window.devicePixelRatio?window.devicePixelRatio:1,e.PixelRatioInt=Math.ceil(e.PixelRatio),e.IsMac=-1!==navigator.platform.toUpperCase().indexOf("MAC"),e.IsIOS=e.IsMobileDevice&&null!==navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)/i)?!0:!1,e.IsAndroid=e.IsMobileDevice&&null!==navigator.userAgent.match(/(Android)/i)?!0:!1,e.IsIE=!1,e.IsChrome=!1,e.IsSafari=!1,e.IsOpera=!1,e}();t.DeviceInfo=e}(ss||(ss={})),ss.DeviceInfo.Init();var ss;!function(t){var e=function(){function t(){}return t}();t.MouseEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e){this.type=t,this.target=e}return t}();t.SSEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.PLAYING="play",t.PAUSED="pause",t.TIME_UPDATE="timeupdate",t.END="ended",t}();t.VideoPlaybackEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.PLAYING="play",t.PAUSED="pause",t.TIME_UPDATE="timeupdate",t.END="ended",t.CHANGE_FULLSCREEN="change_fullscreen",t.ENTER_FULLSCREEN="enter_fullscreen",t.EXIT_FULLSCREEN="exit_fullscreen",t}();t.VideoPlayerEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e){this.type=t,this.target=e}return t.SHOWN="show_complete",t.HIDDEN="hide_complete",t}();t.YoYoEvent=e}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i=function(e){function i(){e.call(this),this.fields=[],this.__attachFieldSetHTML=this.__default_attachFieldSetHTML,this.__dettachFieldSetHTML=this.__default_attachFieldSetHTML,this.fieldsetHTML=document.createElement("fieldset")}return __extends(i,e),i.prototype.addTitle=function(e){var i=document.createElement("div");t.HTML.AddClass(i,"titlecon");var n=document.createElement("div");n.innerHTML=e,i.appendChild(n),this.fieldsetHTML.appendChild(i)},i.prototype.addField=function(t){this.fields.push(t)},i.prototype.focusNext=function(t){var e=this.fields.indexOf(t)+1;e<this.fields.length&&this.fields[e].setFocus()},i.prototype.renderHTML=function(t){this.form=t,this.__attachFieldSetHTML();for(var e=0;e<this.fields.length;e++)this.fields[e].renderHTML(this)},i.prototype.__default_attachFieldSetHTML=function(){this.form.attachFieldSetHtml(this.fieldsetHTML),this.__attachFieldSetHTML=this.__isAttached_attachFieldSetHTML,this.__dettachFieldSetHTML=this.__isAttached_dettachFieldSetHTML},i.prototype.__isAttached_attachFieldSetHTML=function(){},i.prototype.__default_dettachFieldSetHTML=function(){},i.prototype.__isAttached_dettachFieldSetHTML=function(){this.form.dettachFieldSetHtml(this.fieldsetHTML),this.__attachFieldSetHTML=this.__default_attachFieldSetHTML,this.__dettachFieldSetHTML=this.__default_dettachFieldSetHTML},i.prototype.attachFieldHtml=function(t){this.fieldsetHTML.appendChild(t)},i.prototype.dettachFieldHtml=function(t){this.fieldsetHTML.removeChild(t)},i.prototype.validate=function(){for(var t=!0,e=0;e<this.fields.length;e++)this.fields[e].validate()===!1&&(t=!1);return t},i.prototype.getFieldValuesAsJSON=function(t){void 0===t&&(t={});for(var e,i=0;i<this.fields.length;i++)e=this.fields[i],t[e.getID()]=e.getValueAsJSON();return t},i.prototype.destroy=function(){for(var t=0;t<this.fields.length;t++)this.fields[t].destroy(),this.fields[t]=null;this.fields=null,this.__dettachFieldSetHTML()},i}(t.EventDispatcher);e.FieldSet=i}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i=function(i){function n(e){i.call(this),this.fieldsets=[],this.onSubmitHandlerBind=this.onSubmitHandler.bind(this),this.htmlForm=document.createElement("form"),this.htmlForm.id=e,this.htmlForm.enctype="multipart/form-data",t.HTML.AddClass(this.htmlForm,"ss-form"),this.htmlForm.onsubmit=this.onSubmitHandlerBind}return __extends(n,i),n.prototype.addAction=function(t){this.actionURL=t,this.htmlForm.action=t},n.prototype.addFieldGroup=function(t){this.fieldsets.push(t)},n.prototype.getHTML=function(){for(var t=0;t<this.fieldsets.length;t++)this.fieldsets[t].renderHTML(this);return this.htmlForm},n.prototype.attachFieldSetHtml=function(t){this.htmlForm.appendChild(t)},n.prototype.dettachFieldSetHtml=function(t){this.htmlForm.removeChild(t)},n.prototype.submit=function(){this.htmlForm.submit()},n.prototype.toJSON=function(){for(var t={},e=0;e<this.fieldsets.length;e++)this.fieldsets[e].getFieldValuesAsJSON(t);return t},n.prototype.getDataAsFormData=function(){var t=new FormData;t.append("formfield","value");var e='<a id="a"><b id="b">hey!</b></a>',i=new Blob([e],{type:"text/xml"});return t.append("webmasterfile",i),t},n.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.prototype.isValid=function(){for(var t=!0,e=0;e<this.fieldsets.length;e++)this.fieldsets[e].validate()===!1&&(t=!1);return t},n.prototype.onSubmitHandler=function(t){var i=this.isValid();return i===!0&&(this.dispatchEvent({type:e.FormEvent.SUBMIT,target:this}),null!=this.actionURL)?!0:!1},n.prototype.destroy=function(){for(var t=0;t<this.fieldsets.length;t++)this.fieldsets[t].destroy(),this.fieldsets[t]=null;this.fieldsets=null},n}(t.EventDispatcher);e.Form=i}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(){function t(){}return t.SUBMIT="submit",t}();t.FormEvent=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.isExecuting=!1,this.execute=this.__default_execute,this.revert=this.__}return __extends(i,e),i.prototype.__=function(){},i.prototype.setStateToDefault=function(){this.isExecuting=!1,this.execute=this.__default_execute,this.revert=this.__},i.prototype.setStateToExecuting=function(){this.isExecuting=!0,this.execute=this.__executing_execute,this.revert=this.__executing_revert},i.prototype.setStateToComplete=function(){this.isExecuting=!1,this.execute=this.__complete_execute,this.revert=this.__complete_revert},i.prototype.__default_execute=function(){},i.prototype.__executing_execute=function(){},i.prototype.__complete_execute=function(){this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.onExecuteComplete=function(e){this.setStateToComplete(),this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this))},i.prototype.__executing_revert=function(){this.setStateToDefault()},i.prototype.__complete_revert=function(){this.setStateToDefault()},i.prototype.destroy=function(){this.revert(),e.prototype.destroy.call(this)},i}(t.EventDispatcher);t.ARevertableTask=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.assemble=this.__default_assemble,this.__executingComplete_assembleBind=this.__executingComplete_assemble.bind(this),this.disassemble=this.__default_disassemble}return __extends(i,e),i.prototype.setStateToDefault=function(){this.assemble=this.__default_assemble,this.disassemble=this.__default_disassemble,e.prototype.setStateToDefault.call(this)},i.prototype.setStateToExecuting=function(){this.assemble=this.__executing_assemble,this.disassemble=this.__executing_disassemble,e.prototype.setStateToExecuting.call(this)},i.prototype.setStateToComplete=function(){this.assemble=this.__complete_assemble,this.disassemble=this.__complete_disassemble,e.prototype.setStateToComplete.call(this)},i.prototype.setStateToAssembled=function(){this.assemble=this.__assembled_assemble,this.disassemble=this.__assembled_disassemble,this.execute=this.__assembled_execute,this.revert=this.__assembled_revert},i.prototype.__assembled_execute=function(){this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.__assembled_revert=function(){this.__assembled_disassemble(),this.__complete_revert()},i.prototype.__default_assemble=function(){this.__executing_assemble(),this.execute()},i.prototype.__executing_assemble=function(){this.addEventListener(t.TaskEvent.COMPLETE,this.__executingComplete_assembleBind)},i.prototype.__executingComplete_assemble=function(){this.removeEventListener(t.TaskEvent.COMPLETE,this.__executingComplete_assembleBind),this.assemble()},i.prototype.__complete_assemble=function(){this.setStateToAssembled()},i.prototype.__assembled_assemble=function(){},i.prototype.__default_disassemble=function(){},i.prototype.__executing_disassemble=function(){},i.prototype.__complete_disassemble=function(){},i.prototype.__assembled_disassemble=function(){this.setStateToComplete()},i.prototype.destroy=function(){this.assemble=null,this.disassemble=null,e.prototype.destroy.call(this)},i}(t.ARevertableTask);t.ACraftableObject=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.show=this.__default_show,this.__executingComplete_showBind=this.__executingComplete_show.bind(this),this.hide=this.__default_hide}return __extends(i,e),i.prototype.setStateToDefault=function(){this.hide=this.__default_hide,this.show=this.__default_show,e.prototype.setStateToDefault.call(this)},i.prototype.setStateToExecuting=function(){this.hide=this.__executing_hide,this.show=this.__executing_show,e.prototype.setStateToExecuting.call(this)},i.prototype.setStateToComplete=function(){this.hide=this.__complete_hide,this.show=this.__complete_show,e.prototype.setStateToComplete.call(this)},i.prototype.setStateToAssembled=function(){this.hide=this.__assembled_hide,this.show=this.__assembled_show,e.prototype.setStateToAssembled.call(this)},i.prototype.setStateToShowing=function(){this.hide=this.__showing_hide,this.show=this.__showing_show,this.assemble=this.__showing_assemble,this.disassemble=this.__showing_disassemble,this.execute=this.__showing_execute,this.revert=this.__showing_revert},i.prototype.setStateToShown=function(){this.hide=this.__shown_hide,this.show=this.__shown_show,this.assemble=this.__shown_assemble,this.disassemble=this.__shown_disassemble,this.execute=this.__shown_execute,this.revert=this.__shown_revert},i.prototype.setStateToHidding=function(){this.hide=this.__hidding_hide,this.show=this.__hidding_show,this.assemble=this.__hidding_assemble,this.disassemble=this.__hidding_disassemble,this.execute=this.__hidding_execute,this.revert=this.__hidding_revert},i.prototype.__showing_execute=function(){this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.__shown_execute=function(){this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.__hidding_execute=function(){this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.__showing_revert=function(){this.instantHide(),this.revert()},i.prototype.__shown_revert=function(){this.instantHide(),this.revert()},i.prototype.__hidding_revert=function(){this.instantHide(),this.revert()},i.prototype.instantHide=function(){throw new TypeError("AYoYoObjecy: instantHide() must be overwritten by the sub class.")},i.prototype.__showing_assemble=function(){},i.prototype.__shown_assemble=function(){},i.prototype.__hidding_assemble=function(){},i.prototype.__showing_disassemble=function(){this.instantHide(),this.disassemble()},i.prototype.__shown_disassemble=function(){this.instantHide(),this.disassemble()},i.prototype.__hidding_disassemble=function(){this.instantHide(),this.disassemble()},i.prototype.__default_show=function(){this.__executing_show(),this.execute()},i.prototype.__executing_show=function(){this.addEventListener(t.TaskEvent.COMPLETE,this.__executingComplete_showBind)},i.prototype.__executingComplete_show=function(){this.removeEventListener(t.TaskEvent.COMPLETE,this.__executingComplete_showBind),this.__complete_show()},i.prototype.__complete_show=function(){this.assemble(),this.show()},i.prototype.__assembled_show=function(){this.onShowComplete()},i.prototype.__showing_show=function(){},i.prototype.onShowComplete=function(e){this.setStateToShown(),this.dispatchEvent(new t.YoYoEvent(t.YoYoEvent.SHOWN,this))},i.prototype.__shown_show=function(){},i.prototype.__hidding_show=function(){this.__assembled_show()},i.prototype.__default_hide=function(){},i.prototype.__executing_hide=function(){},i.prototype.__complete_hide=function(){},i.prototype.__assembled_hide=function(){},i.prototype.__showing_hide=function(){this.__shown_hide()},i.prototype.__hidding_hide=function(){},i.prototype.__shown_hide=function(){this.onHideComplete()},i.prototype.onHideComplete=function(e){this.setStateToAssembled(),this.dispatchEvent(new t.YoYoEvent(t.YoYoEvent.HIDDEN,this))},i.prototype.destroy=function(){this.assemble=null,this.disassemble=null,this.show=null,this.hide=null,e.prototype.destroy.call(this)},i}(t.ACraftableObject);t.AYoYoObject=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t){this.v=t}return e.FromString=function(t){var i=t.split(":"),n=parseFloat(i[0])/parseFloat(i[1]);return new e(n)},e.prototype.clone=function(){return new e(this.valueOf())},e.prototype.equal=function(t){return t.valueOf()==this.valueOf()},e.prototype.getHeightFromWidth=function(t){return t/this.v},e.prototype.getWidthFromHeight=function(t){return t*this.v},e.prototype.getAreaInsideBox=function(e){return new t.Area(0,0)},e.prototype.getAreaOutsideBox=function(e){return new t.Area(0,0)},e.prototype.valueOf=function(){return this.v},e.prototype.toNumber=function(){return this.v},e.prototype.toString=function(){return this.v.toString()},e.prototype.toJSON=function(){return{v:this.toString()}},e}();t.AspectRatio=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t){this.count=t}return t.prototype.add=function(t){this.count+=t},t.prototype.get=function(){return this.count},t}();t.Counter=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e){t.call(this),this.func=e}return __extends(e,t),e.prototype.__default_execute=function(){this.func(),this.setStateToComplete()},e.prototype.destroy=function(){this.func=null,t.prototype.destroy.call(this)},e}(t.ARevertableTask);t.FunctionTask=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this._=t,this.cols=e,this.len=t.length}return e.FromString=function(i,n){i=i.split("(")[1],i=i.split(")")[0];var s=i.split(",");return s.forEach(t.ArrayUtility.ForEachMakeFloat),new e(s,n)},e.prototype.clone=function(){return new e(t.ArrayUtility.CloneArray(this._),this.cols)},e.prototype.toString=function(){return this._.join(", ")},e.prototype.get=function(t){return this._[t]},e.prototype.set=function(t){return this._[t]},e.prototype.interpolate=function(i,n){for(var s=[],o=this.len;o--;)s[o]=t.MathUtility.Lerp(this._[o],i._[o],n);return new e(s,this.cols)},e.prototype.multiply=function(t){},e.prototype.fromArray=function(t){},e}();t.Matrix=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e){this.start=t,this.end=e}return t.FromArrayProperty=function(t){throw new Error("This function is not done")},t.FromUnorderedArray=function(e){return new t(Math.min.apply(null,e),Math.max.apply(null,e))},t.FromUnorderedValues=function(e,i){return i>e?new t(e,i):new t(i,e)},t.prototype.clone=function(){return new t(this.start,this.end)},t.prototype.clear=function(){this.start=this.end=0},t.prototype.contains=function(t){return t>=this.start&&t<=this.end},t.prototype.containsRange=function(t){return t.start>=this.start&&t.end<=this.end},t.prototype.intersectsWithRange=function(t){return t.start<=this.end&&t.end>=this.start||t.end>=this.start&&t.start<=this.end},t.prototype.concat=function(e){return new t(Math.min(this.start,e.start),Math.max(this.end,e.end))},t.prototype.concatIn=function(t){null==this.start?(this.start=t.start,this.end=t.end):(this.start=Math.min(this.start,t.start),this.end=Math.max(this.end,t.end))},t.prototype.include=function(e){return new t(Math.min(this.start,e),Math.max(this.end,e))},t.prototype.includeIn=function(t){null==this.start?(this.start=t,this.end=t):(this.start=Math.min(this.start,t),this.end=Math.max(this.end,t))},t.prototype.intersection=function(e){var i=Math.max(this.start,e.start),n=Math.min(this.end,e.end);return n>=i?new t(i,n):null},t.prototype.equals=function(t){return this.start==t.start&&this.end==t.end},t.prototype.distanceToNumber=function(t){return t<this.start?this.start-t:t>this.end?t-this.end:0},t.prototype.distanceToRange=function(t){return t.end<this.start?this.start-t.end:t.start>this.end?t.start-this.end:0},t.prototype.getLimitedValue=function(t){return Math.min(this.end,Math.max(this.start,t))},t.prototype.length=function(){return this.end-this.start},t.prototype.toString=function(){return"["+this.start+"-"+this.end+"]"},t}();t.Range=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i,n,s){t.call(this,e,i),this.startLimit=n,this.endLimit=s,this.insideRange=t.prototype.clone.call(this),this.processRange()}return __extends(e,t),e.prototype.clone=function(){return new e(this.start,this.end,this.startLimit,this.endLimit)},e.prototype.clear=function(){t.prototype.clear.call(this),this.insideRange.clear()},e.prototype.concatIn=function(t){this.insideRange.concatIn(t),this.processRange()},e.prototype.includeIn=function(t){this.insideRange.includeIn(t),this.processRange()},e.prototype.setLimit=function(t,e){this.startLimit=t,this.endLimit=e,this.processRange()},e.prototype.processRange=function(){this.start=Math.max(this.startLimit,this.insideRange.start),this.end=Math.max(this.endLimit,this.insideRange.end)},e}(t.Range);t.RangeLimited=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t){this._=[],this.len=0,this.key=t}return t.prototype.addAt=function(t){return 0==this.len?void this._.push(t):void this._addAt(t,0,this.len-1)},t.prototype._addAt=function(t,e,i){var n=t[this.key];if(n>=this._[i][this.key])return void this._.splice(i+1,0,t);if(n<=this._[e][this.key])return void this._.splice(e,0,t);if(!(e>=i)){var s=e+Math.floor((i-e)/2),o=this._[s][this.key];o>n?this._addAt(t,e,s-1):n>o?this._addAt(t,s+1,i):this._.splice(s,0,t)}},t}();t.SortedListByKey=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t){this.starts=[],this.ends=[],this.len=0,this.key=t}return t.prototype.addAt=function(t){if(0==this.len)return this.starts.push(t),void this.ends.push(t);var e=this.len-1;
this._addStartAt(t,0,e),this._addEndAt(t,0,e),this.len++},t.prototype._addStartAt=function(t,e,i){var n=t[this.key];if(n.start>=this.starts[i][this.key].start&&this.starts.splice(i+1,0,t),n.start<=this.starts[e][this.key].start)return void this.starts.splice(e,0,t);if(!(e>=i)){var s=e+Math.floor((i-e)/2),o=this.starts[s][this.key];n.start<o?this._addStartAt(t,e,s-1):n.start>o?this._addStartAt(t,s+1,i):this.starts.splice(s,0,t)}},t.prototype._addEndAt=function(t,e,i){var n=t[this.key];if(n.end>=this.ends[i][this.key].end&&this.ends.splice(i+1,0,t),n.end<=this.ends[e][this.key].end)return void this.ends.splice(e,0,t);if(!(e>=i)){var s=e+Math.floor((i-e)/2),o=this.ends[s][this.key];n.end<o?this._addEndAt(t,e,s-1):n.end>o?this._addEndAt(t,s+1,i):this.starts.splice(s,0,t)}},t}();t.SortedRangeListByKey=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.tasks=new Array,this.nTasks=0,this.nExecutedTasks=0,this.onQueueItemErrorHandlerBind=this.onQueueItemCompleteHandler.bind(this),this.onQueueItemCompleteHandlerBind=this.onQueueItemCompleteHandler.bind(this)}return __extends(i,e),i.prototype.addTask=function(t){this.tasks.push(t),this.nTasks++},i.prototype.__default_execute=function(){return this.nExecutedTasks==this.nTasks?void this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this}):(this.currentTask=this.tasks[this.nExecutedTasks],this.currentTask.addEventListener(t.TaskEvent.COMPLETE,this.onQueueItemCompleteHandlerBind),this.currentTask.addEventListener(t.TaskEvent.ERROR,this.onQueueItemCompleteHandlerBind),this.setStateToExecuting(),void this.currentTask.execute())},i.prototype.__executing_revert=function(){this.currentTask.removeEventListener(t.TaskEvent.COMPLETE,this.onQueueItemCompleteHandlerBind),this.currentTask.removeEventListener(t.TaskEvent.ERROR,this.onQueueItemCompleteHandlerBind),this.currentTask.revert(),this.currentTask=null,e.prototype.__executing_revert.call(this)},i.prototype.destroy=function(){e.prototype.destroy.call(this),this.tasks=this.nTasks=this.nExecutedTasks=null},i.prototype.onQueueItemErrorHandler=function(e){this.dispatchEvent({type:t.TaskEvent.ERROR,target:this}),this.breakOnError!==!0?this.onQueueItemCompleteHandler(e):(this.currentTask.removeEventListener(t.TaskEvent.COMPLETE,this.onQueueItemCompleteHandlerBind),this.currentTask.removeEventListener(t.TaskEvent.ERROR,this.onQueueItemCompleteHandlerBind),this.currentTask=null,this.setStateToDefault())},i.prototype.onQueueItemCompleteHandler=function(e){this.currentTask.removeEventListener(t.TaskEvent.COMPLETE,this.onQueueItemCompleteHandlerBind),this.currentTask.removeEventListener(t.TaskEvent.ERROR,this.onQueueItemCompleteHandlerBind),this.currentTask=null,this.nExecutedTasks++,this.setStateToDefault(),this.execute()},i}(t.ARevertableTask);t.TaskQueue=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments),this.tasks=new Array,this.runningTasks=new Array,this.nTasks=0,this.nExecutedTasks=0,this.onQueueItemErrorHandlerBind=this.onQueueItemCompleteHandler.bind(this),this.onQueueItemCompleteHandlerBind=this.onQueueItemCompleteHandler.bind(this)}return __extends(i,e),i.prototype.addTask=function(t){this.tasks.push(t),this.nTasks++,this.isExecuting===!0&&this.executeTask(t)},i.prototype.executeTask=function(e){e.addEventListener(t.TaskEvent.COMPLETE,this.onQueueItemCompleteHandlerBind),e.addEventListener(t.TaskEvent.ERROR,this.onQueueItemCompleteHandlerBind),e.execute()},i.prototype.cleanTask=function(e){e.removeEventListener(t.TaskEvent.COMPLETE,this.onQueueItemCompleteHandlerBind),e.removeEventListener(t.TaskEvent.ERROR,this.onQueueItemCompleteHandlerBind)},i.prototype.cancelTask=function(t){this.cleanTask(t),t.revert()},i.prototype.__default_execute=function(){e.prototype.setStateToExecuting.call(this),this.runningTasks=t.ArrayUtility.CloneArray(this.tasks);var i=0,n=this.nTasks;if(0===n)this.setStateToDefault(),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this});else for(;n>i;)this.executeTask(this.tasks[i++])},i.prototype.__complete_execute=function(){this.nExecutedTasks==this.nTasks?e.prototype.dispatchEvent.call(this,{type:t.TaskEvent.COMPLETE,target:this}):this.__default_execute()},i.prototype.__executing_revert=function(){for(var t=this.nTasks-this.nExecutedTasks;t--;)this.cancelTask(this.runningTasks[t]);this.setStateToDefault()},i.prototype.__complete_revert=function(){for(var t=this.nTasks;t--;)this.tasks[t].revert();this.setStateToDefault()},i.prototype.destroy=function(){this.revert(),this.tasks=this.nTasks=this.nExecutedTasks=null},i.prototype.onQueueItemErrorHandler=function(e){this.runningTasks.removeElement(e.target),this.dispatchEvent({type:t.TaskEvent.ERROR,target:this}),this.breakOnError!==!0?this.onQueueItemCompleteHandler(e):(this.cleanTask(e.target),this.setStateToDefault())},i.prototype.onQueueItemCompleteHandler=function(e){this.cleanTask(e.target),this.runningTasks.removeElement(e.target),++this.nExecutedTasks==this.nTasks&&(this.setStateToDefault(),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this}))},i}(t.ARevertableTask);t.TaskQueueAsync=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s){this.t=e,this.sx=i,this.sy=n,this.r=t.MathUtility.Modulo(s,t.MathUtility.DOUBLE_PI)}return e.FromJSON=function(i){return new e(t.Point.FromJSON(i.origin),i.scaleX,i.scaleY,i.rotation)},e.FromElement=function(i){return e.FromTransformString(t.StyleUtility.GetStyleValue(i,t.css.name.TRANSFORM,"matrix(1,0,0,1,0,0)"))},e.FromDefault=function(){return new e(new t.Point(0,0),1,1,0)},e.FromTransformString=function(i){for(var n,s,o,r=e.FromDefault(),a=e._extractTransformCommands;n=a.exec(i);)if(s=n[2].toLowerCase(),o=n[3].split(","),"matrix"==s)r=e.FromValues(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[4]),parseFloat(o[5]));else if("translate"==s)r.addTranslateValueIn(parseFloat(o[0]),parseFloat(o[1]));else if("translate3d"==s)r.addTranslateValueIn(parseFloat(o[0]),parseFloat(o[1]));else if("translatex"==s)r.addTranslateXIn(parseFloat(o[0]));else if("translatey"==s)r.addTranslateYIn(parseFloat(o[0]));else if("scale"==s)r.multiplyScaleIn(parseFloat(o[0]),parseFloat(o[1]));else if("scalex"==s)r.multiplyScaleXIn(parseFloat(o[0]));else if("scaley"==s)r.multiplyScaleYIn(parseFloat(o[0]));else if("rotate"==s){var h=t.StyleUtility.GetUnit(o[0]),d=parseFloat(o[0]);"deg"==h&&(d=t.MathUtility.ToRadians(d)),r.addRotateIn(d)}return r},e.FromString=function(i){var n=i.split("(")[1].split(")")[0].split(",");return n.forEach(t.ArrayUtility.ForEachMakeFloat),e.FromArray(n)},e.FromArray=function(t){return e.FromValues(t[0],t[1],t[2],t[3],t[4],t[5])},e.FromValues=function(i,n,s,o,r,a){var h=new t.Point(Math.round(r),Math.round(a)),d=Math.sqrt(i*i+n*n),l=Math.atan2(n,i);return 0>l&&(l+=t.MathUtility.DOUBLE_PI),new e(h,d,d,l)},e.prototype.set=function(e,i,n,s){this.t=e,this.sx=i,this.sy=n,this.r=t.MathUtility.Modulo(s,t.MathUtility.DOUBLE_PI)},e.prototype.setOrigin=function(t){this.t=t},e.prototype.clone=function(){return new e(this.t.clone(),this.sx,this.sy,this.r)},e.prototype.interpolate=function(t,e){var i=this.clone();return i.interpolateIn(t,e),i},e.prototype.interpolateIn=function(e,i){this.t.lerpIn(e.t,i),this.sx=t.MathUtility.Lerp(this.sx,e.sx,i),this.sy=t.MathUtility.Lerp(this.sy,e.sy,i),this.r=t.MathUtility.LerpRadians(this.r,e.r,i)},e.prototype.translateIn=function(t){this.t.x=t.x,this.t.y=t.y},e.prototype.addTranslateIn=function(t){this.t.x+=t.x,this.t.y+=t.y},e.prototype.translateValueIn=function(t,e){this.t.x=t,this.t.y=e},e.prototype.addTranslateValueIn=function(t,e){this.t.x+=t,this.t.y+=e},e.prototype.translateXIn=function(t){this.t.x=t},e.prototype.addTranslateXIn=function(t){this.t.x+=t},e.prototype.translateYIn=function(t){this.t.y=t},e.prototype.addTranslateYIn=function(t){this.t.y+=t},e.prototype.scaleIn=function(t,e){this.sx=t,this.sy=e},e.prototype.addScaleIn=function(t,e){this.sx+=t,this.sy+=e},e.prototype.multiplyScaleIn=function(t,e){this.sx+=t,this.sy*=e},e.prototype.scaleXIn=function(t){this.sx=t},e.prototype.addScaleXIn=function(t){this.sx+=t},e.prototype.multiplyScaleXIn=function(t){this.sx*=t},e.prototype.scaleYIn=function(t){this.sy=t},e.prototype.addScaleYIn=function(t){this.sy+=t},e.prototype.multiplyScaleYIn=function(t){this.sy*=t},e.prototype.rotateIn=function(t){this.r=t},e.prototype.addRotateIn=function(t){this.r+=t},e.prototype.rotation=function(t,e){},e.prototype.toArray=function(){var t=[];return t[0]=Math.cos(this.r)*this.sx,t[1]=Math.sin(this.r)*this.sy,t[2]=Math.sin(this.r)*-this.sx,t[3]=Math.cos(this.r)*this.sy,t[4]=this.t.x,t[5]=this.t.y,t},e.prototype.toMatrix=function(){return new t.Matrix(this.toArray(),3)},e.prototype.toJSON=function(){return{origin:this.t.toJSON(),scalex:this.sx,scaley:this.sy,rotation:this.r}},e.prototype.toString=function(){var t=this.toArray();return"matrix("+t[0].toFixed(10)+", "+t[1].toFixed(10)+", "+t[2].toFixed(10)+", "+t[3].toFixed(10)+", "+t[4].toFixed(10)+", "+t[5].toFixed(10)+")"},e._extractTransformCommands=/(([\w\d^\(]+)\(([^\)]+)*\))+/g,e}();t.TransformMatrix=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.x=t,this.y=e}return e.FromJSON=function(t){return new e(t.x,t.y)},e.FromString=function(t){var i=t.match(/(-?[\d\.?]+)/g);return new e(parseFloat(i[0]),parseFloat(i[1]))},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,e){this.x=t,this.y=e},e.prototype.copy=function(t){this.x=t.x,this.y=t.y},e.prototype.addValues=function(t,i){return new e(this.x+t,this.y+i)},e.prototype.addValuesIn=function(t,e){this.x+=t,this.y+=e},e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.addIn=function(t){this.x+=t.x,this.y+=t.y},e.prototype.subtractValues=function(t,i){return new e(this.x+t,this.y+i)},e.prototype.subtractValuesIn=function(t,e){this.x-=t,this.y-=e},e.prototype.subtract=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.subtractIn=function(t){this.x-=t.x,this.y-=t.y},e.prototype.multiplyValues=function(t,i){return new e(this.x*t,this.y*i)},e.prototype.multiplyValuesIn=function(t,e){this.x*=t,this.y*=e},e.prototype.multiplyByNumber=function(t){return new e(this.x*t,this.y*t)},e.prototype.multiplyByNumberIn=function(t){this.x*=t,this.y*=t},e.prototype.lerp=function(t,i){return new e(this.x+i*(t.x-this.x),this.y+i*(t.y-this.y))},e.prototype.lerpIn=function(t,e){this.x+=e*(t.x-this.x),this.y+=e*(t.y-this.y)},e.prototype.lerpInBetween=function(t,e,i){this.x=t.x+i*(e.x-t.x),this.y=t.y+i*(e.y-t.y)},e.prototype.equal=function(t){return t.x==this.x&&t.y==this.y},e.prototype.getQuadrant=function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3},e.prototype.getQuadrantRelativeTo=function(t){return this.x>=t.x?this.y>=t.y?1:4:this.y>=t.y?2:3},e.prototype.distanceTo=function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},e.prototype.transformIn=function(t){var e=t.toArray();this.x=this.x*e[0]+this.y*e[1]+e[4],this.x=this.x*e[2]+this.y*e[4]+e[5]},e.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.toString=function(){return this.x+","+this.y},e.prototype.toStringWithUnit=function(t){return this.x+t+","+this.y+t},e.prototype.toWiseString=function(){return 0==this.x&&0==this.y?"":this.x+","+this.y},e.prototype.toCSSString=function(){return this.x+" "+this.y},e.prototype.toCSSStringWithUnit=function(t){return this.x+t+" "+this.y+t},e.prototype.toJSON=function(){return{x:this.x,y:this.y}},e.prototype.toSVGString=function(t){return t+this.x+","+this.y},e.prototype.createMorphTo=function(e){return new t.PointMorphRender(this,e)},e.ZERO=new e(0,0),e}();t.Point=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.FromString=function(t){var i=t.match(/(-?[\d\.?]+)/g);return new e(parseFloat(i[0]),parseFloat(i[1]))},e.prototype.toString=function(){return this.x+" "+this.y},e.prototype.toStringWithUnit=function(t){return this.x+t+" "+this.y+t},e.prototype.toWiseString=function(){return 0==this.x&&0==this.y?"":this.x+" "+this.y},e}(t.Point);t.TransformOrigin=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.endOffset=1,this.startOffset=0,this.a=t,this.b=e}return e.prototype.clone=function(){return new e(this.a.clone(),this.b.clone())},e.prototype.length=function(){return 0},e.prototype.getPointAt=function(e){return new t.Point(0,0)},e.prototype.lastPoint=function(){return this.b},e.prototype.offset=function(t,e){return this},e.prototype.toString=function(){return"["+this.a.x+","+this.a.y+"] -> ["+this.b.x+","+this.b.y+"]"},e.prototype.toJSON=function(){return{a:this.a.toJSON(),b:this.b.toJSON()}},e.prototype.toSVGString=function(t){return t+"50,0 A 50,50 0 0 1 100,50"},e}();t.Arc=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e){this.w=t,this.h=e}return t.FromJSON=function(e){return new t(e.w,e.h)},t.FromArray=function(e){return new t(e[0],e[1])},t.FromString=function(e){var i=e.match(/(-?[\d\.?]+)/g);return new t(parseFloat(i[0]),parseFloat(i[1]))},t.FromPoint=function(e){return new t(e.x,e.y)},t.prototype.clone=function(){return new t(this.w,this.h)},t.prototype.length=function(){return 2*this.w+2*this.h},t.prototype.getAspectRatio=function(){return this.w/this.h},t.prototype.turn=function(){var t=this.clone();return t.turnIn(),t},t.prototype.turnIn=function(){var t=this.w;this.w=this.h,this.h=t},t.prototype.add=function(t){var e=this.clone();return e.addIn(t),e},t.prototype.addIn=function(t){this.w+=t.w,this.h+=t.h},t.prototype.subtract=function(t){var e=this.clone();return e.subtractIn(t),e},t.prototype.subtractIn=function(t){this.w-=t.w,this.h-=t.h},t.prototype.multiply=function(t){var e=this.clone();return e.multiplyIn(t),e},t.prototype.multiplyIn=function(t){this.w*=t.w,this.h*=t.h},t.prototype.multiplyByNumber=function(t){var e=this.clone();return e.multiplyByNumberIn(t),e},t.prototype.multiplyByNumberIn=function(t){this.w*=t,this.h*=t},t.prototype.lerp=function(t,e){var i=this.clone();return i.lerpIn(t,e),i},t.prototype.lerpIn=function(t,e){this.w+=this.w*(t.w-this.w),this.h+=this.h*(t.h-this.h)},t.prototype.equal=function(t){return t.w==this.w&&t.h==this.h},t.prototype.toString=function(){return this.w+","+this.h},t.prototype.toJSON=function(){return{w:this.w,h:this.h}},t.prototype.toSVGString=function(t){return t+this.w+","+this.h},t}();t.Area=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.o=t,this.r=e}return e.FromValues=function(i,n,s){return new e(new t.Point(i,n),s)},e.FromJSON=function(i){return new e(t.Point.FromJSON(i.o),i.r)},e.prototype.clone=function(){return new e(this.o.clone(),this.r)},e.prototype.length=function(){return 0},e.prototype.getPointAt=function(e){return new t.Point(0,0)},e.prototype.lastPoint=function(){return this.o},e.prototype.offset=function(t,e){return this},e.prototype.lerp=function(t,e){var i=this.clone();return i.lerpIn(t,e),i},e.prototype.lerpIn=function(t,e){this.o.lerpIn(t.o,e),this.r+=e*(t.r-this.r)},e.prototype.lerpInBetween=function(t,e,i){this.o.lerpInBetween(t.o,e.o,i),this.r=t.r+i*(e.r-t.r)},e.prototype.equal=function(t){return t.o.x==this.o.x&&t.o.y==this.o.y&&t.r==this.r},e.prototype.toString=function(){return"["+this.o+","+this.r+"]"},e.prototype.toJSON=function(){return{o:this.o.toJSON(),r:this.r}},e.prototype.toSVGString=function(t){var e=2*this.r;return t+(this.o.x-this.r)+","+this.o.y+" a"+this.r+","+this.r+" 0 1,0 "+e+",0 a"+this.r+","+this.r+" 0 1,0 "+-e+",0"},e.prototype.createSVGSymbol=function(){return new t.SVGCircleSymbol(this)},e}();t.Circle=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e,i,n){this.a=t,this.aC=e,this.bC=i,this.b=n}return e.FromJSON=function(i){return new e(t.Point.FromJSON(i.a),t.Point.FromJSON(i.aC),t.Point.FromJSON(i.bC),t.Point.FromJSON(i.b))},e.prototype.clone=function(){return new e(this.a.clone(),this.aC.clone(),this.bC.clone(),this.b.clone())},e.prototype.getPointAt=function(t){if(0==t)return this.a;if(1==t)return this.b;var e=this.a.lerp(this.aC,t),i=this.aC.lerp(this.bC,t),n=this.bC.lerp(this.b,t);return e.lerpIn(i,t),i.lerpIn(n,t),e.lerp(i,t)},e.prototype.lastPoint=function(){return this.b},e.prototype.offset=function(t,e){return this.clone().offsetIn(t,e)},e.prototype.offsetIn=function(t,e){return 0==e?(this.aC.x=this.bC.x=this.b.x=this.a.x,this.aC.y=this.bC.y=this.b.y=this.a.y,this):(1!=e&&(this.offsetEndIn(e),t/=e),1==t?(this.a.x=this.aC.x=this.bC.x=this.b.x,this.a.y=this.aC.y=this.bC.y=this.b.y,this):(0!=t&&this.offsetStartIn(t),this))},e.prototype.offsetEndIn=function(t){var e=this.aC.lerp(this.bC,t),i=this.bC.lerp(this.b,t);return this.aC=this.a.lerp(this.aC,t),this.bC=this.aC.lerp(e,t),e=e.lerp(i,t),this.b=this.bC.lerp(e,t),this},e.prototype.offsetStartIn=function(t){var e=this.a.lerp(this.aC,t),i=this.aC.lerp(this.bC,t);return this.bC=this.bC.lerp(this.b,t),e=e.lerp(i,t),this.aC=i.lerp(this.bC,t),this.a=e.lerp(this.aC,t),this},e.prototype.lerpInBetween=function(t,e,i){this.a.lerpInBetween(t.a,e.a,i),this.aC.lerpInBetween(t.aC,e.aC,i),this.bC.lerpInBetween(t.bC,e.bC,i),this.b.lerpInBetween(t.b,e.b,i)},e.prototype.length=function(){var e=.5,i=this.a.lerp(this.aC,e),n=this.aC.lerp(this.bC,e),s=this.bC.lerp(this.b,e),o=i.lerp(n,e),r=n.lerp(s,e),a=o.lerp(r,e);return t.GeometryUtility.Distance(this.a,i)+t.GeometryUtility.Distance(i,o)+t.GeometryUtility.Distance(o,a)+t.GeometryUtility.Distance(a,r)+t.GeometryUtility.Distance(r,s)},e.prototype.toString=function(){return"["+this.a.x+","+this.a.y+"] -> ["+this.b.x+","+this.b.y+"]"},e.prototype.toJSON=function(){return{a:this.a.toJSON(),aC:this.aC.toJSON(),bC:this.bC.toJSON(),b:this.b.toJSON()}},e.prototype.toSVGString=function(t){var e=this;return t+e.a.x+","+e.a.y+" C"+e.aC.x+","+e.aC.y+" "+e.bC.x+","+e.bC.y+" "+e.b.x+","+e.b.y},e.prototype.createSVGSymbol=function(){return new t.SVGCubicBezierSymbol(this)},e}();t.CubicBezier=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.a=t,this.b=e}return e.FromValues=function(i,n,s,o){return new e(new t.Point(i,n),new t.Point(s,o))},e.FromJSON=function(i){return new e(t.Point.FromJSON(i.a),t.Point.FromJSON(i.b))},e.prototype.clone=function(){return new e(this.a.clone(),this.b.clone())},e.prototype.length=function(){return Math.sqrt(Math.pow(this.b.x-this.a.x,2)+Math.pow(this.a.y-this.b.y,2))},e.prototype.getPointAt=function(e){return new t.Point(t.MathUtility.Lerp(this.a.x,this.b.x,e),t.MathUtility.Lerp(this.a.y,this.b.y,e))},e.prototype.lastPoint=function(){return this.b},e.prototype.offset=function(t,e){var i=this.clone();return i.offsetIn(t,e),i},e.prototype.offsetIn=function(t,e){if(0==e)this.b.x=this.a.x,this.b.y=this.a.y;else if(1==t)this.a.x=this.b.x,this.a.y=this.b.y;else{var i=this.a;this.a=i.lerp(this.b,t),this.b=i.lerp(this.b,e)}},e.prototype.getAngle=function(){return t.GeometryUtility.CalculateAngle(this.a,this.b)},e.prototype.toString=function(){return"["+this.a.x+","+this.a.y+"] -> ["+this.b.x+","+this.b.y+"]"},e.prototype.toJSON=function(){return{a:this.a.toJSON(),b:this.b.toJSON()}},e.prototype.toSVGString=function(t){return t+this.a.x+","+this.a.y+" L"+this.b.x+","+this.b.y},e.prototype.createSVGSymbol=function(){return new t.SVGLineSymbol(this)},e}();t.Line=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t){this.shape=this.originalShape=t}return t.prototype.clone=function(){return new t(this.shape.clone())},t.prototype.length=function(){return this.shape.length()},t.prototype.getPointAt=function(t){return this.shape.getPointAt(t)},t.prototype.lastPoint=function(){return this.shape.lastPoint()},t.prototype.offset=function(t,e){return this.shape=this.originalShape.offset(t,e)},t.prototype.toString=function(){return this.shape.toString()},t.prototype.toJSON=function(){return this.shape.toJSON()},t.prototype.toSVGString=function(t){return this.shape.toSVGString(t)},t}();t.OffsetableShape=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.segments=[],this.connectSegments=t,this.closed=e}return e.FromArray=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var s=new e(i,n);return s.segments=t,s},e.FromJSON=function(t){return new e},e.FromString=function(t){var i=new e;return i.addString(t),i},e.prototype.clone=function(){return e.FromArray(t.ArrayUtility.CloneCloneableArray(this.segments),this.connectSegments,this.closed)},e.prototype.add=function(t){this.segments.push(t)},e.prototype.addString=function(t){for(var e,i=t.match(/[a-df-z][^a-df-z]*/gi),n=0,s=i.length;s>n;n++){e=i[n][0];var o;this.segments.push(o)}},e.prototype.lineTo=function(e){this.segments.push(new t.Line(this.lastPoint(),e))},e.prototype.length=function(){for(var t=0,e=this.segments.length;e--;)t+=this.segments[e].length();return t},e.prototype.getPointAt=function(t){for(var e=[],i=0,n=this.segments.length,s=0;n>i;i++)s+=this.segments[i].length(),e.push(s);var o,r=s*t,a=0;for(i=0;n>i;i++){if(o=e[i],o>r)return this.segments[i].getPointAt((r-a)/(o-a));a=o}return a=e[n-2],this.segments[n-1].getPointAt((r-a)/(o-a))},e.prototype.lastPoint=function(){var e=this.segments.length;return 0==e?t.Point.ZERO:this.segments[e-1].lastPoint()},e.prototype.getSegmentIndex=function(t){for(var e=[],i=0,n=this.segments.length,s=0;n>i;i++)s+=this.segments[i].length(),e.push(s);var o,r=s*t;for(i=0;n>i;i++)if(o=e[i],o>r)return i;return n-1},e.prototype.offset=function(t,i){if(t>=i)return new e;for(var n,s,o=new e,r=[],a=[],h=[],d=0,l=this.segments.length,u=l-1,c=this.length(),p=0;l>d;){if(r.push(p),n=this.segments[d].length(),h.push(n),p+=n,a.push(p),p/c>t){u=d;break}d++}if(p/c>i)s=d;else for(d++;l>d;){if(r.push(p),n=this.segments[d].length(),h.push(n),p+=n,a.push(p),p/c>i){s=d;break}d++}var f=r[u]/c,v=h[u]/c;if(o.add(this.segments[u].offset((t-f)/v,Math.min((i-f)/v,1))),l=s-1,d=u,s>d){for(;l>d;)o.add(this.segments[++d]);f=r[s]/c,v=h[s]/c,o.add(this.segments[s].offset(Math.max((t-f)/v,0),(i-f)/v))}return o},e.prototype.toString=function(){return this.segments.reduce(this._stringCombineFunc,[]).join(" -> ")},e.prototype._stringCombineFunc=function(t,e){return t.push(e.toString()),t},e.prototype.toJSON=function(){return{}},e.prototype.toSVGString=function(t){var e=[],i=this.segments.length,n=1,s=this.connectSegments?"L":"M";if(i>0){for(e.push(this.segments[0].toSVGString(t));i>n;n++)e.push(this.segments[n].toSVGString(s));this.closed===!0&&e.push("Z")}return e.join(" ")},e.prototype.createSVGSymbol=function(){return new t.SVGPathSymbol(this)},e}();t.Path=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t){this.points=[],this.closed=t||!1}return e.FromArray=function(t,i){var n=new e(i);return n.points=t,n},e.FromNumbers=function(){for(var i=[],n=0;n<arguments.length;n++)i[n-0]=arguments[n];for(var s=new e(closed),o=0,r=i.length;r>o;)s.add(new t.Point(i[o],i[o+1])),o+=2;return s},e.FromSVG=function(t){return e.FromString(t.getAttributeNS(null,"d"))},e.FromString=function(t,i){var n=new e(i);return n.addPointsFromString(t),n},e.FromJSON=function(t){return new e},e.prototype.clone=function(){return e.FromArray(t.ArrayUtility.CloneCloneableArray(this.points),this.closed)},e.prototype.addPointsFromString=function(e){for(var i=e.match(/(-?[\d\.?]+)/g),n=0,s=i.length;s>n;)this.points.push(new t.Point(parseFloat(i[n]),parseFloat(i[n+1]))),n+=2},e.prototype.add=function(t){this.points.push(t)},e.prototype.addAt=function(t,e){this.points.splice(e,0,t)},e.prototype.addAfter=function(t,e){this.points.splice(this.points.indexOf(e),0,t)},e.prototype.length=function(){for(var e=0,i=this.points.length-1,n=this.points[i];i--;)e+=t.GeometryUtility.Distance(this.points[i],n),n=this.points[i];return this.closed===!0&&(e+=t.GeometryUtility.Distance(this.points[this.points.length-1],n)),e},e.prototype.getPointAt=function(e){for(var i,n,s=1,o=this.points.length,r=this.length(),a=r*e,h=this.points[0],d=0;o>s;s++)if(i=h,n=d,h=this.points[s],d+=t.GeometryUtility.Distance(h,i),d>a)return i.lerp(h,(a-n)/(d-n));return this.closed===!0?(i=h,n=d,h=this.points[0],d+=t.GeometryUtility.Distance(h,i),this.points[s-1].lerp(h,(a-n)/(d-n))):i.lerp(h,(a-n)/(d-n))},e.prototype.lastPoint=function(){var e=this.points.length;return 0==e?t.Point.ZERO:this.points[e-1]},e.prototype.offset=function(t,e){return this},e.prototype.toString=function(){return this.points.reduce(t.ArrayUtility.ReduceToString,[]).join(" ")},e.prototype.toJSON=function(){return{}},e.prototype.toSVGString=function(t){var e=[],i=this.points.length,n=1;if(i>0){for(e.push(this.points[0].toSVGString(t));i>n;n++)e.push(this.points[n].toSVGString("L"));this.closed===!0&&e.push(this.points[0].toSVGString("L"))}return e.join(" ")},e.prototype.createSVGSymbol=function(){return new t.SVGPolygonSymbol(this)},e}();t.Polygon=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e,i){this.o=t,this.w=e,this.h=i}return e.FromJSON=function(i){return new e(t.Point.FromJSON(i.o),i.w,i.h)},e.FromNumbers=function(i,n,s,o){return new e(new t.Point(i,n),s,o)},e.FromSVG=function(i){var n=parseFloat(i.getAttributeNS(null,"x")),s=parseFloat(i.getAttributeNS(null,"y")),o=parseFloat(i.getAttributeNS(null,"width")),r=parseFloat(i.getAttributeNS(null,"height"));return new e(new t.Point(n,s),o,r)},e.prototype.set=function(t,e,i){this.o=t,this.w=e,this.h=i},e.prototype.clone=function(){return new e(this.o.clone(),this.w,this.h)},e.prototype.turn=function(){var t=this.clone();return t.turnIn(),t},e.prototype.turnIn=function(){var t=this.o.x;this.o.x=this.o.y,this.o.y=t;var e=this.w;this.w=this.h,this.h=e},e.prototype.add=function(t){var e=this.clone();return e.addIn(t),e},e.prototype.addIn=function(t){this.o.addIn(t.o),this.w+=t.w,this.h+=t.h},e.prototype.subtract=function(t){var e=this.clone();return e.subtractIn(t),e},e.prototype.subtractIn=function(t){this.o.subtractIn(t.o),this.w-=t.w,this.h-=t.h},e.prototype.multiplyByNumber=function(t){var e=this.clone();return e.multiplyByNumberIn(t),e},e.prototype.multiplyByNumberIn=function(t){this.o.multiplyByNumberIn(t),this.w*=t,this.h*=t},e.prototype.length=function(){return 2*this.w+2*this.h},e.prototype.getPointAt=function(t){return this.o},e.prototype.lastPoint=function(){return this.o},e.prototype.offset=function(t,e){return this},e.prototype.concatIn=function(t){var e=Math.max(this.o.x+this.w,t.o.x+t.w),i=Math.max(this.o.y+this.h,t.o.y+t.h);return this.o.x=Math.min(this.o.x,t.o.x),this.o.y=Math.min(this.o.y,t.o.y),this.w=e-this.o.x,this.h=i-this.o.y,this},e.prototype.lerp=function(t,e){var i=this.clone();return i.lerpIn(t,e),i},e.prototype.lerpIn=function(t,e){this.o.lerpIn(t.o,e),this.w+=e*(t.w-this.w),this.h+=e*(t.h-this.h)},e.prototype.lerpInBetween=function(t,e,i){this.o.lerpInBetween(t.o,e.o,i),this.w=t.w+i*(e.w-t.w),this.h=t.h+i*(e.h-t.h)},e.prototype.equal=function(t){return t.o.x==this.o.x&&t.o.y==this.o.y&&t.w==this.w&&t.h==this.h},e.prototype.toString=function(){return"["+this.o+","+this.w+","+this.h+"]"},e.prototype.toJSON=function(){return{o:this.o.toJSON(),w:this.w,h:this.h}},e.prototype.toSVGString=function(t){return t+this.o.x+","+this.o.y+" h"+this.w+" v"+this.h+" h"+-this.w+" v"+-this.h},e.prototype.createSVGSymbol=function(){return new t.SVGRectangleSymbol(this)},e}();t.Rectangle=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i,n,s){e.call(this,t,i,n),this.r=s}return __extends(i,e),i.FromJSON=function(e){return new i(t.Point.FromJSON(e.o),e.w,e.h,e.r)},i.prototype.clone=function(){return new i(this.o.clone(),this.w,this.h,this.r)},i.prototype.offset=function(t,e){return this},i.prototype.lerpIn=function(t,i){e.prototype.lerpIn.call(this,t,i),this.r+=i*(t.r-this.r)},i.prototype.lerpInBetween=function(t,i,n){e.prototype.lerpInBetween.call(this,t,i,n),this.r=t.r+n*(i.r-t.r)},i.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.r=this.r,t},i.prototype.toSVGString=function(t){var e=Math.max(2*this.r,Math.min(2*this.r,this.w,this.h)),i=.5*e;return t+(this.o.x+i)+","+(this.o.y-i-.5*i)+"h"+(this.w-e)+"a"+i+","+i+" 1 0 1 "+i+","+i+"v"+(this.h-i)+"a"+i+","+i+" 1 0 1 "+-i+","+i+"h"+-(this.w-e)+"a"+i+","+i+" 1 0 1 "+-i+","+-i+"v"+-(this.h-i)+"a"+i+","+i+" 1 0 1 "+i+","+-i},i.prototype.createSVGSymbol=function(){return new t.SVGRoundedRectangleSymbol(this)},i}(t.Rectangle);t.RoundedRectangle=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i,n,s,o,r,a){e.call(this,t,i,n),this.radiusTL=s,this.radiusTR=o,this.radiusBL=r,this.radiusBR=a}return __extends(i,e),i.FromJSON=function(e){return new i(t.Point.FromJSON(e.o),e.w,e.h,e.radiusTL,e.radiusTR,e.radiusBL,e.radiusBR)},i.prototype.setFlex=function(t,i,n,s,o,r,a){e.prototype.set.call(this,t,i,n),this.radiusTL=s,this.radiusTR=o,this.radiusBL=r,this.radiusBR=a},i.prototype.clone=function(){return new i(this.o.clone(),this.w,this.h,this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)},i.prototype.offset=function(t,e){return this},i.prototype.lerpIn=function(t,i){e.prototype.lerpIn.call(this,t,i),this.radiusTL+=i*(t.radiusTL-this.radiusTL),this.radiusTR+=i*(t.radiusTR-this.radiusTR),this.radiusBL+=i*(t.radiusBL-this.radiusBL),this.radiusBR+=i*(t.radiusBR-this.radiusBR)},i.prototype.lerpInBetween=function(t,i,n){e.prototype.lerpInBetween.call(this,t,i,n),this.radiusTL=t.radiusTL+n*(i.radiusTL-t.radiusTL),this.radiusTR=t.radiusTR+n*(i.radiusTR-t.radiusTR),this.radiusBL=t.radiusBL+n*(i.radiusBL-t.radiusBL),this.radiusBR=t.radiusBR+n*(i.radiusBR-t.radiusBR)},i.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.radiusTL=this.radiusTL,t.radiusTR=this.radiusTR,t.radiusBL=this.radiusBL,t.radiusBR=this.radiusBR,t},i.prototype.toSVGString=function(t){this.radiusTL-Math.max(0,.5*(this.radiusTL+this.radiusTR-Math.min(this.w,this.h))),this.radiusTR-Math.max(0,.5*(this.radiusTL+this.radiusTR-Math.min(this.w,this.h))),this.radiusBL-Math.max(0,.5*(this.radiusBL+this.radiusBR-Math.min(this.w,this.h))),this.radiusBR-Math.max(0,.5*(this.radiusBL+this.radiusBR-Math.min(this.w,this.h)));return t+(this.o.x+this.radiusTL)+","+this.o.y+"h"+(this.w-(this.radiusTL+this.radiusTR))+"a"+this.radiusTR+","+this.radiusTR+" 0 0 1 "+this.radiusTR+","+this.radiusTR+"v"+(this.h-(this.radiusTR+this.radiusBR))+"a"+this.radiusBR+","+this.radiusBR+" 0 0 1 "+-this.radiusBR+","+this.radiusBR+"h"+-(this.w-(this.radiusBR+this.radiusBL))+"a"+this.radiusBL+","+this.radiusBL+" 0 0 1 "+-this.radiusBL+","+-this.radiusBL+"v"+-(this.h-(this.radiusTL+this.radiusBL))+"a"+this.radiusTL+","+this.radiusTL+" 0 0 1 "+this.radiusTL+","+-this.radiusTL},i.prototype.createSVGSymbol=function(){return new t.SVGRoundedRectangleFlexSymbol(this)},i}(t.Rectangle);t.RoundedRectangleFlex=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.viewID=t}return __extends(i,e),i.prototype.defineAggregation=function(t){this.viewAggregation=t,this.setSize(t.getSize())},i.prototype.getHTML=function(){return this.baseNode},i.prototype.getHeight=function(){return this.baseNode.offsetHeight},i.prototype.setSize=function(t){},i.prototype.__complete_assemble=function(){this.baseNode=t.HTML.Create("div"),e.prototype.__complete_assemble.call(this)},i.prototype.__assembled_disassemble=function(){this.baseNode=null,e.prototype.__assembled_disassemble.call(this)},i.prototype.addedToStage=function(){},i.prototype.removedFromStage=function(){},i.prototype.executeShow=function(){},i.prototype.executeHide=function(){},i}(t.AYoYoObject);t.AHTMLView=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e){this.size=new t.Area(0,0),this.breakPoints=[],this.items=[],this.amountOfColumns=e,this.baseNode=t.HTML.Create("div",{"class":"grid"}),this.breakPoints.push(new t.GridBreakPoint(0,e))}return e.prototype.getHeight=function(){return this.size.h},e.prototype.getSize=function(){return this.size},e.prototype.getHTML=function(){return this.baseNode},e.prototype.setAmountOfColumns=function(t){this.amountOfColumns=t},e.prototype.addBreakPoint=function(e,i){
this.breakPoints.push(new t.GridBreakPoint(e,i))},e.prototype.add=function(t){this.items.push(t),this.baseNode.appendChild(t.getHTML())},e.prototype.update=function(){for(var t=[],e=this.amountOfColumns;e--;)t.push(0);for(var i,n,s,o,r=0,e=0,a=0,h=0;i=this.items[e];){if(i.isVisible()===!0){n=i.getShift(),s=i.getHeight(),o=Math.min(this.amountOfColumns,i.getColumns());var d=r+n+o;d>this.amountOfColumns&&(a=h,r=0,n=0),r+=n;for(var l,u=0,c=o;c--;)l=t[r+c],l>u&&(u=l);var p=u-a,f=n/this.amountOfColumns;i.adjustGridPosition(u,p,f,r);var v=u+s;for(c=o;c--;)t[r+c]=v;v>h&&(h=v),r+=o,r>=this.amountOfColumns&&(a=h,r=0)}e++}this.size.h=h},e.prototype.setSize=function(e){this.size.w=e.w;for(var i=t.DeviceInfo.GetViewportWidth(),n=0;n<this.breakPoints.length;n++)this.breakPoints[n].from<i&&this.setAmountOfColumns(this.breakPoints[n].columns);for(n=this.items.length;n--;)this.items[n].setSize(e,this.amountOfColumns);requestAnimationFrame(this.update.bind(this))},e.prototype.destroy=function(){for(var t,e=0;t=this.items[e++];)t.destroy();this.breakPoints=null,this.items=null,this.amountOfColumns=null,this.baseNode=null},e}();t.CompressedGrid=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e){this.from=t,this.columns=e}return t}();t.GridBreakPoint=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.Qs=function(t,e){return e.querySelector(t)},t.QsAll=function(t,e){return e.querySelectorAll(t)},t.Create=function(t,e){var i=document.createElement(t);if(e){var n;for(n in e)"html"==n?i.innerHTML=e[n]:i.setAttribute(n,e[n])}return i},t.Add=function(t,e){t.appendChild(e)},t.AddAt=function(t,e,i){t.insertBefore(e,t.childNodes[i||0]||null)},t.Remove=function(t,e){t.removeChild(e)},t.RemoveAllFrom=function(t){for(;t.hasChildNodes();)t.removeChild(t.lastChild)},t.WrapElement=function(t,e,i){var n=t.parentNode.insertBefore(document.createElement(e),t);if(i){var s;for(s in i)n.setAttribute(s,i[s])}return n.appendChild(t),n},t.WrapElements=function(t,e,i){var n=document.createElement(e);if(i){var s;for(s in i)n.setAttribute(s,i[s])}for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return t.appendChild(n),n},t.GetClass=function(t){return t.className},t.SetClass=function(t,e){t.className;t.className=e},t.HasClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},t.AddClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");i.test(t.className)||(t.className+=t.className?" "+e:e)},t.RemoveClass=function(t,e){var i=new RegExp("(\\b)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ").trim().replace(/[\s]{2}/g," ")},t.ToggleClass=function(e,i,n){var s=new RegExp("(^|\\s)"+i+"(\\s|$|:)");s.test(e.className)?(t.RemoveClass(e,i),n&&t.AddClass(e,n)):(t.AddClass(e,i),n&&t.RemoveClass(e,n))},t.SetStyles=function(t,e,i){var n;for(n in e)t.style[n]=e[n];i===!1?!1:t.offsetTop},t.GetElementIndex=function(t){for(var e=0;t.previousElementSibling;)e++,t=t.previousElementSibling;return e},t.CreateEventObject=function(t){var e;return document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(t,!0,!0)):(e=document.createEventObject(),e.eventType=t),e},t.FireEvent=function(t,e){document.createEvent?t.dispatchEvent(event):t.fireEvent("on"+event.eventType,event)},t.FireEventByString=function(e,i){document.createEvent?e.dispatchEvent(t.CreateEventObject(i)):e.fireEvent("on"+i)},t.GetGlobalOffsetLeft=function(t){return t.offsetParent?t.offsetLeft+this.GetGlobalOffsetLeft(t.offsetParent):t.offsetLeft},t.GetGlobalOffsetTop=function(t){return t.offsetParent?t.offsetTop+this.GetGlobalOffsetTop(t.offsetParent):t.offsetTop},t.GetElement=document.getElementById,t}();t.HTML=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i){e.call(this),this.target=t,this._getBounderiesBehavior=i}return __extends(i,e),i.prototype.__inside_before=function(){e.prototype.__inside_before.call(this),this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this))},i.prototype.__before_inside=function(i){e.prototype.__before_inside.call(this,i),this.dispatchEvent(new t.TaskEvent(t.TweenEvent.START,this))},i.prototype.__after_inside=function(i){e.prototype.__after_inside.call(this,i),this.dispatchEvent(new t.TaskEvent(t.TweenEvent.START,this))},i.prototype.__inside_after=function(){e.prototype.__inside_after.call(this),this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this))},i.prototype.setViewportSize=function(t){this.offsetTop=this.target.offsetTop,this.offsetWidth=this.target.offsetWidth,this.offsetHeight=this.target.offsetHeight,this._getBounderiesBehavior(this,t)},i.prototype.destroy=function(){this.target=this._getBounderiesBehavior=null,e.prototype.destroy.call(this)},i}(t.ARenderWithin);t.NotifyWithinScopeHTML=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i){t.call(this),this.target=e,this._getBounderiesBehavior=i}return __extends(e,t),e.VerticalInsideBounderyBehavior=function(t,e){t.bounds.start=t.offsetTop-(e.h-t.offsetHeight),t.bounds.end=t.offsetTop,t.duration=t.bounds.start-t.bounds.end},e.VerticalHalfInsideBounderyBehavior=function(t,e){t.bounds.start=t.offsetTop-(e.h-.5*t.offsetHeight),t.bounds.end=t.offsetTop+.5*t.offsetHeight,t.duration=t.bounds.start-t.bounds.end},e.GenerateVerticalInsideBounderyBehavior=function(t,e){return function(i,n){i.bounds.start=i.offsetTop-(n.h-i.offsetHeight*t),i.bounds.end=i.offsetTop+i.offsetHeight*(1-e),i.duration=i.bounds.start-i.bounds.end}},e.VerticalOutsideBounderyBehavior=function(t,e){t.bounds.start=t.offsetTop-e.h,t.bounds.end=t.offsetTop+t.offsetHeight,t.duration=t.bounds.start-t.bounds.end},e.prototype.setViewportSize=function(t){this.offsetTop=this.target.offsetTop,this.offsetWidth=this.target.offsetWidth,this.offsetHeight=this.target.offsetHeight,this._getBounderiesBehavior(this,t)},e.prototype.destroy=function(){this.target=this._getBounderiesBehavior=null,t.prototype.destroy.call(this)},e}(t.ARenderWithinScope);t.RenderWithinScopeHTML=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.hasParent=!1,this.isTrackPad=!1,this.dX=0,this.dY=0,this.isMouse=!1,this.destroy=this.__default_destroy,this.removeCurrentDetection=this._state_none,this.removeCurrentInteraction=this._state_none,this.mouseStartHandlerBind=this.mouseStartHandler.bind(this),this.mouseMoveHandlerBind=this.mouseMoveHandler.bind(this),this.mouseEndHandlerBind=this.mouseEndHandler.bind(this),this.touchStartHandlerBind=this.touchStartHandler.bind(this),this.touchMoveHandlerBind=this.touchMoveHandler.bind(this),this.touchEndHandlerBind=this.touchEndHandler.bind(this),this.mouseWheelHandlerBind=this.onMouseWheelHandler.bind(this),this.onClickPreventHandlerBind=this.onClickPreventHandler.bind(this),this.target=t,this.eventHandler=e,this._mouseTarget=window,this._touchTarget=this.target}return e.prototype._state_none=function(t){},e.prototype.setStateToDefault=function(){this.destroy=this.__default_destroy},e.prototype.setStateToInitialized=function(){this.destroy=this.__isInit_destroy},e.prototype.enable=function(){1!=this.enabled&&(this.enabled=!0,this.setCursor(!1),this.target.addEventListener("mousedown",this.mouseStartHandlerBind),this.target.addEventListener("touchstart",this.touchStartHandlerBind),this.target.addEventListener("mousewheel",this.mouseWheelHandlerBind),this.target.addEventListener("DOMMouseScroll",this.mouseWheelHandlerBind),this.eventHandler._enable(),this.setStateToInitialized())},e.prototype.disable=function(){0!=this.enabled&&(this.enabled=!1,this.removeCurrentDetection(),this.removeCurrentInteraction(),this.target.style.cursor=null,this.target.removeEventListener("mousedown",this.mouseStartHandlerBind),this.target.removeEventListener("touchstart",this.touchStartHandlerBind),this.target.removeEventListener("mousewheel",this.mouseWheelHandlerBind),this.target.removeEventListener("DOMMouseScroll",this.mouseWheelHandlerBind),this.eventHandler._disable(),this.setStateToDefault())},e.prototype.setCursor=function(t){t===!0?this.target.style.cursor="grabbing":this.hasParent?this.removeCursor():this.target.style.cursor="grab"},e.prototype.removeCursor=function(){this.target.style.cursor=""},e.prototype.stopMovement=function(){this.removeCurrentDetection(),this.removeCurrentInteraction(),this.eventHandler._stopMovement()},e.prototype.mouseStartHandler=function(e){return t.MouseUtility.IsRightClick(e)!==!0?(this.stopMovement(),this.pointerStartX=e.clientX,this.pointerStartY=e.clientY,this.removeCurrentDetection=this.mouseEndHandlerBind,this._mouseTarget.addEventListener("mousemove",this.mouseMoveHandlerBind),this._mouseTarget.addEventListener("mouseup",this.mouseEndHandlerBind),e.preventDefault(),this.hasParent===!1?e.stopPropagation():void 0):void 0},e.prototype.touchStartHandler=function(t){return 1==t.targetTouches.length&&(this.stopMovement(),this.pointerStartX=t.targetTouches[0].screenX,this.pointerStartY=t.targetTouches[0].screenY,this.removeCurrentDetection(),this.removeCurrentDetection=this.touchEndHandlerBind,this._touchTarget.addEventListener("touchmove",this.touchMoveHandlerBind),this._touchTarget.addEventListener("touchend",this.touchEndHandlerBind),this.hasParent===!1)?t.stopPropagation():void 0},e.prototype.mouseMoveHandler=function(t){return this.dX=t.clientX-this.pointerStartX,this.dY=t.clientY-this.pointerStartY,this.currentTarget=this._mouseTarget,this._pointerMoveHandler("mousemove","mouseup",!0),t.preventDefault(),this.hasParent===!1?t.stopPropagation():void 0},e.prototype.touchMoveHandler=function(t){return 1==t.targetTouches.length&&(this.dX=t.targetTouches[0].screenX-this.pointerStartX,this.dY=t.targetTouches[0].screenY-this.pointerStartY,this.currentTarget=this._touchTarget,this._pointerMoveHandler("touchmove","touchend",!1),this.hasParent===!1)?t.stopPropagation():void 0},e.prototype._pointerMoveHandler=function(t,e,i){},e.prototype.mouseEndHandler=function(t){return this.isMouse=!1,this._mouseTarget.removeEventListener("mousemove",this.mouseMoveHandlerBind),this._mouseTarget.removeEventListener("mouseend",this.mouseEndHandlerBind),this.removeCurrentDetection=this._state_none,void 0!==t&&(t.preventDefault(),this.hasParent===!1)?t.stopPropagation():void 0},e.prototype.touchEndHandler=function(t){return this._touchTarget.removeEventListener("touchmove",this.touchMoveHandlerBind),this._touchTarget.removeEventListener("touchend",this.touchEndHandlerBind),this.removeCurrentDetection=this._state_none,void 0!==t&&this.hasParent===!1?t.stopPropagation():void 0},e.prototype.onClickPreventHandler=function(t){return t.preventDefault(),t.stopPropagation()},e.prototype.onMouseWheelHandler=function(t){0!=t.wheel},e.prototype.__default_destroy=function(){},e.prototype.__isInit_destroy=function(){this.__default_destroy()},e}();t.ATouchListener=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.width=0,this.height=0,this.onConResizeHandlerBind=this.onConResizeHandler.bind(this),this.onElResizeHandlerBind=this.onElResizeHandler.bind(this),this.element=e,this.container=e.parentNode,this.touchEventHandler=new t.ViewportManeuverHandler(this),this.touchListener=new t.DirectionalTouchListener(this.container,this.touchEventHandler,i,n),this.keyboardListener=new t.ViewportKeyboardListener(this.container,this.touchEventHandler,i,n),this.element.addEventListener("resize",this.onElResizeHandlerBind),this.container.addEventListener("resize",this.onConResizeHandlerBind)}return e.prototype.enable=function(){this.touchListener.enable(),this.keyboardListener.enable(),this.onConResizeHandler()},e.prototype.disable=function(){this.touchListener.disable(),this.keyboardListener.disable()},e.prototype.onConResizeHandler=function(t){this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.updateLimits()},e.prototype.onElResizeHandler=function(t){this.updateLimits()},e.prototype.updateLimits=function(){this.touchEventHandler.setXLimit(-(this.element.offsetWidth-this.width)),this.touchEventHandler.setYLimit(-(this.element.offsetHeight-this.height))},e.prototype.setPositionX=function(t){},e.prototype.setPositionY=function(t){this.element.style.top=t+"px"},e.prototype.setPosition=function(t){this.element.style.left=t.x+"px",this.element.style.top=t.y+"px"},e.prototype.getPosition=function(){return new t.Point(0,parseFloat(t.StyleUtility.GetStyleValue(this.element,"top","0")))},e}();t.BasicHTMLViewport=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i,n,s){t.call(this,e,i),this.handleDragOnXBind=this.handleDragOnX.bind(this),this.onHandleDragOnXEndBind=this.onHandleDragOnXEnd.bind(this),this.handleDragOnYBind=this.handleDragOnY.bind(this),this.onHandleDragOnYEndBind=this.onHandleDragOnYEnd.bind(this),this.removeClickPreventBind=this.removeClickPrevent.bind(this),this.xAllowed=n,this.yAllowed=s}return __extends(e,t),e.prototype._pointerMoveHandler=function(t,e,i){Math.abs(this.dY)<Math.abs(this.dX)?this.xAllowed&&Math.abs(this.dX)>5&&(this.removeCurrentDetection(),this.removeCurrentDetection=this._state_none,this.removeCurrentInteraction(),this.currentMoveEvent=t,this.currentEndEvent=e,this.removeCurrentInteraction=this.onHandleDragOnXEndBind,this.isMouse=i,this.eventHandler.onDragStartX(),this.setCursor(!0),this.currentTarget.addEventListener(t,this.handleDragOnXBind),this.currentTarget.addEventListener(e,this.onHandleDragOnXEndBind),this.currentTarget.addEventListener("click",this.onClickPreventHandlerBind,!0)):this.yAllowed&&Math.abs(this.dY)>5&&(this.removeCurrentDetection(),this.removeCurrentDetection=this._state_none,this.removeCurrentInteraction(),this.currentMoveEvent=t,this.currentEndEvent=e,this.removeCurrentInteraction=this.onHandleDragOnYEndBind,this.isMouse=i,this.eventHandler.onDragStartY(),this.setCursor(!0),this.currentTarget.addEventListener(t,this.handleDragOnYBind),this.currentTarget.addEventListener(e,this.onHandleDragOnYEndBind),this.currentTarget.addEventListener("click",this.onClickPreventHandlerBind,!0))},e.prototype.handleDragOnX=function(t){return this.isMouse===!0||!this.isMouse&&1==t.targetTouches.length?(this.dX=(this.isMouse===!0?t.clientX:t.targetTouches[0].clientX)-this.pointerStartX,this.eventHandler.onDragMoveX(this.dX),t.preventDefault(),t.stopPropagation()):void 0},e.prototype.onHandleDragOnXEnd=function(t){return this.isMouse===!0&&this.setCursor(!1),this.currentTarget.removeEventListener(this.currentMoveEvent,this.handleDragOnXBind),this.currentTarget.removeEventListener(this.currentEndEvent,this.onHandleDragOnXEndBind),setTimeout(this.removeClickPreventBind,0),this.removeCurrentInteraction=this._state_none,this.eventHandler.onDragEndX(),void 0!==t&&(t.preventDefault(),this.hasParent===!1)?t.stopPropagation():void 0},e.prototype.handleDragOnY=function(t){return this.isMouse===!0||!this.isMouse&&1==t.touches.length?(this.dY=(this.isMouse===!0?t.clientY:t.targetTouches[0].screenY)-this.pointerStartY,this.eventHandler.onDragMoveY(this.dY),t.preventDefault(),t.stopPropagation()):void 0},e.prototype.onHandleDragOnYEnd=function(t){return this.isMouse===!0&&this.setCursor(!1),this.currentTarget.removeEventListener(this.currentMoveEvent,this.handleDragOnYBind),this.currentTarget.removeEventListener(this.currentEndEvent,this.onHandleDragOnYEndBind),setTimeout(this.removeClickPreventBind,0),this.removeCurrentInteraction=this._state_none,this.eventHandler.onDragEndY(),void 0!==t&&(t.preventDefault(),this.hasParent===!1)?t.stopPropagation():void 0},e.prototype.removeClickPrevent=function(){this.currentTarget.removeEventListener("click",this.onClickPreventHandlerBind,!0)},e}(t.ATouchListener);t.DirectionalTouchListener=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t){this.hasParent=!1,this.isMouse=!1,this.removeCurrentDetection=this._state_none,this.removeCurrentInteraction=this._state_none,this.mouseStartHandlerBind=this.mouseStartHandler.bind(this),this.touchStartHandlerBind=this.touchStartHandler.bind(this),this.mouseWheelHandlerBind=this.onMouseWheelHandler.bind(this),this.onClickPreventHandlerBind=this.onClickPreventHandler.bind(this),this.target=t,this._mouseTarget=window,this._touchTarget=this.target}return e.prototype._state_none=function(t){},e.prototype.enable=function(){1!=this.enabled&&(this.enabled=!0,this.target.addEventListener("mousedown",this.mouseStartHandlerBind),this.target.addEventListener("touchstart",this.touchStartHandlerBind),this.target.addEventListener("mousewheel",this.mouseWheelHandlerBind),this.target.addEventListener("DOMMouseScroll",this.mouseWheelHandlerBind))},e.prototype.disable=function(){0!=this.enabled&&(this.enabled=!1,this.removeCurrentDetection(),this.removeCurrentInteraction(),this.target.removeEventListener("mousedown",this.mouseStartHandlerBind),this.target.removeEventListener("touchstart",this.touchStartHandlerBind),this.target.removeEventListener("mousewheel",this.mouseWheelHandlerBind),this.target.removeEventListener("DOMMouseScroll",this.mouseWheelHandlerBind))},e.prototype.mouseStartHandler=function(e){return t.MouseUtility.IsRightClick(e)!==!0?(e.preventDefault(),this.hasParent===!1?e.stopPropagation():void 0):void 0},e.prototype.touchStartHandler=function(t){return 1==t.targetTouches.length&&(t.preventDefault(),this.hasParent===!1)?t.stopPropagation():void 0},e.prototype.onClickPreventHandler=function(t){return t.preventDefault(),t.stopPropagation()},e.prototype.onMouseWheelHandler=function(t){return t.preventDefault(),t.stopPropagation()},e.prototype.destroy=function(){this._mouseTarget=this._touchTarget=this.target=null},e}();t.InputBlock=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s){this.onMouseWheelYHandlerBind=this.onMouseWheelYHandler.bind(this),this.onMouseWheelTimerHandlerBind=this.onMouseWheelTimerHandler.bind(this),this.target=e,this.xAllowed=n,this.yAllowed=s,this.eventHandler=i,this.onWheelYLimited=t.TimerUtility.CreateLimitedCallFunction(this.eventHandler.onWheelY,100,this.eventHandler)}return e.prototype.enable=function(){1!=this.enabled&&(this.enabled=!0,window.addEventListener("keydown",this.onMouseWheelYHandler),this.yAllowed&&(this.target.addEventListener("mousewheel",this.onMouseWheelYHandlerBind),this.target.addEventListener("DOMMouseScroll",this.onMouseWheelYHandlerBind)))},e.prototype.disable=function(){0!=this.enabled&&(this.enabled=!1,this.yAllowed&&(this.target.removeEventListener("mousewheel",this.onMouseWheelYHandlerBind),this.target.removeEventListener("DOMMouseScroll",this.onMouseWheelYHandlerBind)))},e.prototype.onMouseWheelYHandler=function(e){var i=t.MouseUtility.ConvertWheelDelta(e);return Math.abs(i)<.03&&(i=0),Math.abs(i)<.4?(i*=10,this.isTrackPad=!0):Math.abs(i)<.6&&Math.abs(i)>.5&&1==this.isTrackPad&&(i*=40),0!=i?(i=t.MathUtility.Limit(i,-1,1),this.isTrackPad?(this.onWheelYLimited(i),window.clearInterval(this.mouseWheelTimerInstance),this.mouseWheelTimerInstance=setInterval(this.onMouseWheelTimerHandlerBind,200)):(this.eventHandler.onWheelY(i),window.clearInterval(this.mouseWheelTimerInstance),this.mouseWheelTimerInstance=setInterval(this.onMouseWheelTimerHandlerBind,200)),e.preventDefault(),e.stopPropagation()):void this.onMouseWheelTimerHandler()},e.prototype.onMouseWheelTimerHandler=function(){window.clearInterval(this.mouseWheelTimerInstance),this.isTrackPad=!1,this.eventHandler.onWheelYEnd()},e.prototype.destroy=function(){this.disable(),this.target=this.eventHandler=this.onWheelYLimited=this.mouseWheelTimerInstance=null},e}();t.LimitedMouseWheelListener=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(i,n,s,o){this.deltaVelocity=e._DefaultDeltaVelocity,this.lastDeltaDirection=0,this.onMouseWheelYHandlerBind=this.onMouseWheelYHandler.bind(this),this.onMouseWheelTimerHandlerBind=this.onMouseWheelTimerHandler.bind(this),this.target=i,this.xAllowed=s,this.yAllowed=o,this.maneuverHandler=n,this.onWheelYLimited=t.TimerUtility.CreateLimitedCallFunction(this.maneuverHandler.onWheelY,100,this.maneuverHandler)}return e.prototype.enable=function(){this.enabled!==!0&&(this.enabled=!0,this.yAllowed===!0&&(this.target.addEventListener("mousewheel",this.onMouseWheelYHandlerBind),this.target.addEventListener("DOMMouseScroll",this.onMouseWheelYHandlerBind)))},e.prototype.disable=function(){this.enabled!==!1&&(this.enabled=!1,this.yAllowed===!0&&(this.target.removeEventListener("mousewheel",this.onMouseWheelYHandlerBind),this.target.removeEventListener("DOMMouseScroll",this.onMouseWheelYHandlerBind)))},e.prototype.onMouseWheelYHandler=function(i){var n=t.MouseUtility.ConvertWheelDelta(i);if(Math.abs(n)<.4&&(this.isTrackPad=!0),0!=n){if(this.isTrackPad===!1){var s=n>0?1:-1;s!=this.lastDeltaDirection&&(this.deltaVelocity=e._DefaultDeltaVelocity),n*=this.deltaVelocity,this.deltaVelocity=t.MathUtility.Limit(this.deltaVelocity+3.5*(Math.abs(n)-.45),1,3),this.lastDeltaDirection=s}return this.maneuverHandler.onWheelY(n),window.clearInterval(this.mouseWheelTimerInstance),this.mouseWheelTimerInstance=setInterval(this.onMouseWheelTimerHandlerBind,this.isTrackPad===!0?1e3:200),i.preventDefault(),i.stopPropagation()}this.onMouseWheelTimerHandler()},e.prototype.onMouseWheelTimerHandler=function(){window.clearInterval(this.mouseWheelTimerInstance),this.isTrackPad=!1,this.deltaVelocity=e._DefaultDeltaVelocity,this.maneuverHandler.onWheelYEnd()},e.prototype.destroy=function(){this.disable(),this.target=this.maneuverHandler=this.onWheelYLimited=this.mouseWheelTimerInstance=null},e._DefaultDeltaVelocity=.8,e}();t.MouseWheelListener=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0),this.enabled=!1,this.onKeyDownHandlerBind=this.onKeyDownHandler.bind(this),this.target=t,this.xAllowed=i,this.yAllowed=n,this.maneuverHandler=e}return t.prototype.enable=function(){this.enabled!==!0&&(this.enabled=!0,window.addEventListener("keydown",this.onKeyDownHandlerBind))},t.prototype.disable=function(){this.enabled!==!1&&(this.enabled=!1,window.removeEventListener("keydown",this.onKeyDownHandlerBind))},t.prototype.onKeyDownHandler=function(t){switch(t.keyCode){case 38:if(this.yAllowed===!0)return t.metaKey===!0?this.maneuverHandler.moveToHome():this.maneuverHandler.moveUp(),t.preventDefault(),t.stopPropagation();break;case 40:if(this.yAllowed===!0)return t.metaKey===!0?this.maneuverHandler.moveToEnd():this.maneuverHandler.moveDown(),t.preventDefault(),t.stopPropagation();break;case 37:if(this.xAllowed===!0)return this.maneuverHandler.movePageLeft(),t.preventDefault(),t.stopPropagation();break;case 39:if(this.xAllowed===!0)return this.maneuverHandler.movePageRight(),t.preventDefault(),t.stopPropagation();break;case 33:if(this.yAllowed===!0)return this.maneuverHandler.movePageUp(),t.preventDefault(),t.stopPropagation();break;case 34:if(this.yAllowed===!0)return this.maneuverHandler.movePageDown(),t.preventDefault(),t.stopPropagation();break;case 36:if(this.yAllowed===!0)return this.maneuverHandler.moveToHome(),t.preventDefault(),t.stopPropagation();break;case 35:if(this.yAllowed===!0)return this.maneuverHandler.moveToEnd(),t.preventDefault(),t.stopPropagation()}},t.prototype.destroy=function(){this.disable(),this.onKeyDownHandlerBind=null},t}();t.ViewportKeyboardListener=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(n){e.call(this),this.movementAspect=1,this.getSnapPositionX=this.noSnapFunction,this.getSnapPositionY=this.noSnapFunction,this._tween=null,this._lastDistX=0,this._lastDistY=0,this.currentPosition=new t.Point(0,0),this._handlePositionOnMove=i.NoPositionHandling,this._handlePositionOnEnd=i.NoPositionHandling,this._activityStartEvent={type:"activitystart",target:this},this._activityEndEvent={type:"activityend",target:this},this.onActivityEndBind=this.onActivityEnd.bind(this),this.onPositionChange=i.noneFunction,this.setAndStorePositionXBind=this.setPositionX.bind(this),this.setAndStorePositionYBind=this.setPositionY.bind(this),this.viewport=n}return __extends(i,e),i.noneFunction=function(){},i.prototype.setSnapX=function(t){this.getSnapPositionX=t},i.prototype.setSnapY=function(t){this.getSnapPositionY=t},i.prototype.noSnapFunction=function(t){return Math.round(t)},i.prototype.snapWithinPositiveLimitX=function(t){return Math.round(Math.min(Math.max(t,0),this._xLimit))},i.prototype.snapWithinNegativeLimitX=function(t){return Math.round(Math.min(Math.max(t,this._xLimit),0))},i.prototype.snapWithinPositiveLimitY=function(t){return Math.round(Math.min(Math.max(t,0),this._yLimit))},i.prototype.snapWithinNegativeLimitY=function(t){return Math.round(Math.min(Math.max(t,this._yLimit),0))},i.prototype.onActivityStart=function(){this.dispatchEvent(this._activityStartEvent)},i.prototype.onActivityEnd=function(){this.stopTween(),this.dispatchEvent(this._activityEndEvent)},i.prototype._enable=function(){if(!t.NumberUtility.IsNumeric(this.viewport.height)||!t.NumberUtility.IsNumeric(this.viewport.height))throw new TypeError("The height or width on the viewport is either null, NaN or infinity.")},i.prototype._disable=function(){},i.prototype._stopMovement=function(){null!==this._tween&&(this.stopTween(),this.onPositionChange(this.currentPosition))},i.prototype.startTween=function(e,i,n,s,o,r){this.stopTween(),this._tween=new t.FunctionTween(e,i,n,0,s,o),r===!0&&this._tween.addEventListener(t.TaskEvent.COMPLETE,this.onActivityEndBind),this._tween.execute()},i.prototype.stopTween=function(){null!==this._tween&&(this._tween.removeEventListener(t.TaskEvent.COMPLETE,this.onActivityEndBind),this._tween.destroy(),this._tween=null)},i.prototype.onDragStartX=function(){this.stopTween(),this.onActivityStart(),this.startPosition=this.viewport.getPosition(),this.currentPosition.x=this.startPosition.x,this.lastMoveTime=performance.now()},i.prototype.onDragMoveX=function(t){var e=this._handlePositionOnMove(this.startPosition.x+t*this.movementAspect,this._xLimit);this._lastDistX=e-this.currentPosition.x,this.currentPosition.x=e,this.viewport.setPositionX(this.currentPosition.x),this.lastMoveTime=performance.now()},i.prototype.onDragEndX=function(){var e=performance.now()-this.lastMoveTime;e=t.MathUtility.Limit(e,20,80),this.lastMoveTime=null;var i=200,n=Math.round(this.currentPosition.x+this._lastDistX*(i/e));if(n=t.MathUtility.Limit(n,this.currentPosition.x-.5*this.viewport.width,this.currentPosition.x+.5*this.viewport.width),n=this._handlePositionOnEnd(n,this._xLimit),n=this.getSnapPositionX(n),Math.abs(n-this.currentPosition.x)>1){this.onPositionChange(new t.Point(this.currentPosition.y,n));var s=400,o=Math.abs((n-this.currentPosition.x)/this.viewport.width)*s;o+=t.MathUtility.Limit(o*(.5*e),0,s),this.startTween(this.setAndStorePositionXBind,this.currentPosition.x,n,o,Math.abs(n-this.currentPosition.x+this._lastDistX)>Math.abs(n-this.currentPosition.x)?t.Ease.CubicOut:t.Ease.QuadInOut,!0)}else this.onPositionChange(this.currentPosition)},i.prototype.setPositionX=function(t){this.currentPosition.x=t,this.viewport.setPositionX(t)},i.prototype.onDragStartY=function(){this.stopTween(),this.onActivityStart(),this.startPosition=this.viewport.getPosition(),this.currentPosition.y=this.startPosition.y,this.lastMoveTime=performance.now()},i.prototype.onDragMoveY=function(t){var e=this._handlePositionOnMove(this.startPosition.y+t*this.movementAspect,this._yLimit);this._lastDistY=e-this.currentPosition.y,this.currentPosition.y=e,this.viewport.setPositionY(this.currentPosition.y),this.lastMoveTime=performance.now()},i.prototype.onDragEndY=function(){var e=performance.now()-this.lastMoveTime;e=t.MathUtility.Limit(e,20,80),this.lastMoveTime=null;var i=Math.round(this.currentPosition.y+this._lastDistY*(300/e));if(i=this._handlePositionOnEnd(i,this._yLimit),i=this.getSnapPositionY(i),Math.abs(i-this.currentPosition.y)>1){this.onPositionChange(new t.Point(this.currentPosition.x,i));var n=1e3*Math.abs((i-this.currentPosition.y)/this.viewport.height);n+=t.MathUtility.Limit(n*(.5*e),0,1e3),this.startTween(this.setAndStorePositionYBind,this.currentPosition.y,i,n,Math.abs(i-this.currentPosition.y+this._lastDistY)>Math.abs(i-this.currentPosition.y)?t.Ease.CubicOut:t.Ease.QuadInOut,!0)}else this.onPositionChange(this.currentPosition)},i.prototype.setPositionY=function(t){this.currentPosition.y=t,this.viewport.setPositionY(t)},i.prototype.onWheelY=function(e){this.stopTween(),this.onActivityStart(),this.startPosition=this.viewport.getPosition(),this.currentPosition.y=this.startPosition.y,this.currentPosition.y=this._handlePositionOnMove(this.startPosition.y+100*e*this.movementAspect,this._yLimit),this.onPositionChange(new t.Point(this.currentPosition.x,this.currentPosition.y)),this.viewport.setPositionY(this.currentPosition.y),this.lastMoveTime=performance.now()},i.prototype.onWheelYEnd=function(){this.triggerSnap()},i.prototype.triggerSnap=function(){this.moveToY(this.currentPosition.y)},i.prototype.movePageLeft=function(){this.moveToX(this.currentPosition.x+this.viewport.width)},i.prototype.movePageRight=function(){this.moveToX(this.currentPosition.x-this.viewport.width)},i.prototype.moveToIndexX=function(t){this.moveToX(-this.viewport.width*t)},i.prototype.moveUp=function(){this.moveToY(this.currentPosition.y+.2*this.viewport.height)},i.prototype.moveDown=function(){this.moveToY(this.currentPosition.y-.2*this.viewport.height)},i.prototype.movePageUp=function(){this.moveToY(this.currentPosition.y+this.viewport.height)},i.prototype.movePageDown=function(){this.moveToY(this.currentPosition.y-this.viewport.height)},i.prototype.moveToHome=function(){this.moveToY(0)},i.prototype.moveToEnd=function(){this.moveToY(this._yLimit)},i.prototype.moveToX=function(e){this.stopTween(),this.onActivityStart(),this.startPosition=this.viewport.getPosition();var i=this._handlePositionOnEnd(e,this._xLimit);if(i=this.getSnapPositionX(i),this.onPositionChange(new t.Point(i,this.currentPosition.x)),Math.abs(i-this.currentPosition.x)>1){var n=this.viewport.width;this.startTween(this.setAndStorePositionXBind,this.currentPosition.x,i,n,t.Ease.EaseOut,!0)}else i-this.currentPosition.x!=0&&this.setAndStorePositionYBind(Math.round(i))},i.prototype.moveToY=function(e){this.stopTween(),this.onActivityStart(),this.startPosition=this.viewport.getPosition();var i=this._handlePositionOnEnd(e,this._yLimit);if(i=this.getSnapPositionY(i),this.onPositionChange(new t.Point(this.currentPosition.x,i)),Math.abs(i-this.currentPosition.y)>1){var n=Math.abs(i-this.currentPosition.y)/(.1*this.viewport.height),s=n*(20/n);s*=20,this.startTween(this.setAndStorePositionYBind,this.currentPosition.y,i,s,t.Ease.EaseOut,!0)}else i-this.currentPosition.y!=0&&this.setAndStorePositionYBind(Math.round(i))},i.NoPositionHandling=function(t,e){return t},i.HandleShrinkPositionMin=function(t,e){if(e>t){var i=t-e;t=t-i+.35*i}else t>0&&(t=.35*t);return t},i.HandleStrictPositionMin=function(t,e){return t=e>t?e:t,t=t>0?0:t},i.HandleShrinkPositionMax=function(t,e){if(t>e){var i=t-e;t=t-i+.35*i}else 0>t&&(t=.35*t);return t},i.HandleStrictPositionMax=function(t,e){return t=t>e?e:t,t=0>t?0:t},i.prototype.setMovementAspect=function(t){this.movementAspect=t},i.prototype.setXLimit=function(t){this._xLimit=t,this._xLimit<0?(this._handlePositionOnMove=i.HandleShrinkPositionMin,this._handlePositionOnEnd=i.HandleStrictPositionMin,this.getSnapPositionX=this.snapWithinNegativeLimitX):(this._handlePositionOnMove=i.HandleShrinkPositionMax,this._handlePositionOnEnd=i.HandleStrictPositionMax,this.getSnapPositionX=this.snapWithinPositiveLimitX)},i.prototype.setYLimit=function(t){this._yLimit=t,this._yLimit<0?(this._handlePositionOnMove=i.HandleShrinkPositionMin,this._handlePositionOnEnd=i.HandleStrictPositionMin,this.getSnapPositionY=this.snapWithinNegativeLimitY):(this._handlePositionOnMove=i.HandleShrinkPositionMax,this._handlePositionOnEnd=i.HandleStrictPositionMax,this.getSnapPositionY=this.snapWithinPositiveLimitY)},i.prototype.setStrictYLimit=function(t){this._yLimit=t,this._yLimit<0?(this._handlePositionOnMove=i.HandleStrictPositionMin,this._handlePositionOnEnd=i.HandleStrictPositionMin,this.getSnapPositionY=this.snapWithinNegativeLimitY):(this._handlePositionOnMove=i.HandleStrictPositionMax,
this._handlePositionOnEnd=i.HandleStrictPositionMax,this.getSnapPositionY=this.snapWithinPositiveLimitY)},i.prototype.renderAt=function(t){this.viewport.setPositionY(this.currentPosition.y)},i.prototype.lastRenderAt=function(t){this.viewport.setPositionY(Math.round(this.currentPosition.y))},i.prototype.updateRender=function(){this.viewport.setPositionY(Math.round(this.currentPosition.y))},i.prototype.destroy=function(){},i}(t.EventDispatcher);t.ViewportManeuverHandler=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t,e,i){this.fileExt=t,this.type=e,this.codec=i}return t.prototype.toString=function(){return this.type+'; codecs="'+this.codec+'"'},t}();t.Codec=e}(ss||(ss={})),Function.prototype.bind||(Function.prototype.bind=function(){var t=this,e=Array.prototype.slice.call(arguments),i=e.shift();return function(){return t.apply(i,e.concat(Array.prototype.slice.call(arguments)))}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i=this.length>>>0,e=e||0;for(e=0>e?Math.ceil(e):Math.floor(e),0>e&&(e+=i);i>e;){if(e in this&&this[e]===t)return e;e++}return-1}),Array.prototype.removeElement||(Array.prototype.removeElement=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)}),Array.prototype.clone||(Array.prototype.clone=function(){return this.slice(0)}),Array.prototype.addElement||(Array.prototype.addElement=function(t){-1==this.indexOf(t)&&this.push(t)}),Array.prototype.reduce||(Array.prototype.reduce=function(t,e){void 0===e&&(e=void 0);for(var i=this.length,n=0,s=e;i>n;)s=void 0!==s&&n in this?t.call(void 0,s,this[n],n,this):this[n],n++;return s}),function(){if("performance"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==0){var t;t=performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart:Date.now(),window.performance.now=function(){return Date.now()-t}}}(),function(){if(function(){for(var t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"]}(),!window.requestAnimationFrame){var t=(new Date).getTime(),e=0;window.requestAnimationFrame=function(i){var n=(new Date).getTime()-t,s=Math.max(0,16-(n-e)),o=window.setTimeout(function(){i(n+s)},s);return e=n+s,o}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var XHR;!function(){XHR="undefined"==typeof XMLHttpRequest?function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}return new ActiveXObject("Msxml2.XMLHTTP.3.0")}:XMLHttpRequest}(),function(){window.URL||(window.URL=window.webkitURL||window.mozURL||window.msURL)}();var ss;!function(t){var e=function(){function e(){}return e.Init=function(){for(var t,i=document.createElement("video"),n=0;t=e._VideoTypes[n++];)"undefined"!=typeof i.canPlayType&&"probably"==i.canPlayType(t.toString())&&e._SupportedVideoCodecs.push(t);var s=document.createElement("audio");for(n=0;t=e._AudioTypes[n++];)"undefined"!=typeof s.canPlayType&&"probably"==s.canPlayType(t.toString())&&e._SupportedAudioCodec.push(t)},e.GetVideoCodec=function(){return e._SupportedVideoCodecs[0]},e.GetAudioCodec=function(){return e._SupportedVideoCodecs[0]},e.GetVideoCodecFor=function(t){for(var i,n,s=0;s<t.length;){for(i=t[s],n=e._SupportedVideoCodecs.length;n--;)if(e._SupportedVideoCodecs[n].fileExt==i)return e._SupportedVideoCodecs[n];s++}return null},e.GetSupportedVideo=function(i){for(var n,s,o=0;o<i.length;){for(n=t.StringUtility.GetFileExtension(i[o]),s=e._SupportedVideoCodecs.length;s--;)if(e._SupportedVideoCodecs[s].fileExt==n)return i[o];o++}return null},e._VideoTypes=[new t.Codec("mp4","video/mp4","avc1.42E01E, mp4a.40.2"),new t.Codec("m4v","video/mp4","avc1.42E01E, mp4a.40.2"),new t.Codec("ogv","video/ogg","theora, vorbis"),new t.Codec("webm","video/webm","vp8, vorbis"),new t.Codec("webmv","video/webm","vp8, vorbis"),new t.Codec("3gpp","video/3gpp","mp4v.20.8, samr")],e._AudioTypes=[new t.Codec("mp3","audio/mpeg","mp3"),new t.Codec("m4a","audio/mp4","mp4a.40.2"),new t.Codec("ogg","audio/ogg","vorbis"),new t.Codec("oga","audio/ogg","vorbis"),new t.Codec("webma","audio/webm","vorbis"),new t.Codec("wav","audio/wav","1")],e._SupportedVideoCodecs=[],e._SupportedAudioCodec=[],e}();t.CodecDetection=e,e.Init()}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.loop=!0,this.fps=60,this.amountOfImages=0,this.onImageLoadedHandlerBind=this.onImageLoadedHandler.bind(this),this.onLoadErrorHandlerBind=this.onLoadErrorHandler.bind(this),this.url=i.url,this.amountOfImages=i.frameAmount,this.rows=i.rows,this.columns=i.columns,this.fps=i.fps,this.loop=i.loop,this.duration=this.amountOfImages/this.fps*1e3,this.playerCon=t.HTML.Create("div"),this.element=t.HTML.Create("div",{"class":"sprite"}),this.element.style.backgroundSize=100*this.columns+"%",this.playerCon.appendChild(this.element),this.playerCon.addEventListener("click",this.pause.bind(this))}return __extends(i,e),i.prototype.addSizeBehaviour=function(t){this.sizeBehavior=t},i.prototype.getHTML=function(){return this.playerCon},i.prototype.enable=function(){this.play()},i.prototype.disable=function(){this.pause()},i.prototype.__default_execute=function(){this.imageLoader=new t.ImageLoader(this.url),this.imageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedHandlerBind),this.imageLoader.execute(),this.setStateToExecuting()},i.prototype.onImageLoadedHandler=function(e){this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedHandlerBind);var i=e.target.data.width,n=e.target.data.height;this.imgSize=new t.Area(i/this.columns,n/this.rows),t.HTML.SetStyles(this.element,{backgroundImage:"url("+e.target.url+")",backgroundPosition:"0 0"}),this.imageLoader.destroy(),this.setStateToComplete(),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.onLoadErrorHandler=function(e){this.revert(),this.dispatchEvent({type:t.TaskEvent.ERROR,target:this})},i.prototype.play=function(){this.baseTime=performance.now(),t.RenderManager.add(this)},i.prototype.pause=function(){t.RenderManager.remove(this)},i.prototype.renderAt=function(e){var i=(e-this.baseTime)%this.duration,n=Math.floor(i/this.duration*this.amountOfImages);if(this.currentImageIndex!==n){var s=n%this.columns,o=Math.floor(n/this.columns),r=-(100*s),a=-(100*o);t.HTML.SetStyles(this.element,{backgroundPosition:r+"% "+a+"%"}),this.currentImageIndex=n,this.loop===!1&&this.currentImageIndex===this.amountOfImages-1&&this.pause()}},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.updateRender=function(){},i.prototype.__executing_revert=function(){this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedHandlerBind),this.imageLoader.destroy(),this.imageLoader=null,this.__complete_revert()},i.prototype.updateSize=function(t){this.size=t,void 0!==this.imgSize&&this.sizeBehavior.defineAsCSSPixels(this.size,this.imgSize,this.element)},i.prototype.destoy=function(){this.playerCon=null,e.prototype.destroy.call(this)},i}(t.ARevertableTask);t.SpriteSequencePlayer=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,n,s){e.call(this),this.progress=0,this.onLoadProgressHandlerBind=this.onLoadProgressHandler.bind(this),this.onLoadCompleteHandlerBind=this.onLoadCompleteHandler.bind(this),this.url=t,this.requestData=n||new Object,this.requestType=s||i.REQUEST_GET}return __extends(i,e),i.prototype.__default_execute=function(){this.request=new XHR,this.request.addEventListener("load",this.onLoadCompleteHandlerBind),this.request.addEventListener("progress",this.onLoadProgressHandlerBind);var e=this.url,n=t.UrlUtility.URLEncodeObject(this.requestData);this.requestType==i.REQUEST_GET&&(e+="?"+n,n=null),this.request.open(this.requestType,e,!0),null!=this.responseType&&(this.request.responseType=this.responseType),this.request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),this.setStateToExecuting(),this.request.send(n)},i.prototype.__executing_revert=function(){this.request.removeEventListener("load",this.onLoadCompleteHandlerBind),this.request.removeEventListener("progress",this.onLoadProgressHandlerBind),this.request.abort(),this.__complete_revert()},i.prototype.__complete_revert=function(){this.request=null,e.prototype.setStateToDefault.call(this)},i.prototype.destroy=function(){this.revert(),this.url=this.requestData=this.requestType=null},i.prototype.onLoadProgressHandler=function(e){e.lengthComputable===!0&&(this.progress=e.loaded/e.total,this.dispatchEvent({type:t.RequestEvent.PROGRESS,target:this}))},i.prototype.onLoadCompleteHandler=function(e){4==this.request.readyState&&(this.request.status>=200&&this.request.status<400?(this.request.removeEventListener("load",this.onLoadCompleteHandlerBind),this.request.removeEventListener("progress",this.onLoadProgressHandlerBind),this.setStateToComplete(),this.onCompleteHandler(e),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})):this.request.status>400&&this.dispatchEvent({type:t.TaskEvent.ERROR,target:this}))},i.prototype.onCompleteHandler=function(t){},i.REQUEST_GET="GET",i.REQUEST_POST="POST",i.RESPONSE_ARRAY="arraybuffer",i.RESPONSE_DOCUMENT="document",i.RESPONSE_BLOB="blob",i.RESPONSE_JSON="json",i.RESPONSE_TEXT="text",i}(t.ARevertableTask);t.AXHRLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.onLoadProgressHandlerBind=this.onLoadProgressHandler.bind(this),this.onMetaDataCompleteHandlerBind=this.onMetaDataCompleteHandler.bind(this),this.onLoadCompleteHandlerBind=this.onLoadCompleteHandler.bind(this),this.onLoadErrorHandlerBind=this.onLoadErrorHandler.bind(this),this.url=t}return __extends(i,e),i.prototype.__default_execute=function(){this.videoElement=document.createElement("video"),this.videoElement.addEventListener("loadedmetadata",this.onMetaDataCompleteHandlerBind),this.videoElement.addEventListener("canplaythrough",this.onLoadCompleteHandlerBind),this.videoElement.addEventListener("progress",this.onLoadProgressHandlerBind),this.videoElement.addEventListener("error",this.onLoadErrorHandlerBind),this.videoElement.src=this.url,this.videoElement.load(),this.setStateToExecuting()},i.prototype.__executing_revert=function(){this.__complete_revert()},i.prototype.__complete_revert=function(){this.videoElement.removeEventListener("loadedmetadata",this.onMetaDataCompleteHandlerBind),this.videoElement.removeEventListener("canplaythrough",this.onLoadCompleteHandlerBind),this.videoElement.removeEventListener("progress",this.onLoadProgressHandlerBind),this.videoElement.removeEventListener("error",this.onLoadErrorHandlerBind),this.videoElement.pause(),this.videoElement.src="",this.videoElement.load(),this.videoElement.removeAttribute("src"),this.videoElement=void 0,this.setStateToDefault()},i.prototype.onLoadProgressHandler=function(t){if(0!==this.videoElement.buffered.length){var e=this.videoElement.buffered.end(0);e/this.videoElement.duration*100}},i.prototype.onMetaDataCompleteHandler=function(t){this.dispatchEvent({type:"loadedmetadata",target:this})},i.prototype.onLoadCompleteHandler=function(e){this.setStateToComplete(),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.onLoadErrorHandler=function(e){this.revert(),this.dispatchEvent({type:t.TaskEvent.ERROR,target:this})},i.prototype.destroy=function(){e.prototype.destroy.call(this),void 0!==this.videoElement&&(this.videoElement.pause(),this.videoElement.src="",this.videoElement.load(),this.videoElement.removeAttribute("src"),this.videoElement=void 0),this.url=null},i}(t.ARevertableTask);t.VideoLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i,n){e.call(this,t),this.autoplay=!1,this.loop=!1,this.volume=1,this.onVideoEndedBind=this.onVideoEnded.bind(this),this.onUpdateTimeBind=this.onUpdateTime.bind(this),this.onPlayBind=this.onPlay.bind(this),this.onPauseBind=this.onPause.bind(this)}return __extends(i,e),i.FromArray=function(e){return new i(t.CodecDetection.GetSupportedVideo(e))},i.prototype.__default_execute=function(){e.prototype.__default_execute.call(this),this.loop===!0&&(this.videoElement.loop=!0),this.videoElement.volume=this.volume,this.autoplay===!0&&(this.videoElement.autoplay=!0),this.videoElement.addEventListener(t.VideoPlaybackEvent.PLAYING,this.onPlayBind),this.videoElement.addEventListener(t.VideoPlaybackEvent.PAUSED,this.onPauseBind),this.videoElement.addEventListener(t.VideoPlaybackEvent.END,this.onVideoEndedBind),this.videoElement.addEventListener(t.VideoPlaybackEvent.TIME_UPDATE,this.onUpdateTimeBind)},i.prototype.__complete_revert=function(){this.videoElement.removeEventListener(t.VideoPlaybackEvent.PLAYING,this.onPlayBind),this.videoElement.removeEventListener(t.VideoPlaybackEvent.PAUSED,this.onPauseBind),this.videoElement.removeEventListener(t.VideoPlaybackEvent.END,this.onVideoEndedBind),this.videoElement.removeEventListener(t.VideoPlaybackEvent.TIME_UPDATE,this.onUpdateTimeBind),e.prototype.__complete_revert.call(this)},i.prototype.onVideoEnded=function(){this.loop!==!0&&this.dispatchEvent(new t.SSEvent(t.VideoPlaybackEvent.END,this))},i.prototype.onUpdateTime=function(){this.dispatchEvent(new t.SSEvent(t.VideoPlaybackEvent.TIME_UPDATE,this))},i.prototype.onPlay=function(){this.dispatchEvent(new t.SSEvent(t.VideoPlaybackEvent.PLAYING,this))},i.prototype.onPause=function(){this.dispatchEvent(new t.SSEvent(t.VideoPlaybackEvent.PAUSED,this))},i.prototype.getHTML=function(){return this.videoElement},i.prototype.makeAutoplay=function(){this.autoplay=!0,void 0!==this.videoElement&&(this.videoElement.autoplay=!0)},i.prototype.setLoop=function(t){this.loop=t,void 0!==this.videoElement&&(this.videoElement.loop=t)},i.prototype.play=function(){void 0!==this.videoElement&&this.videoElement.play()},i.prototype.pause=function(){void 0!==this.videoElement&&this.videoElement.pause()},i.prototype.togglePlayPause=function(){this.isPlaying()===!0?this.pause():this.play()},i.prototype.stop=function(){this.videoElement.pause(),this.seekTo(0)},i.prototype.seekTo=function(t){this.videoElement.currentTime=t},i.prototype.isPlaying=function(){return this.videoElement.paused?!1:!0},i.prototype.getDuration=function(){return this.videoElement.duration},i.prototype.getCurrentTime=function(){return this.videoElement.currentTime},i.prototype.setVolume=function(t){this.volume=t,void 0!==this.videoElement&&(this.videoElement.volume=t)},i.prototype.getVolume=function(){return this.volume},i.prototype.toggleVolume=function(){this.getVolume()>0?this.setVolume(0):this.setVolume(this.volume)},i.prototype.destroy=function(){e.prototype.destroy.call(this)},i}(t.VideoLoader);t.VideoPlayback=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.coverURL=null,this.sizeBehavior=null,this.videoSize=null,this.onCompleteByCoverBind=this.onCompleteByCover.bind(this),this.onMetaDataCompleteBind=this.onMetaDataComplete.bind(this),this.onPlayingBind=this.onPlaying.bind(this),this.onPausedBind=this.onPaused.bind(this),this.onEndedBind=this.onEnded.bind(this),this.onTimeUpdateBind=this.onTimeUpdate.bind(this),this.onFullscreenChangeBind=this.onFullscreenChange.bind(this),this.onToggleFullscreenBind=this.onToggleFullscreen.bind(this),this.playerCon=t.HTML.Create("div"),t.HTML.AddClass(this.playerCon,"video-player"),this.coverCon=t.HTML.Create("div",{"class":"cover"}),this.playerCon.appendChild(this.coverCon),this.videoPlayback=new t.VideoPlayback(i),this.interfaceCon=t.HTML.Create("div",{"class":"ui"}),this.playerCon.appendChild(this.interfaceCon)}return __extends(i,e),i.prototype.addSizeBehaviour=function(t){this.sizeBehavior=t,this.sizeBehavior.defineAsCSSBackground(this.coverCon)},i.prototype.addCover=function(t){this.coverURL=t},i.prototype.setLoop=function(t){this.videoPlayback.setLoop(t)},i.prototype.setVolume=function(t){this.videoPlayback.setVolume(t)},i.prototype.getPlayback=function(){return this.videoPlayback},i.prototype.getHTML=function(){return this.playerCon},i.prototype.getUIHTML=function(){return this.interfaceCon},i.prototype.getDuration=function(){return this.videoPlayback.getDuration()},i.prototype.getCurrentTime=function(){return this.videoPlayback.getCurrentTime()},i.prototype.addUI=function(t){t.defineVideoPlayer(this),this.interfaceCon.appendChild(t.getHTML())},i.prototype.__default_execute=function(){this.videoPlayback.addEventListener("loadedmetadata",this.onMetaDataCompleteBind),null!==this.coverURL&&(this._coverImageLoader=new t.ImageLoader(this.coverURL),this._coverImageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onCompleteByCoverBind),this._coverImageLoader.execute()),this.setStateToExecuting(),this.videoPlayback.execute()},i.prototype.__executing_revert=function(){this.videoPlayback.removeEventListener("loadedmetadata",this.onMetaDataCompleteBind),null!==this.coverURL&&(this._coverImageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onCompleteByCoverBind),this._coverImageLoader.destroy(),this._coverImageLoader=void 0),this.setStateToDefault(),this.videoPlayback.revert()},i.prototype.onCompleteByCover=function(e){t.HTML.SetStyles(this.coverCon,{backgroundImage:"url("+e.target.data.src+")"}),this._coverImageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onCompleteByCoverBind),this._coverImageLoader.destroy(),this._coverImageLoader=void 0,this.coverLoaded=!0,this.checkComplete()},i.prototype.onMetaDataComplete=function(t){this.videoPlayback.removeEventListener("loadedmetadata",this.onMetaDataCompleteBind),this.metaDataLoaded=!0,this.checkComplete()},i.prototype.checkComplete=function(){null!==this.coverURL&&this.coverLoaded!==!0||this.metaDataLoaded!==!0||(e.prototype.onExecuteComplete.call(this),this.initVideo())},i.prototype.initVideo=function(){this.videoPlaybackHTML=this.videoPlayback.getHTML(),this.videoSize=new t.Area(this.videoPlaybackHTML.videoWidth,this.videoPlaybackHTML.videoHeight),this.updateSize(this.size),this.videoPlayback.addEventListener(t.VideoPlaybackEvent.PLAYING,this.onPlayingBind),this.videoPlayback.addEventListener(t.VideoPlaybackEvent.PAUSED,this.onPausedBind),this.videoPlayback.addEventListener(t.VideoPlaybackEvent.END,this.onEndedBind),this.videoPlayback.addEventListener(t.VideoPlaybackEvent.TIME_UPDATE,this.onTimeUpdateBind),document.addEventListener("fullscreenchange",this.onFullscreenChangeBind),document.addEventListener("mozfullscreenchange",this.onFullscreenChangeBind),document.addEventListener("webkitfullscreenchange",this.onFullscreenChangeBind),document.addEventListener("msfullscreenchange",this.onFullscreenChangeBind),t.HTML.AddAt(this.playerCon,this.videoPlaybackHTML,0)},i.prototype.onPlaying=function(e){this.hideCover(),this.dispatchEvent(new t.SSEvent(t.VideoPlayerEvent.PLAYING,this))},i.prototype.onPaused=function(e){this.dispatchEvent(new t.SSEvent(t.VideoPlayerEvent.PAUSED,this))},i.prototype.onEnded=function(e){this.dispatchEvent(new t.SSEvent(t.VideoPlayerEvent.END,this))},i.prototype.onTimeUpdate=function(e){this.dispatchEvent(new t.SSEvent(t.VideoPlayerEvent.TIME_UPDATE,this))},i.prototype.play=function(){this.videoPlayback.play()},i.prototype.pause=function(){this.videoPlayback.pause()},i.prototype.togglePlayPause=function(){this.videoPlayback.togglePlayPause()},i.prototype.seekTo=function(t){this.videoPlayback.seekTo(t)},i.prototype.stop=function(){this.videoPlayback.pause(),this.videoPlayback.seekTo(0)},i.prototype.hideCover=function(){this.coverCon.style.display="none"},i.prototype.showCover=function(){this.coverCon.style.display="block"},i.prototype.onFullscreenChange=function(e){this.isDocumentInFullScreenMode()===!0?this.dispatchEvent(new t.SSEvent(t.VideoPlayerEvent.ENTER_FULLSCREEN,this)):this.dispatchEvent(new t.SSEvent(t.VideoPlayerEvent.EXIT_FULLSCREEN,this))},i.prototype.onToggleFullscreen=function(t){this.isDocumentInFullScreenMode()===!0?this.exitFullscreen():this.enterFullscreen()},i.prototype.isDocumentInFullScreenMode=function(){return document.fullscreenElement&&null!==document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen},i.prototype.enterFullscreen=function(){this.playerCon.requestFullscreen?this.playerCon.requestFullscreen():this.playerCon.msRequestFullscreen?this.playerCon.msRequestFullscreen():this.playerCon.mozRequestFullScreen?this.playerCon.mozRequestFullScreen():this.playerCon.webkitRequestFullscreen&&this.playerCon.webkitRequestFullscreen()},i.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},i.prototype.updateSize=function(e){this.size=e,null!==this.sizeBehavior&&null!==this.videoSize&&(this.isDocumentInFullScreenMode()===!0?t.HTML.SetStyles(this.videoPlaybackHTML,{marginTop:"",marginLeft:null,height:"100%",width:"100%"}):this.sizeBehavior.defineAsCSSPercentages(this.videoPlaybackHTML))},i.prototype.destroy=function(){document.removeEventListener("fullscreenchange",this.onFullscreenChangeBind),document.removeEventListener("mozfullscreenchange",this.onFullscreenChangeBind),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChangeBind),document.removeEventListener("msfullscreenchange",this.onFullscreenChangeBind),this.videoPlayback.destroy(),this.videoPlayback=null},i}(t.ARevertableTask);t.VideoPlayer=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.AddRoute=function(e,i){t.routes.push({path:t.RouteToRegExp(e),callback:i})},t.Process=function(){var e,i;for(i=0;e=t.routes[i];i++){var n=t.GetFragment(window.location.pathname);if(e.path.test(n)){var s=t.ExtractParameters(e.path,n);if("function"==typeof e.callback)return e.callback.apply(this,s),!0}}return!1},t.RouteToRegExp=function(e){return e=e.replace(t.escapeRegExp,"\\$&").replace(t.optionalParam,"(?:$1)?").replace(t.namedParam,function(t,e){return e?t:"([^/?]+)"}).replace(t.splatParam,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},t.ExtractParameters=function(t,e){var i=t.exec(e).slice(1);return i.map(function(t){return t?decodeURIComponent(t):null})},t.GetFragment=function(e){return e.replace(t.routeStripper,"").replace(t.trailingSlash,"")},t.escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g,t.namedParam=/(\(\?)?:\w+/g,t.optionalParam=/\((.*?)\)/g,t.splatParam=/\*\w+/g,t.routeStripper=/^[#\/]|\s+$/g,t.trailingSlash=/\/$/,t.routes=[],t}();t.Router=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(t){this.type=t}return t.ON_URL_CHANGE="onUrlChange",t}();t.URLEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.getHistoryLength=function(){return this._HistoryLength},e.Init=function(i){i===!0&&t.DeviceInfo.HasPopState===!0?(this._UsingPopState=!0,""!==window.location.hash&&null!==window.location.hash?(e._hash=e.GetCleanHash(window.location.hash),history.replaceState(null,e._hash,e._hash)):e._hash=e.GetCleanUrl(window.location.href),window.addEventListener("popstate",e.OnPopStateHandler)):(this._UsingPopState=!1,""==window.location.hash||null==window.location.hash?e._hash=e.GetCleanUrl(window.location.href):e._hash=e.GetCleanHash(window.location.hash),e.ProcessNewURL(),window.addEventListener("hashchange",e.OnHashChangeHandler))},e.TriggerHistoryChanged=function(){this._UsingPopState===!0?e.OnPopStateHandler():e.OnHashChangeHandler()},e.FireHistoryChanged=function(){e._eventDispatcher.dispatchEvent({type:t.URLEvent.ON_URL_CHANGE})},e.OnPopStateHandler=function(t){e._hash=e.GetCleanUrl(window.location.href),e.ProcessNewURL(),e.FireHistoryChanged()},e.OnHashChangeHandler=function(t){e._hash=e.GetCleanHash(window.location.hash),e.ProcessNewURL(),e.FireHistoryChanged()},e.ProcessNewURL=function(){e._hashSplit=e._hash.split(e._hashSplitCharacter)},e.SetDeepLink=function(t){e.SetHash(t),e.FireHistoryChanged()},e.SetDeepLinkSilent=function(t){e.SetHash(t)},e.ChangeDeepLinkSilent=function(t,i){if(this._hashSplit[t]!=i){this._hashSplit[t]=i;var n="#"+this._hashSplit.join(this._hashSplitCharacter);e.SetHash(n)}},e.SetHash=function(i){e._hash=this.GetCleanUrl(i),t.DeviceInfo.HasPopState===!0?window.history.pushState({historyNum:this._HistoryLength++},i,i):window.location.hash=i,e.ProcessNewURL()},e.GetUrl=function(){return e._url},e.GetDeepLink=function(){return e._hash},e.GetDeepLinkList=function(){return e._hashSplit},e.GetCleanUrl=function(t){return t=t.replace(/:\d{4}/g,""),t=t.replace(/\.[^\/.]+$/,""),t=t.replace(location.protocol+"//"+document.domain,"").match(/[^#$]+/)[0],t=t.replace(/\/#\//,"/"),"/"==t.charAt(0)&&(t=t.substr(1)),"/"==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t},e.GetCleanHash=function(t){if(null!==t){t=t.replace(/:\d{4}/g,""),t=t.replace(/\.[^\/.]+$/,"");var e=t.replace("#","").replace(location.protocol+"//"+document.domain,"").match(/[^#$]+/);return null!=e?e[0]:""}return""},e.AddEventListener=function(t,e){this._eventDispatcher.addEventListener(t,e)},e.RemoveEventListener=function(t,e){this._eventDispatcher.removeEventListener(t,e)},e.DispatchEvent=function(t){this._eventDispatcher.dispatchEvent(t)},e.AddCostumeScheme=function(t,e){this._CostumeSchemes[t]=e},e.HandleLinkClick=function(t,e){var i=e.metaKey===!0;this.CallCostumeURL(t,i)},e.CallCostumeURL=function(e,i){if(t.UrlUtility.HasScheme(e)===!0){var n=e.indexOf(":"),s=e.substr(0,n),o=e.substr(n+1);this.CallCostumeScheme(s,o,i)}else this.GoToURL(e,i)},e.CallCostumeScheme=function(t,e,i){this._CostumeSchemes.hasOwnProperty(t)===!0?this._CostumeSchemes[t](e):this.GoToURL(t+":"+e,i)},e.GoToURL=function(e,i){if(t.UrlUtility.IsAbsolute(e)===!0||i===!0){if(0==e.indexOf(location.origin)&&i!==!0)return void this.SetDeepLink(e);window.open(e,i===!0?null:"_self")}else this.SetDeepLink(e)},e._hashSplitCharacter="/",e._hashSplit=new Array,e._HistoryLength=history.length,e._eventDispatcher=new t.EventDispatcher,e._CostumeSchemes={},e}();t.URLManager=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.Create3DTranslate=function(t,i){return e._TranslateStart+t+"px,"+i+"px"+e._TranslateEnd},e.Init=function(){e._TranslateStart=t.DeviceInfo.Has3D()?"translate3d(":"translate(",e._TranslateEnd=t.DeviceInfo.Has3D()?",0px)":")"},e}();t.Polyfills=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.onTouchClickBind=this.onTouchClick.bind(this),this.onTouchStartBind=this.onTouchStart.bind(this),this.onTouchMoveBind=this.onTouchMove.bind(this),this.onTouchEndBind=this.onTouchEnd.bind(this),this.onTouchCancelBind=this.onTouchCancel.bind(this),this.target=t,this.listener=e,t.addEventListener("click",this.onTouchClickBind),t.addEventListener("touchstart",this.onTouchStartBind),t.addEventListener("touchcancel",this.onTouchCancelBind)}return e.AddClickListener=function(i,n){t.DeviceInfo.HasTouch===!0?i._touchClick=new e(i,n):i.addEventListener("click",n)},e.RemoveClickListener=function(e,i){t.DeviceInfo.HasTouch===!0?(e._touchClick.destroy(),delete e._touchClick):e.removeEventListener("click",i)},e.prototype.onTouchClick=function(t){if(void 0!=t.changedTouches&&1==t.changedTouches.length){if(void 0===this.touchStartTime)return t.stopPropagation(),void t.preventDefault();this.target.removeEventListener("touchend",this.onTouchEndBind),this.target.removeEventListener("touchmove",this.onTouchMoveBind),this.touchStartTime=void 0}this.listener(t)},e.prototype.onTouchStart=function(t){if(1==t.targetTouches.length){var e=t.targetTouches[0];this.touchStartX=e.pageX,this.touchStartY=e.pageY,this.touchStartTime=performance.now(),this.target.addEventListener("touchend",this.onTouchEndBind),this.target.addEventListener("touchmove",this.onTouchMoveBind)}},e.prototype.onTouchMove=function(t){if(1==t.changedTouches.length){var e=t.changedTouches[0];(Math.abs(e.pageX-this.touchStartX)>5||Math.abs(e.pageY-this.touchStartY)>5)&&(this.target.removeEventListener("touchend",this.onTouchEndBind),this.target.removeEventListener("touchmove",this.onTouchMoveBind),this.touchStartTime=void 0)}},e.prototype.onTouchEnd=function(t){if(1==t.changedTouches.length){var e=t.changedTouches[0];if(Math.abs(e.pageX-this.touchStartX)>5||Math.abs(e.pageY-this.touchStartY)>5)return;this.target.removeEventListener("touchend",this.onTouchEndBind),this.target.removeEventListener("touchmove",this.onTouchMoveBind),this.touchStartTime=void 0,this.listener(t)}},e.prototype.onTouchCancel=function(t){this.target.removeEventListener("touchend",this.onTouchEndBind),this.target.removeEventListener("touchmove",this.onTouchMoveBind)},e.prototype.destroy=function(){this.target.removeEventListener("click",this.onTouchClick.bind(this)),this.target.removeEventListener("touchend",this.onTouchStartBind),this.onTouchCancel(),this.onTouchClickBind=this.target=this.listener=null},e}();t.TouchClick=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,n,s){void 0===n&&(n=new Object),void 0===s&&(s=i.TYPE_GET),e.call(this),this.progress=0,this.onProgressHandlerBind=this.onProgressHandler.bind(this),this.url=t,this.requestData=n,this.requestType=s.toUpperCase()}return __extends(i,e),i.prototype.__default_execute=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=this.onLoadCompleteHandler.bind(this),this.request.addEventListener("progress",this.onProgressHandlerBind);var e=this.url,n=t.UrlUtility.URLEncodeObject(this.requestData);this.requestType==i.TYPE_GET&&(e+="?"+n,n=null),this.request.open(this.requestType,e,!0),this.request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.setStateToExecuting(),this.request.send(n)},i.prototype.__executing_revert=function(){this.request.removeEventListener("progress",this.onProgressHandlerBind),this.request.onreadystatechange=null,this.request.abort(),this.__complete_revert()},i.prototype.__complete_revert=function(){this.request=null,e.prototype.setStateToDefault.call(this)},i.prototype.destroy=function(){this.revert(),this.url=this.requestData=this.requestType=null},i.prototype.onProgressHandler=function(e){e.lengthComputable===!0&&(this.progress=e.loaded/e.total,this.dispatchEvent({type:t.RequestEvent.PROGRESS,target:this}))},i.prototype.onLoadCompleteHandler=function(e){4==this.request.readyState&&(this.request.status>=200&&this.request.status<400?(this.request.removeEventListener("progress",this.onProgressHandlerBind),this.request.onreadystatechange=null,this.setStateToComplete(),this.onCompleteHandler(e),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})):this.request.status>400&&this.dispatchEvent({type:t.TaskEvent.ERROR,target:this}))},i.prototype.onCompleteHandler=function(t){},i.TYPE_GET="GET",i.TYPE_POST="POST",i}(t.ARevertableTask);t.AAjaxLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.onLoadCompleteHandlerBind=this.onLoadCompleteHandler.bind(this),this.onLoadErrorHandlerBind=this.onLoadErrorHandler.bind(this),this.url=t}return __extends(i,e),i.WithTargetAsCSS=function(e,n){var s=new i(n);return s.addEventListener(t.TaskEvent.COMPLETE,function(t){e.style["background-image"]="url('"+n+"')",s.destroy()}),s},i.WithTargetAsElement=function(e,n){var s=new i(n);return s.addEventListener(t.TaskEvent.COMPLETE,function(t){e.appendChild(t.data),s.destroy()}),s},i.prototype.__default_execute=function(){this.data=new Image,this.data.addEventListener("load",this.onLoadCompleteHandlerBind),this.data.addEventListener("abort",this.onLoadErrorHandlerBind),this.data.addEventListener("error",this.onLoadErrorHandlerBind),this.setStateToExecuting(),this.data.src=this.url},i.prototype.removeEventListeners=function(){this.data.removeEventListener("load",this.onLoadCompleteHandlerBind),this.data.removeEventListener("abort",this.onLoadErrorHandlerBind),this.data.removeEventListener("error",this.onLoadErrorHandlerBind)},i.prototype.onLoadCompleteHandler=function(e){
this.removeEventListeners(),this.setStateToComplete(),this.dispatchEvent({type:t.TaskEvent.COMPLETE,target:this})},i.prototype.onLoadErrorHandler=function(e){this.revert(),this.dispatchEvent({type:t.TaskEvent.ERROR,target:this})},i.prototype.__executing_revert=function(){this.removeEventListeners(),this.data.src="",this.data.removeAttribute("src"),this.data=null,this.setStateToDefault()},i.prototype.__complete_revert=function(){this.data=null,this.setStateToDefault()},i.prototype.destroy=function(){this.url=null,e.prototype.destroy.call(this),this.data=null},i}(t.ARevertableTask);t.ImageLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,i,n,s),this.responseType=t.AXHRLoader.RESPONSE_BLOB}return __extends(i,e),i.prototype.onCompleteHandler=function(e){if(void 0!==window.URL)this.data=window.URL.createObjectURL(this.request.response);else{var i=this.url;this.requestType==t.AXHRLoader.REQUEST_GET&&(i+="?"+t.UrlUtility.URLEncodeObject(this.requestData)),this.data=i}},i.prototype.destroy=function(){this.data=null,e.prototype.destroy.call(this)},i}(t.AXHRLoader);t.ImageLoaderXHR=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.onCompleteHandler=function(t){try{this.data=JSON.parse(this.request.responseText)}catch(e){throw new Error("JSON Parsing Error: "+e.name+": "+e.message)}},e.prototype.__complete_revert=function(){this.data=null,t.prototype.__complete_revert.call(this)},e}(t.AAjaxLoader);t.JSONLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.onJSONPCompleteBind=this.onJSONPComplete.bind(this);var n="?";t.indexOf("?")>-1&&(n="&");var s=i._Callbacks.length;i._Callbacks.push(this.onJSONPCompleteBind),this.url=t+n+"callback=ss.JSONPLoader._Callbacks["+s+"]"}return __extends(i,e),i.prototype.__default_execute=function(){this.scriptElement=document.createElement("script"),this.scriptElement.src=this.url,this.header=document.getElementsByTagName("head"),this.header[0].appendChild(this.scriptElement)},i.prototype.onJSONPComplete=function(e){i._Callbacks[i._Callbacks.indexOf(this.onJSONPCompleteBind)]=null,this.data=e,this.dispatchEvent(new t.SSEvent(t.TaskEvent.COMPLETE,this))},i.prototype.__executing_revert=function(){i._Callbacks[i._Callbacks.indexOf(this.onJSONPCompleteBind)]=null,this.__complete_revert()},i.prototype.__complete_revert=function(){this.data=null,this.header.removeChild(this.scriptElement),this.scriptElement=null,this.header=null,e.prototype.setStateToDefault.call(this)},i.prototype.destroy=function(){this.revert(),this.url=null},i._Callbacks=[],i}(t.ARevertableTask);t.JSONPLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.ImageLoader=t.ImageLoader,e}();t.LoaderFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,i,n,s),this.responseType=t.AXHRLoader.RESPONSE_ARRAY}return __extends(i,e),i.prototype.onCompleteHandler=function(t){var e=new Uint8Array(this.request.response),i=String.fromCharCode.apply(null,e),n=btoa(i);this.data="data:image/jpeg;base64,"+n},i.prototype.destroy=function(){this.data=null,e.prototype.destroy.call(this)},i}(t.AXHRLoader);t.RawImageLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,i,n,s),this.responseType=t.AXHRLoader.RESPONSE_TEXT}return __extends(i,e),i.prototype.onCompleteHandler=function(t){this.data=this.request.response},i.prototype.destroy=function(){this.data=null,e.prototype.destroy.call(this)},i}(t.AXHRLoader);t.RawLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.PROGRESS="progress",e}(t.TaskEvent);t.RequestEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(n,s,o,r,a,h){e.call(this,null),this.currentWidth=0,this.imageAPI=n,this.imageSourceSize=new t.Area(s,o),this.imageAspectRatio=t.GeometryUtility.CalculateAspectRatio(s,o),this.sizeBehavior=r,this.sizeSteps=a||i.DEFAULT_SIZE_STEPS,this.pixelDensity=h===!0?1:t.DeviceInfo.PixelRatio}return __extends(i,e),i.prototype.allowRetina=function(){this.pixelDensity=t.DeviceInfo.PixelRatio,void 0!==this._size&&this.setSize(this._size)},i.prototype.__default_execute=function(){null!=this.url&&e.prototype.__default_execute.call(this)},i.prototype.setSize=function(t){this._size=t;var e=this.sizeBehavior.toRectangle(t.multiplyByNumber(this.pixelDensity),this.imageSourceSize),i=Math.min(Math.floor(e.w/this.sizeSteps)*this.sizeSteps,this.imageSourceSize.w);this.currentWidth!=i&&(this.revert(),this.currentWidth=i,this.url=this.imageAPI+"?width="+this.currentWidth,this.execute())},i.prototype.getAspectRatio=function(){return this.imageAspectRatio},i.prototype.getSize=function(){return new t.Area(this.currentWidth,this.currentWidth*this.imageAspectRatio)},i.prototype.destroy=function(){this.sizeBehavior=null,e.prototype.destroy.call(this)},i.DEFAULT_SIZE_STEPS=16,i}(t.ImageLoader);t.ResponsiveImageLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(n,s,o,r,a,h){e.call(this,null),this.currentWidth=0,this.imageAPI=n,this.imageSourceSize=new t.Area(s,o),this.imageAspectRatio=t.GeometryUtility.CalculateAspectRatio(s,o),this.sizeBehavior=r,this.sizeSteps=a||i.DEFAULT_SIZE_STEPS,this.pixelDensity=h===!0?1:t.DeviceInfo.PixelRatio}return __extends(i,e),i.prototype.allowRetina=function(){this.pixelDensity=t.DeviceInfo.PixelRatio,void 0!==this._size&&this.setSize(this._size)},i.prototype.__default_execute=function(){void 0!=this.url&&e.prototype.__default_execute.call(this)},i.prototype.setSize=function(t){this._size=t;var e=this.sizeBehavior.toRectangle(t.multiplyByNumber(this.pixelDensity),this.imageSourceSize),i=Math.min(Math.floor(e.w/this.sizeSteps)*this.sizeSteps,this.imageSourceSize.w);this.currentWidth!=i&&(this.revert(),this.currentWidth=i,this.url=this.imageAPI,this.requestData.width=this.currentWidth,this.execute())},i.prototype.destroy=function(){this.sizeBehavior=null,e.prototype.destroy.call(this)},i.DEFAULT_SIZE_STEPS=16,i}(t.ImageLoaderXHR);t.ResponsiveImageLoaderXHR=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.onCompleteHandler=function(t){this.scriptElement=document.createElement("script"),this.scriptElement.type="text/javascript",this.scriptElement.text=this.request.responseText,document.body.appendChild(this.scriptElement)},e}(t.AXHRLoader);t.ScriptLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,i,n,s),this.responseType=t.AXHRLoader.RESPONSE_BLOB}return __extends(i,e),i.FromArray=function(e){return new i(t.CodecDetection.GetSupportedVideo(e))},i.prototype.onCompleteHandler=function(t){this.data=window.URL.createObjectURL(this.request.response)},i.prototype.destroy=function(){this.data=null,e.prototype.destroy.call(this)},i}(t.AXHRLoader);t.VideoLoaderXHR=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.onCompleteHandler=function(t){this.data=this.request.responseText},e.prototype.__complete_revert=function(){this.data=null,t.prototype.__complete_revert.call(this)},e}(t.AAjaxLoader);t.XMLLoader=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e,i,n){this.width=t,this.height=e,this.halign=i,this.valign=n}return e.GetAlignmentValueFromString=function(t){for(var e,i=t.split(" "),n=[.5,.5],s=i.length;s--;)switch(e=i[s]){case"left":n[0]=0;break;case"right":n[0]=1;break;case"top":n[1]=0;break;case"bottom":n[1]=1}return n},e.FromJSON=function(t){var i,n,s,o;if(void 0!==t.size){var r=t.size.match(/\d+|auto/g);if(null!==r)i=parseFloat(r[0])/100,n=parseFloat(r[1])/100;else if("cover"==t.size)i=n=1;else{if("contain"!=t.size)throw new TypeError("SizeBehvaior::FromJSON: The value "+t.size+" is not valid for the size property.");i=n=null}}if(void 0!==t.align){var a=t.align.match(/\d+/g);if(null!==a)s=parseFloat(a[0])/100,o=parseFloat(a[1])/100;else{var h=e.GetAlignmentValueFromString(t.align);s=h[0],o=h[1]}}return isNaN(i)&&(i=null),isNaN(n)&&(n=null),isNaN(s)&&(s=.5),isNaN(o)&&(o=.5),new e(i,n,s,o)},e.prototype.getSizeProp=function(){return 1==this.width&&1==this.height?"cover":null==this.width&&null==this.height?"contain":t.StyleUtility.ConvertToPercentagesOrAuto(this.width)+" "+t.StyleUtility.ConvertToPercentagesOrAuto(this.height)},e.prototype.toRectangle=function(e,i){var n,s,o=t.GeometryUtility.CalculateAspectRatio(e.w,e.h),r=t.GeometryUtility.CalculateAspectRatio(i.w,i.h);1==this.width&&1==this.height?r>o?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null==this.width&&null==this.height?o>r?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null!==this.width?(n=e.w*this.width,s=n/r):(s=e.h*this.height,n=s*r);var a=e.w-n,h=e.h-s,d=new t.Point(a*this.halign,h*this.valign);return new t.Rectangle(d,n,s)},e.prototype.toRectanglePercentages=function(e,i){var n,s,o=t.GeometryUtility.CalculateAspectRatio(e.w,e.h),r=t.GeometryUtility.CalculateAspectRatio(i.w,i.h);1==this.width&&1==this.height?r>o?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null==this.width&&null==this.height?o>r?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null!==this.width?(n=e.w*this.width,s=n/r):(s=e.h*this.height,n=s*r);var a=e.w-n,h=e.h-s,d=new t.Point(a*this.halign/e.w,h*this.valign/e.h);return new t.Rectangle(d,n/e.w,s/e.h)},e.prototype.toRectangleTurned=function(e,i){i=i.turn();var n,s,o=t.GeometryUtility.CalculateAspectRatio(e.w,e.h),r=t.GeometryUtility.CalculateAspectRatio(i.w,i.h);1==this.width&&1==this.height?r>o?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null==this.width&&null==this.height?o>r?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null!==this.width?(n=e.w*this.width,s=n/r):(s=e.h*this.height,n=s*r);var a=n;n=s,s=a;var h=e.w-n,d=e.h-s,l=new t.Point(h*this.halign,d*this.valign);return new t.Rectangle(l,n,s)},e.prototype.toRectangleTurnedPercentages=function(e,i){i=i.turn();var n,s,o=t.GeometryUtility.CalculateAspectRatio(e.w,e.h),r=t.GeometryUtility.CalculateAspectRatio(i.w,i.h);1==this.width&&1==this.height?r>o?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null==this.width&&null==this.height?o>r?(n=e.h*r,s=e.h):(n=e.w,s=e.w/r):null!==this.width?(n=e.w*this.width,s=n/r):(s=e.h*this.height,n=s*r);var a=n;n=s,s=a;var h=e.w-n,d=e.h-s,l=new t.Point(h*this.halign/e.w,d*this.valign/e.h);return new t.Rectangle(l,n/e.w,s/e.h)},e.prototype.defineAsCSSBackground=function(t){t.style.backgroundPosition=Math.floor(100*this.halign)+"% "+Math.floor(100*this.valign)+"% ",t.style.backgroundSize=this.getSizeProp()},e.prototype.defineAsCSSPercentages=function(e){var i=this.halign,n=this.valign;null!=this.width&&(i=(1-this.width)*i),null!=this.height&&(n=(1-this.height)*n),e.style.marginLeft=t.StyleUtility.ConvertToPercentagesOrAuto(i),e.style.marginTop=t.StyleUtility.ConvertToPercentagesOrAuto(n),e.style.width=t.StyleUtility.ConvertToPercentagesOrAuto(this.width),e.style.height=t.StyleUtility.ConvertToPercentagesOrAuto(this.height)},e.prototype.defineAsCSSPixels=function(t,e,i){var n=this.toRectangle(t,e);i.style.marginLeft=n.o.x+"px",i.style.marginTop=n.o.y+"px",i.style.width=n.w+"px",i.style.height=n.h+"px"},e.prototype.defineAsCSSPercentagesAbsolute=function(e){e.style.left=t.StyleUtility.ConvertToPercentagesOrAuto(this.halign),e.style.top=t.StyleUtility.ConvertToPercentagesOrAuto(this.valign),e.style.width=t.StyleUtility.ConvertToPercentagesOrAuto(this.width),e.style.height=t.StyleUtility.ConvertToPercentagesOrAuto(this.height)},e.prototype.defineAsCSSPixelsAbsolute=function(t,e,i){var n=this.toRectangle(t,e);i.style.left=n.o.x+"px",i.style.top=n.o.y+"px",i.style.width=n.w+"px",i.style.height=n.h+"px"},e.prototype.toJSON=function(){},e}();t.SizeBehavior=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.GetElement=function(t){return document.getElementById(t)},t.Qs=function(t,e){return e.querySelector(t)},t.QsAll=function(t,e){return e.querySelectorAll(t)},t.Create=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg",t);if(null!==e){var n;for(n in e)i.setAttributeNS(null,n,e[n])}return i},t.SetAttribute=function(t,e,i){t.setAttributeNS(null,e,i)},t.SetAttributes=function(t,e){var i;for(i in e)t.setAttributeNS(null,i,e[i])},t.GetAttribute=function(t,e){return t.getAttributeNS(null,e)},t.AddClass=function(t,e){var i=t.getAttributeNS(null,"class");if(null==i||""==i)i=e;else{var n=new RegExp("(^|\\s)"+e+"(\\s|$)");n.test(i)||(i+=" "+e)}t.setAttributeNS(null,"class",i)},t.RemoveClass=function(t,e){var i=t.getAttributeNS(null,"class");if(null!=i&&""!=i){var n=new RegExp("(\\b)"+e+"(\\s|$)","g");i=i.replace(n," ").trim().replace(/[\s]{2}/g," "),t.setAttributeNS(null,"class",i)}},t}();t.SVG=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.prototype.getSVG=function(){return this.element},t.prototype.setAttribute=function(t,e){this.element.setAttributeNS(null,t,e)},t.prototype.getAttribute=function(t){return this.element.getAttributeNS(null,t)},t.prototype.update=function(){},t.prototype.destroy=function(){this.element=void 0},t}();t.SVGSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.childs=[],this.element=t.SVG.Create(i)}return __extends(i,e),i.prototype.addChild=function(t){this.childs.push(t),this.element.appendChild(t.element)},i.prototype.addChildAt=function(t,e){this.childs.splice(e,0,t),this.element.insertBefore(t.element,this.element.childNodes[e])},i.prototype.removeChild=function(t){this.element.removeChild(t.element),this.childs.removeElement(t)},i.prototype.clone=function(){return new t.SVGSymbol},i.prototype.update=function(){for(var t=this.childs.length;t--;)this.childs[t].update()},i.prototype.destroy=function(){for(var t,i=this.childs.length;i--;)t=this.childs[i],this.element.appendChild(t.element),t.destroy();this.childs=null,e.prototype.destroy.call(this)},i}(t.SVGSymbol);t.SVGContainerSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i){t.call(this,"svg"),this.element.setAttributeNS(null,"width",e),this.element.setAttributeNS(null,"height",i)}return __extends(e,t),e.prototype.setSize=function(t,e){this.element.setAttributeNS(null,"width",t),this.element.setAttributeNS(null,"height",e)},e}(t.SVGContainerSymbol);t.SVGCanvasSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.shape=i,this.element=t.SVG.Create("circle",{cx:this._cx=this.shape.o.x,cy:this._cy=this.shape.o.y,r:this._r=this.shape.r})}return __extends(i,e),i.prototype.update=function(){this._cx!==this.shape.o.x&&t.SVG.SetAttribute(this.element,"cx",this._cx=this.shape.o.x),this._cy!==this.shape.o.y&&t.SVG.SetAttribute(this.element,"cy",this._cy=this.shape.o.y),this._r!==this.shape.r&&t.SVG.SetAttribute(this.element,"r",this._r=this.shape.r)},i}(t.SVGSymbol);t.SVGCircleSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.call(this,"clipPath")}return __extends(e,t),e}(t.SVGContainerSymbol);t.SVGClipPathSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.shape=i,this.element=t.SVG.Create("path",{d:this.shape.toSVGString("M")})}return __extends(i,e),i.prototype.update=function(){t.SVG.SetAttribute(this.element,"d",this.shape.toSVGString("M"))},i}(t.SVGSymbol);t.SVGCubicBezierSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.call(this,"g")}return __extends(e,t),e}(t.SVGContainerSymbol);t.SVGGroupSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.shape=i,this.element=t.SVG.Create("line",{x1:this._x1=this.shape.a.x,y1:this._y1=this.shape.a.y,x2:this._x2=this.shape.b.x,y2:this._y2=this.shape.b.y})}return __extends(i,e),i.FromPoints=function(e,n){return new i(new t.Line(e,n))},i.prototype.update=function(){this._x1!==this.shape.a.x&&t.SVG.SetAttribute(this.element,"x1",this._x1=this.shape.a.x),this._y1!==this.shape.a.y&&t.SVG.SetAttribute(this.element,"y1",this._y1=this.shape.a.y),this._x2!==this.shape.b.x&&t.SVG.SetAttribute(this.element,"x2",this._x2=this.shape.b.x),this._y2!==this.shape.b.y&&t.SVG.SetAttribute(this.element,"y2",this._y2=this.shape.b.y)},i}(t.SVGSymbol);t.SVGLineSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.path=i,this.element=t.SVG.Create("path"),this.update()}return __extends(i,e),i.FromArray=function(e){return new i(t.Path.FromArray(e))},i.prototype.clone=function(){return new i(this.path.clone())},i.prototype.update=function(){t.SVG.SetAttribute(this.element,"d",this.path.toSVGString("M"))},i}(t.SVGSymbol);t.SVGPathSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.shape=i,this.element=t.SVG.Create("polygon"),this.update()}return __extends(i,e),i.FromArray=function(e){return new i(t.Polygon.FromArray(e))},i.prototype.clone=function(){return new i(this.shape.clone())},i.prototype.update=function(){t.SVG.SetAttribute(this.element,"points",this.shape.toString())},i}(t.SVGSymbol);t.SVGPolygonSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.shape=i,this.element=n||t.SVG.Create("rect",{x:this._x=this.shape.o.x,y:this._y=this.shape.o.y,width:this._w=this.shape.w,height:this._h=this.shape.h})}return __extends(i,e),i.OwnNode=function(e){return new i(t.Rectangle.FromSVG(e),e)},i.prototype.update=function(){this._x!==this.shape.o.x&&t.SVG.SetAttribute(this.element,"x",this._x=this.shape.o.x),this._y!==this.shape.o.y&&t.SVG.SetAttribute(this.element,"y",this._y=this.shape.o.y),this._w!==this.shape.w&&t.SVG.SetAttribute(this.element,"width",this._w=this.shape.w),this._h!==this.shape.h&&t.SVG.SetAttribute(this.element,"height",this._h=this.shape.h)},i}(t.SVGSymbol);t.SVGRectangleSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.shape=i,this.element=t.SVG.Create("path",{d:this.shape.toSVGString("M")})}return __extends(i,e),i.prototype.update=function(){t.SVG.SetAttribute(this.element,"d",this.shape.toSVGString("M"))},i}(t.SVGSymbol);t.SVGRoundedRectangleFlexSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.shape=i,this.element=t.SVG.Create("rect",{x:this._x=this.shape.o.x,y:this._y=this.shape.o.y,width:this._w=this.shape.w,height:this._h=this.shape.h,rx:this._r=this.shape.r,ry:this.shape.r})}return __extends(i,e),i.prototype.update=function(){this._x!==this.shape.o.x&&t.SVG.SetAttribute(this.element,"x",this._x=this.shape.o.x),this._y!==this.shape.o.y&&t.SVG.SetAttribute(this.element,"y",this._y=this.shape.o.y),this._w!==this.shape.w&&t.SVG.SetAttribute(this.element,"width",this._w=this.shape.w),this._h!==this.shape.h&&t.SVG.SetAttribute(this.element,"height",this._h=this.shape.h),this._r!==this.shape.r&&(t.SVG.SetAttribute(this.element,"rx",this._r=this.shape.r),t.SVG.SetAttribute(this.element,"ry",this.shape.r))},i}(t.SVGSymbol);t.SVGRoundedRectangleSymbol=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.CreateDictionary=function(t,e){for(var i={},n=t.length;n--;)i[t[n][e]]=t[n];return i},t.PushAt=function(t,e,i){t.splice(i,0,e)},t.CloneArray=function(t){return t.slice(0)},t.CloneCloneableArray=function(t){for(var e=[],i=0,n=t.length;n>i;i++)e[i]=t[i].clone();return e},t.FilterByPropertyValue=function(t,e,i){return t.filter(function(t){return t[e]==i})},t.ForEachMakeFloat=function(t,e,i){i[e]=parseFloat(t)},t.ForEachMakeInt=function(t,e,i){i[e]=parseInt(t)},t.ForEachMakeString=function(t,e,i){i[e]=t.toString()},t.ReduceToString=function(t,e){return t.push(e.toString()),t},t.ReduceToFloat=function(t,e){return t.push(parseFloat(e)),t},t}();t.ArrayUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.GetRandomColor=function(){for(var t="0123456789ABCDEF".split(""),e="#",i=0;6>i;i++)e+=t[Math.floor(16*Math.random())];return e},e.StringToRGB=function(i){return i=i.toLowerCase(),"#"==i.substr(0,1)?t.RGB.FromHex(i):"rgb"==i.substr(0,3)?t.RGB.FromString(i):t.RGB.FromHex(e.NameToHex(i))},e.StringToRGBA=function(i){return i=i.toLowerCase(),"#"==i.substr(0,1)?t.RGBA.FromHex(i):"rgb"==i.substr(0,3)?t.RGBA.FromString(i):t.RGBA.FromHex(e.NameToHex(i))},e.RGBArrayToHEXNumber=function(e,i,n){return new t.RGB(e,i,n).toHexNumber()},e.PrependZeroIfNecessaryHelper=function(t){return 1==t.length?"0"+t:t},e.RGBValuesToHEX=function(t,i,n){return"#"+e.PrependZeroIfNecessaryHelper(t.toString(16))+e.PrependZeroIfNecessaryHelper(i.toString(16))+e.PrependZeroIfNecessaryHelper(n.toString(16))},e.HexToNumber=function(e){var i=t.RGB.FromHex(e);return i.toHexNumber()},e.NameToHex=function(t){return"#"+e.ColorNames[t.toLowerCase()]},e.ColorNames={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},e}();t.ColorUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.AngleDifference=function(e,i){var n=t.MathUtility.Modulo(i,t.MathUtility.DOUBLE_PI)-t.MathUtility.Modulo(e,t.MathUtility.DOUBLE_PI);return n>Math.PI?n-=t.MathUtility.DOUBLE_PI:n<=-Math.PI&&(n+=t.MathUtility.DOUBLE_PI),n},e.GetRadiusToCoverSquare=function(t){return Math.sqrt(2*Math.pow(t,2))},e.GetDiameterToCoverRectangle=function(t){return Math.sqrt(Math.pow(t.w,2)+Math.pow(t.h,2))},e.GetSquareWidthInsideCircle=function(t){return Math.sqrt(.5*Math.pow(t,2))},e.CalculateAngle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},e.Distance=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},e.SquaredDistance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},e.CoordinateDifference=function(e,i){return new t.Point(e.x-i.x,e.y-i.y)},e.CoordinateDifferenceSquared=function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},e.GetInterpolatedPoint=function(e,i,n){return new t.Point(t.MathUtility.Lerp(e.x,i.x,n),t.MathUtility.Lerp(e.y,i.y,n))},e.GetClosestLinearInterpolation=function(t,e,i){var n=e.x-t.x,s=e.y-t.y;return((i.x-t.x)*n+(i.y-t.y)*s)/this.CoordinateDifferenceSquared(t,e)},e.GetClosestPoint=function(t,i,n){return e.GetInterpolatedPoint(i,n,e.GetClosestLinearInterpolation(i,n,t))},e.GetClosestPointOnLine=function(i,n,s){return e.GetInterpolatedPoint(n,s,t.MathUtility.Limit(e.GetClosestLinearInterpolation(n,s,i),0,1))},e.RotatePoint=function(e,i){var n=Math.cos(i),s=Math.sin(i),o=e.x*n-e.y*s,r=e.y*n+e.x*s;return new t.Point(o,r)},e.RotatePointAroundAxis=function(e,i,n){e=e.subtract(i);var s=Math.cos(n),o=Math.sin(n),r=e.x*s-e.y*o,a=e.y*s+e.x*o;return new t.Point(r,a)},e.C=.55191502449,e.CalculateAspectRatio=function(t,e){return t/e},e.CalculateScaleAspectToFitInsideValues=function(t,e,i,n){return i/n>t/e?t/i:e/n},e.CalculateScaleAspectToFitInsideArea=function(t,e){return t.w/t.h<e.w/e.h?t.w/e.w:t.h/e.h},e}();t.GeometryUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.IsInt=function(t){return isFinite(t)&&t%1==0},t.GetSign=function(t){return 0==t?0:t>0?1:-1},t.Limit=function(t,e,i){return Math.min(i,Math.max(e,t))},t.Sum=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return e.reduce(t._SumReduceFunc,0)},t._SumReduceFunc=function(t,e){return t+e},t.Average=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];return t.Sum.apply(null,e)/arguments.length},t.GetRandomInt=function(t){return Math.floor(Math.random()*t)},t.ToRadians=function(e){return e*t.DEGREE},t.ToDegrees=function(e){return e*t.RADIAN},t.Modulo=function(t,e){return t%=e,0>t*e?t+e:t},t.Lerp=function(t,e,i){return t+i*(e-t)},t.LerpRadians=function(e,i,n){var s=((i-e)%t.DOUBLE_PI+3*Math.PI)%t.DOUBLE_PI-Math.PI;return e+n*s},t.ModulaShortest=function(e,i,n){return((i-e)%t.DOUBLE_PI+3*Math.PI)%t.DOUBLE_PI-Math.PI},t.PRECISION=1e-6,t.HALF_PI=.5*Math.PI,t.DOUBLE_PI=2*Math.PI,t.DEGREE=Math.PI/180,t.RADIAN=180/Math.PI,t}();t.MathUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.ConvertWheelDelta=function(t){var e,i=t.detail,n=t.wheelDelta,s=225,o=s-1;return i=i?n&&(e=n/i)?i/e:-i/1.35:n/120,i=1>i?-1>i?(-Math.pow(i,2)-o)/s:i:(Math.pow(i,2)+o)/s,Math.min(Math.max(i/2,-1),1)},t.IsRightClick=function(t){return"which"in t?3==t.which:"button"in t?2==t.button:!1},t}();t.MouseUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.IsNumeric=function(t){return!isNaN(t)&&isFinite(t)},t}();t.NumberUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.Clone=function(t){var e=/^\[object (.*)\]$/.exec(Object.prototype.toString.call(t))[1];switch(e){case"Object":return this.CloneObject(t);case"Array":return t.slice(0);case"RegExp":return this.CloneRegExp(t);case"Date":return new Date(+t);default:return t}},t.CloneRegExp=function(t){var e="";return e+=t.multiline?"m":"",e+=t.global?"g":"",e+=t.ignoreCase?"i":"",new RegExp(t.source,e)},t.CloneObject=function(t){if(this.IsPlainObject(t)){var e,i,n={};for(e in t)t.hasOwnProperty(e)&&(i=t[e],n[e]=this.Clone(i));return n}return t},t.IsPlainObject=function(t){return!!t&&"object"==typeof t&&t.constructor===Object},t.MergeObject=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var i,n,s,o,r=1;for(o=this.Clone(t[0]);s=t[r++];)for(i in s)s.hasOwnProperty(i)&&(n=s[i],"object"==typeof n&&"object"==typeof o[i]?o[i]=this.MergeObject(o[i],n):o[i]=this.Clone(n));return o},t}();t.ObjectUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.URLDecode=function(t){return decodeURIComponent((t+"").replace(/\+/g,"%20"))},t.GetHashCode=function(t){var e,i,n=1315423911;for(e=t.length-1;e>=0;e--)i=t.charCodeAt(e),n^=(n<<5)+i+(n>>2);return 2147483647&n},t.IsNullOrEmpty=function(t){return""==t||null==t},t.ConvertNullToEmpty=function(t){return null==t?"":t},t.RemoveNewLineAndTab=function(t){return t.replace(/[\r\n\t]/g,"")},t.UppercaseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.RemoveWhiteSpace=function(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")},t.GetFileExtension=function(t){return t.substr(t.lastIndexOf(".")+1)},t.ShortenIfLongerThan=function(t,e,i){return t.length>e?t.substring(0,e)+i:t},t}();t.StringUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.CreateLimitedCallFunction=function(t,e,i){var n=!1,s=function(){if(n!==!0){n=!0;var s=arguments;setTimeout(function(){n=!1,t.apply(i,s)},e)}};return s},t.CreateLimitCaller=function(t,e,i){var n,s,o=!1,r=function(){var r=arguments;o===!0?n=t:(o=!0,s=setInterval(function(){void 0===n?(o=!1,clearInterval(s)):(t.apply(i,r),n=void 0)},e),t.apply(i,r))};return r},t}();t.TimerUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e._RegexReplace=function(t){return"@2x"+t},e.HandleRetinaURL=function(i){return t.DeviceInfo.PixelRatio>=2?i.replace(/\.[\w\?=]+$/,e._RegexReplace):i},e.URLEncodeObject=function(t){var e=[];for(var i in t)e.push(i+"="+encodeURIComponent(t[i]));return e.join("&")},e.IsAbsolute=function(t){var e=new RegExp("^(?:[a-z]+:)?//","i");return e.test(t)},e.HasScheme=function(t){var e=new RegExp("^[a-z0-9]+:","i");return e.test(t)},e.GetFileExtension=function(t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,i=e.exec(t);return i.pop().toLowerCase()},e}();t.UrlUtility=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t){e.call(this),this.views=new Array,this.requestingView=null,this.currentView=null,this.hasEmptyFrame=!0,this.onOldViewHiddenBind=this.onOldViewHidden.bind(this),this.onNewViewCompleteBind=this.onNewViewComplete.bind(this),this.behaviour=new t(this)}return __extends(i,e),i.prototype.getBehaviour=function(){return this.behaviour},i.prototype.addView=function(t){this.views.push(t)},i.prototype.removeView=function(e){this.requestingView===e&&(this.requestingView.removeEventListener(t.TaskEvent.COMPLETE,this.onNewViewCompleteBind),this.requestingView.revert(),this.requestingView=null),this.currentView===e&&this.removeCurrentView(),this.views.removeElement(e)},i.prototype.getRequestingView=function(){return this.requestingView},i.prototype.getCurrentView=function(){return this.currentView},i.prototype.getCurrentViewIndex=function(){return this.views.indexOf(this.currentView)},i.prototype.getCurrentViewByID=function(e){var i=t.ArrayUtility.FilterByPropertyValue(this.views,"viewID",e);return i.length>0?i[0]:null},i.prototype.getCurrentViewID=function(){return this.currentView.viewID},i.prototype.next=function(){var t=this.views.indexOf(this.requestingView||this.currentView);-1==t&&(t=0),this.jumpToIndex(t+1)},i.prototype.prev=function(){var t=this.views.indexOf(this.requestingView||this.currentView);-1==t&&(t=0),this.jumpToIndex(t-1)},i.prototype.jumpToIndex=function(e){e=t.MathUtility.Modulo(e,this.views.length),this.setView(this.views[e])},i.prototype.jumpToID=function(e){var i=t.ArrayUtility.FilterByPropertyValue(this.views,"viewID",e);i.length>0?this.setView(i[0]):this.jumpToIndex(0)},i.prototype.jumpToView=function(t){this.setView(t)},i.prototype.setView=function(e){if(null!==this.requestingView){if(this.requestingView===e)return;this.requestingView.removeEventListener(t.TaskEvent.COMPLETE,this.onNewViewCompleteBind),this.requestingView.revert()}else if(this.currentView===e)return;e.defineAggregation(this),this.behaviour.start(this.currentView,e)},i.prototype._hideCurrentView=function(){
var t=this.currentView;this.currentView=null,this._hideView(t)},i.prototype._hideView=function(e){null!==e&&(e.addEventListener(t.YoYoEvent.HIDDEN,this.onOldViewHiddenBind),e.hide())},i.prototype._loadNewView=function(e){this.requestingView=e,this.requestingView.setSize(this.size),this.requestingView.addEventListener(t.TaskEvent.COMPLETE,this.onNewViewCompleteBind),this.requestingView.execute()},i.prototype.onOldViewHidden=function(e){var i=e.target;i.removeEventListener(t.YoYoEvent.HIDDEN,this.onOldViewHiddenBind),this.removeViewElement(i),i.disassemble(),this.dispatchEvent({type:t.ViewAggragationEvent.VIEW_DISASSEMBLED,target:this,view:i})},i.prototype.onNewViewComplete=function(e){this.requestingView.removeEventListener(t.TaskEvent.COMPLETE,this.onNewViewCompleteBind),this.dispatchEvent({type:t.ViewAggragationEvent.VIEW_COMPLETE,target:this,view:this.requestingView})},i.prototype._assembleRequestingView=function(){this.currentView=this.requestingView,this.requestingView=null,this.currentView.assemble(),this.dispatchEvent({type:t.ViewAggragationEvent.VIEW_ASSEMBLED,target:this,view:this.currentView})},i.prototype._frameRequestingView=function(){this.frameCurrentView(),this.dispatchEvent({type:t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,target:this,view:this.currentView}),this.dispatchEvent(new t.TaskEvent(t.TaskEvent.COMPLETE,this))},i.prototype._showRequestingView=function(){this.currentView.show()},i.prototype.frameCurrentView=function(){},i.prototype.removeCurrentView=function(){this.currentView.disassemble(),this.currentView=null},i.prototype.removeViewElement=function(t){},i.prototype.setSize=function(t){this.size=t,null!==this.currentView&&this.currentView.setSize(t)},i.prototype.getSize=function(){return this.size},i.prototype.destroy=function(){this.behaviour.destroy(),this.behaviour=null,this.views=this.currentView=null},i}(t.EventDispatcher);t.SingleViewAggregation=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i){t.call(this,i),this.onFrameViewCompleteBind=this.onFrameViewComplete.bind(this),this.con=e}return __extends(e,t),e.prototype.frameCurrentView=function(){this.con.appendChild(this.currentView.getHTML()),requestAnimationFrame(this.onFrameViewCompleteBind)},e.prototype.onFrameViewComplete=function(){this.currentView.addedToStage()},e.prototype.removeViewElement=function(e){e.removedFromStage(),this.con.removeChild(e.getHTML()),t.prototype.removeViewElement.call(this,e)},e.prototype.destroy=function(){this.con=null,t.prototype.destroy.call(this)},e}(t.SingleViewAggregation);t.SingleHTMLViewAggregation=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){}return t.VIEW_ASSEMBLED="view_assembled",t.VIEW_DISASSEMBLED="view_disassembled",t.VIEW_COMPLETE="view_complete",t.VIEW_ADDED_TO_STAGE="view_added_to_stage",t.SHOW_BEGIN="show_begin",t.HIDE_BEGIN="hide_begin",t}();t.ViewAggragationEvent=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){throw new Error("CSSAdvPropertyWithUnitRender Cant be instianziated as an object.")}return e.FromDataValues=function(t,e,i,n,s,o,r,a){throw new Error("CSSAdvPropertyWithUnitRender Cant be created from data values. ("+typeof s+")")},e.FromNumberValues=function(e,i,n,s,o,r,a,h){return i=t.StyleUtility.GetVendorPrefix(i),null===s&&(s=parseFloat(t.StyleUtility.GetStyleValue(e,i))),new t.CSSPropertyWithUnitRender(e,i,n,s,o,r,a,h)},e.FromStringValues=function(e,i,n,s,o,r,a){i=t.StyleUtility.GetVendorPrefix(i);var h=t.StyleUtility.GetUnit(s);if(null===n){n=t.StyleUtility.GetStyleValue(e,i,"0"+h);var d=t.StyleUtility.GetUnit(n);if(d!=h)throw new Error("The from and to values have to be in the same unit. Atleast for now, conversion between unit-types havent been made jet.")}return new t.CSSPropertyWithUnitRender(e,i,h,parseFloat(n),parseFloat(s),o,r,a)},e}();t.CSSAdvPropertyWithUnitRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.element=e,this.property=i,this.from=n,this.to=s,this.bounds=new t.Range(o,r),this.duration=this.bounds.length(),this.ease=a}return e.FromDataValues=function(i,n,s,o,r,a,h,d){return null===o&&(o=t.ColorUtility.StringToRGB(t.StyleUtility.GetStyleValue(i,n))),new e(i,n,o,r,a,h,d)},e.FromNumberValues=function(i,n,s,o,r,a,h,d){if(null===o){var l=t.ColorUtility.StringToRGB(t.StyleUtility.GetStyleValue(i,n));return new e(i,n,l,t.RGB.FromHexNumber(r),a,h,d)}return new e(i,n,t.RGB.FromHexNumber(o),t.RGB.FromHexNumber(r),a,h,d)},e.FromStringValues=function(i,n,s,o,r,a,h){return null===s&&(s=t.StyleUtility.GetStyleValue(i,n)),new e(i,n,t.ColorUtility.StringToRGB(s),t.ColorUtility.StringToRGB(o),r,a,h)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.from.blendRGB(this.to,this.ease(t-this.bounds.start,0,1,this.bounds.end-this.bounds.start))},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element.style[this.property]=this.from.blendRGB(this.to,this.ease(t-this.bounds.start,0,1,this.bounds.end-this.bounds.start)).toString())},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.element.style[this.property]=this.from.blendRGB(this.to,this.ease(t-this.bounds.start,0,1,this.bounds.end-this.bounds.start)).toString()},e.prototype.updateRender=function(){this.element.style[this.property]=this.from.blendRGB(this.to,this.ease(this.progress-this.bounds.start,0,1,this.bounds.end-this.bounds.start)).toString()},e.prototype.destroy=function(){this.element=this.property=this.bounds=this.ease=this.from=this.to=null},e}();t.CSSColorPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.element=e,this.property=i,this.to=s,this.from=n,this.bounds=new t.Range(o,r),this.ease=a}return e.FromDataValues=function(t,e,i,n,s,o,r,a){throw new Error("CSSPropertyRender Cant be created from data values. ("+typeof s+")")},e.FromNumberValues=function(i,n,s,o,r,a,h,d){return null===o&&(o=parseFloat(t.StyleUtility.GetStyleValue(i,n))),new e(i,n,o,r,a,h,d)},e.FromStringValues=function(i,n,s,o,r,a,h){return null===s&&(s=t.StyleUtility.GetStyleValue(i,n)),new e(i,n,parseFloat(s),parseFloat(o),r,a,h)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element.style[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.element.style[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.updateRender=function(){this.element.style[this.property]=this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.destroy=function(){this.element=this.property=this.bounds=this.property=this.from=this.to=null},e}();t.CSSPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(){e.apply(this,arguments)}return __extends(i,e),i.FromNumberValues=function(e,i,n,s,o,r,a,h){return null===s&&(s=parseFloat(t.StyleUtility.GetStyleValue(e,i,"1"))),new t.CSSPropertyRender(e,i,s,o,r,a,h)},i}(t.CSSPropertyRender);t.CSSOpacityPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a,h){this.element=e,this.property=t.StyleUtility.GetVendorPrefix(i),this.unit=n,this.from=s,this.to=o,this.bounds=new t.Range(r,a),this.duration=this.bounds.length(),this.ease=h}return e.FromDataValues=function(i,n,s,o,r,a,h,d){if(null===o){var l=t.StyleUtility.GetStyleValue(i,n,"0 0");o=t.Point.FromString(l);var u=t.StyleUtility.GetUnit(l);if(null===s)s=u;else if(u!=s&&0!=o.x&&0!=o.y)throw new Error("The from and to values have to be in the same unit. Atleast for now, conversion between unit-types havent been made jet.")}return null===s&&(s="px"),new e(i,n,s,o,r,a,h,d)},e.FromNumberValues=function(t,e,i,n,s,o,r,a){throw new Error("CSSPointWithUnitPropertyRender cant be created from numberic values.")},e.FromStringValues=function(i,n,s,o,r,a,h){var d=t.StyleUtility.GetUnit(o);null===s&&(s=t.StyleUtility.GetStyleValue(i,n,"0 0"));var l=t.Point.FromString(s),u=t.StyleUtility.GetUnit(s);if(null===d)d=u;else if(u!=d&&0!=l.x&&0!=l.y)throw new Error("The from and to values have to be in the same unit. Atleast for now, conversion between unit-types havent been made jet.");return null===d&&(d="px"),new e(i,n,d,l,t.Point.FromString(o),r,a,h)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t));var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);return this.from.lerp(this.to,e)},e.prototype.renderAt=function(t){if(t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t){this.progress=t;var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);this.element.style[this.property]=this.from.lerp(this.to,e).toCSSStringWithUnit(this.unit)}},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t;var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);this.element.style[this.property]=this.from.lerp(this.to,e).toCSSStringWithUnit(this.unit)},e.prototype.updateRender=function(){var t=this.ease((this.progress-this.bounds.start)/this.duration,0,1,1);this.element.style[this.property]=this.from.lerp(this.to,t).toCSSStringWithUnit(this.unit)},e.prototype.destroy=function(){this.bounds=this.ease=this.element=this.property=this.from=this.to=null},e}();t.CSSPointWithUnitPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a,h){this.element=e,this.property=i,this.unit=n,this.to=o,this.from=s,this.bounds=new t.Range(r,a),this.ease=h}return e.FromDataValues=function(t,e,i,n,s,o,r,a){throw new Error("CSSPropertyWithUnitRender Cant be created from data values. ("+typeof s+")")},e.FromNumberValues=function(i,n,s,o,r,a,h,d){if(null===o){var l=t.StyleUtility.GetStyleValue(i,n);o=parseFloat(l);var u=t.StyleUtility.GetUnit(l);if(null===s)s=u;else if(u!=s&&0!=o)throw new Error("The from and to values have to be in the same unit. Atleast for now, conversion between unit-types havent been made jet.")}return null===s&&(s="px"),new e(i,n,s,o,r,a,h,d)},e.FromStringValues=function(i,n,s,o,r,a,h){var d=t.StyleUtility.GetUnit(o);null===s&&(s=t.StyleUtility.GetStyleValue(i,n));var l=parseFloat(s),u=t.StyleUtility.GetUnit(s);if(null===d)d=u;else if(u!=d&&0!=l)throw new Error("The from and to values have to be in the same unit. Atleast for now, conversion between unit-types havent been made jet.");return null===d&&(d="px"),new e(i,n,d,l,parseFloat(o),r,a,h)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element.style[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)+this.unit)},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.element.style[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)+this.unit},e.prototype.updateRender=function(){this.element.style[this.property]=this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)+this.unit},e.prototype.destroy=function(){this.element=this.property=this.bounds=this.property=this.unit=this.from=this.to=null},e}();t.CSSPropertyWithUnitRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.element=e,this.property=t.css.name.TRANSFORM,this.from=i,this.to=n,this.bounds=new t.Range(s,o),this.duration=this.bounds.length(),this.ease=r}return e.FromDataValues=function(i,n,s,o,r,a,h){return null===s&&(s=t.TransformMatrix.FromString(t.StyleUtility.GetStyleValue(i,n,"matrix(1,0,0,1,0,0)"))),new e(i,s,o,r,a,h)},e.FromNumberValues=function(t,e,i,n,s,o,r,a){throw new Error("CSSTransformPropertyRender cant be created from numberic values.")},e.FromStringValues=function(i,n,s,o,r,a,h){return null===s&&(s=t.StyleUtility.GetStyleValue(i,n,"matrix(1,0,0,1,0,0)")),new e(i,t.TransformMatrix.FromString(s),t.TransformMatrix.FromString(o),r,a,h)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t));var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);return this.from.interpolate(this.to,e)},e.prototype.renderAt=function(t){if(t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t){this.progress=t;var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);this.element.style[this.property]=this.from.interpolate(this.to,e).toString()}},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t;var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);this.element.style[this.property]=this.from.interpolate(this.to,e).toString()},e.prototype.updateRender=function(){var t=this.ease((this.progress-this.bounds.start)/this.duration,0,1,1);this.element.style[this.property]=this.from.interpolate(this.to,t).toString()},e.prototype.destroy=function(){this.bounds=this.ease=this.element=this.property=this.from=this.to=null},e}();t.CSSTransformPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.element=e,this.property=i,this.from=n,this.to=s,this.bounds=new t.Range(o,r),this.duration=this.bounds.length(),this.ease=a}return e.FromDataValues=function(e,i,n,s,o,r,a,h){return null===s&&(s=t.ColorUtility.StringToRGB(t.StyleUtility.GetStyleValue(e,i))),new t.CSSColorPropertyRender(e,i,s,o,r,a,h)},e.FromNumberValues=function(e,i,n,s,o,r,a,h){if(null===s){var d=t.ColorUtility.StringToRGB(t.StyleUtility.GetStyleValue(e,i));return new t.CSSColorPropertyRender(e,i,d,t.RGB.FromHexNumber(o),r,a,h)}return new t.CSSColorPropertyRender(e,i,t.RGB.FromHexNumber(s),t.RGB.FromHexNumber(o),r,a,h)},e.FromStringValues=function(e,i,n,s,o,r,a){return null===n&&(n=t.StyleUtility.GetStyleValue(e,i)),new t.CSSColorPropertyRender(e,i,t.ColorUtility.StringToRGB(n),t.ColorUtility.StringToRGB(s),o,r,a)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.from.blendRGB(this.to,this.ease(t-this.bounds.start,0,1,this.bounds.end-this.bounds.start))},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element.setAttribute(this.property,this.from.blendRGB(this.to,this.ease(t-this.bounds.start,0,1,this.bounds.end-this.bounds.start)).toString()))},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.element.setAttribute(this.property,this.from.blendRGB(this.to,this.ease(t-this.bounds.start,0,1,this.bounds.end-this.bounds.start)).toString())},e.prototype.updateRender=function(){this.element.setAttribute(this.property,this.from.blendRGB(this.to,this.ease(this.progress-this.bounds.start,0,1,this.bounds.end-this.bounds.start)).toString())},e.prototype.destroy=function(){this.element=this.property=this.bounds=this.ease=this.from=this.to=null},e}();t.ColorPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.bounds=new t.Range(s,o),this.ease=r,this.from=i,this.to=n,this.func=e}return e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.func(this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)))},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.func(this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.updateRender=function(){this.func(this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.destroy=function(){this.func=null,this.bounds=null},e}();t.FunctionRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.bounds=new t.Range(o,r),this.ease=a,this.element=e,this.property=i,null===n?this.from=this.element.getAttributeNS(null,this.property):this.from=n,this.to=s}return e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element.setAttributeNS(null,this.property,this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)))},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t;var e=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start);0==e?this.element.removeAttributeNS(null,this.property):this.element.setAttributeNS(null,this.property,e)},e.prototype.updateRender=function(){this.element.setAttributeNS(null,this.property,this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.destroy=function(){this.element=this.property=this.ease=this.bounds=null},e}();t.NSPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.property=e,null===i?this.from=this.property.clone():this.from=i,this.to=n,this.bounds=new t.Range(s,o),this.duration=this.bounds.length(),this.ease=r}return e.FromDataValues=function(t,i,n,s,o,r,a,h){return new e(t[i],s,o,r,a,h)},e.FromNumberValues=function(t,e,i,n,s,o,r,a){throw new Error("PointPropertyRender Cant be created from number values. ("+typeof s+")")},e.FromStringValues=function(i,n,s,o,r,a,h){return null===s&&(s=t.StyleUtility.GetStyleValue(i,n)),new e(i[n],t.Point.FromString(s),t.Point.FromString(o),r,a,h)},e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.renderAt=function(t){if(t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t){this.progress=t;var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);this.property.lerpInBetween(this.from,this.to,e)}},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t;var e=this.ease((t-this.bounds.start)/this.duration,0,1,1);this.property.lerpInBetween(this.from,this.to,e)},e.prototype.updateRender=function(){var t=this.ease((this.progress-this.bounds.start)/this.duration,0,1,1);this.property.lerpInBetween(this.from,this.to,t)},e.prototype.destroy=function(){this.from=this.to=this.property=this.ease=this.bounds=null},e}();t.PointPropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.bounds=new t.Range(o,r),this.ease=a,this.element=e,this.property=i,null===n?this.from=this.element[this.property]:this.from=n,this.to=s}return e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.updateRender=function(){this.element[this.property]=this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.destroy=function(){this.element=this.property=this.ease=this.bounds=null},e}();t.PropertyRender=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a,h){this.bounds=new t.Range(r,a),this.ease=h,this.element=e,this.property=i,this.unit=n,null===s?this.from=parseFloat(this.element[this.property]):this.from=s,this.to=o}return e.prototype.change=function(t,e){this.from=t,this.to=e},e.prototype.getValueAt=function(t){return t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)},e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.element[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)+this.unit)},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.element[this.property]=this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)+this.unit},e.prototype.updateRender=function(){this.element[this.property]=this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)+this.unit},e.prototype.destroy=function(){this.element=this.property=this.ease=this.bounds=null},e}();t.PropertyRenderWithUnit=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.bounds=new t.Range(s,o),this.ease=r,this.from=i,this.to=n,this.obj=e}return e.prototype.renderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress!=t&&(this.progress=t,this.obj.renderAt(this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start)))},e.prototype.lastRenderAt=function(t){t=Math.min(this.bounds.end,Math.max(this.bounds.start,t)),this.progress=t,this.obj.lastRenderAt(this.ease(t-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.updateRender=function(){this.obj.renderAt(this.ease(this.progress-this.bounds.start,this.from,this.to-this.from,this.bounds.end-this.bounds.start))},e.prototype.destroy=function(){this.obj=this.ease=this.bounds=null},e}();t.RenderRenderable=e}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i=function(i){function n(e,n){i.call(this),this.required=!1,this.validators=[],this.onValueChangedBind=this.onValueChanged.bind(this),this.setVisualToValid=this.__default_setVisualToValid,this.setVisualToInvalid=this.__default_setVisualToInvalid,this.id=e,this.html=document.createElement("div"),t.HTML.AddClass(this.html,"fieldcon "+n),this.inputCon=document.createElement("div"),t.HTML.AddClass(this.inputCon,"inputcon")}return __extends(n,i),n.prototype.getHtmlElement=function(){return this.html},n.prototype.setFocus=function(){},n.prototype.removeFocus=function(){},n.prototype.addLabel=function(e){var i=document.createElement("div");t.HTML.AddClass(i,"labelcon");var n=document.createElement("label");n.setAttribute("for",this.id),n.innerHTML=e,i.appendChild(n),this.html.appendChild(i)},n.prototype.addDescription=function(t){this.description=t},n.prototype.addErrorMessage=function(t){this.errorMessage=t},n.prototype.addValidator=function(t){this.validators.push(t)},n.prototype.makeRequired=function(){this.required=!0,t.HTML.AddClass(this.html,"required"),this.addValidator(new e.validator.FieldNotEmpty)},n.prototype.generateDescriptionHTML=function(){var e=document.createElement("div");t.HTML.AddClass(e,"descriptioncon"),e.innerHTML=this.description,this.html.appendChild(e)},n.prototype.generateErrorHTML=function(){this.errorConHTML=document.createElement("div"),t.HTML.AddClass(this.errorConHTML,"errorcon"),this.html.appendChild(this.errorConHTML)},n.prototype.renderHTML=function(t){this.fieldset=t,this.fieldset.attachFieldHtml(this._generateHTML()),this.renderHTML=this.__isRendered__renderHTML},n.prototype._generateHTML=function(){return this._generateFieldHTML(),this.html.appendChild(this.inputCon),null!=this.description&&this.generateDescriptionHTML(),this.generateErrorHTML(),this.html},n.prototype._generateFieldHTML=function(){},n.prototype.__isRendered__renderHTML=function(){},n.prototype.getID=function(){return this.id},n.prototype.validate=function(){return this.updateValidation()},n.prototype.onValueChanged=function(t){this.updateValidation()},n.prototype.updateValidation=function(){return this.getValidState()===!0?(this.isValid===!1&&(this.errorConHTML.innerHTML=null,t.HTML.RemoveClass(this.html,n.INVALID_CLASS)),t.HTML.AddClass(this.html,n.VALID_CLASS),this.isValid=!0):(this.isValid===!0&&t.HTML.RemoveClass(this.html,n.VALID_CLASS),t.HTML.AddClass(this.html,n.INVALID_CLASS),null!=this.errorMessage&&(this.errorConHTML.innerHTML=this.errorMessage),this.isValid=!1)},n.prototype.getValidState=function(){for(var t=0;t<this.validators.length;t++)if(this.validators[t].check(this)===!1)return!1;return!0},n.prototype.getValueAsString=function(){return null},n.prototype.getValueAsNumber=function(){return null},n.prototype.getValueAsJSON=function(){return null},n.prototype.__default_setVisualToValid=function(){this.setValidState(),this.setVisualToValid=this.__isValid_setVisualToValid,this.setVisualToInvalid=this.__isValid_setVisualInvalid},n.prototype.__isInvalid_setVisualToValid=function(){this.removeInvalidState(),this.__default_setVisualToValid()},n.prototype.__isValid_setVisualToValid=function(){},n.prototype.__default_setVisualToInvalid=function(){this.setInvalidState(),this.setVisualToValid=this.__isInvalid_setVisualToValid,this.setVisualToInvalid=this.__isInvalid_setVisualInvalid},n.prototype.__isInvalid_setVisualInvalid=function(){},n.prototype.__isValid_setVisualInvalid=function(){this.removeValidState(),this.__default_setVisualToInvalid()},n.prototype.setValidState=function(){},n.prototype.removeValidState=function(){},n.prototype.setInvalidState=function(){},n.prototype.removeInvalidState=function(){},n.prototype.destroy=function(){},n.VALID_CLASS="valid",n.INVALID_CLASS="invalid",n}(t.EventDispatcher);e.AField=i}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(t){function e(){t.apply(this,arguments),this.options=[]}return __extends(e,t),e.prototype.addOption=function(t,e,i){this.options.push({data:t,label:e,selected:i})},e}(t.AField);t.MultiOptionField=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(e){function i(t){e.call(this,t,"checkbox"),this.checkBoxes=[]}return __extends(i,e),i.prototype._generateFieldHTML=function(){var e,i,n;for(e=0;i=this.options[e];e++)n=new t.CheckboxInput(i.data,i.label),n.addEventListener("check",this.onValueChangedBind),this.inputCon.appendChild(n.element),this.checkBoxes.push(n)},i.prototype.getValueAsString=function(){for(var t=this.checkBoxes.length;t--;)if(this.checkBoxes[t].checked===!0)return"true";return""},i.prototype.getValueAsJSON=function(){return this.getValueAsString()},i.FieldClass=t.CheckboxInput,i}(t.MultiOptionField);t.CheckboxField=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this,e,"dropdown")}return __extends(e,t),e.prototype._generateFieldHTML=function(){this.element=document.createElement("select"),this.element.name=this.id,this.element.addEventListener("change",this.onValueChangedBind);for(var t,e=0;e<this.options.length;e++){t=this.options[e];var i=document.createElement("option");i.value=t.data,i.innerHTML=t.label,this.element.appendChild(i)}this.inputCon.appendChild(this.element)},e.prototype.getValueAsString=function(){return this.element.value},e.prototype.getValueAsNumber=function(){return parseFloat(this.element.value)},e.prototype.getValueAsJSON=function(){return this.element.value},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(t.MultiOptionField);t.DropdownField=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this,e,"radio")}return __extends(e,t),e.prototype._generateFieldHTML=function(){var t,e;for(t=0;e=this.options[t];t++){var i=document.createElement("label");i.setAttribute("for",e.data);var n=document.createElement("input");n.id=e.data,n.name=this.id,n.value=e.data,n.type="radio",e.selected===!0&&(n.checked=!0),n.addEventListener("change",this.onValueChangedBind),i.appendChild(n),i.appendChild(document.createTextNode(e.label)),this.inputCon.appendChild(i),e.input=n}},e.prototype.getValueAsString=function(){return this.radiofield.value},e.prototype.getValueAsNumber=function(){return parseFloat(this.radiofield.value)},e.prototype.getValueAsJSON=function(){return this.radiofield.value},e}(t.MultiOptionField);t.RadioField=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this,"","submit"),this.text=e}return __extends(e,t),e.prototype._generateFieldHTML=function(){this.element=document.createElement("input"),this.element.type="submit",this.element.value=this.text,this.inputCon.appendChild(this.element)},e}(t.AField);t.SubmitField=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e=function(t){function e(e){t.call(this,e,"text"),this.element=null,this.onKeyPressBind=this.onKeyPress.bind(this),this.element=document.createElement("input"),this.element.name=this.id,this.element.type="text",this.element.addEventListener("keypress",this.onKeyPressBind)}return __extends(e,t),e.prototype.onKeyPress=function(t){13==t.keyCode&&this.fieldset.focusNext(this)},e.prototype.setFocus=function(){this.element.focus()},e.prototype.removeFocus=function(){this.element.blur()},e.prototype._generateFieldHTML=function(){this.element.addEventListener("change",this.onValueChangedBind),this.inputCon.appendChild(this.element)},e.prototype.setValue=function(t){this.element.value=t},e.prototype.setValueFromJSON=function(t){this.element.value=t[this.id]},e.prototype.getValueAsString=function(){return this.element.value},e.prototype.getValueAsNumber=function(){return parseFloat(this.element.value)},e.prototype.getValueAsJSON=function(){return this.element.value},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e}(t.AField);t.TextField=e}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(t){this.regex=t}return t.prototype.check=function(t){return this.regex.test(t.getValueAsString())},t.prototype.destroy=function(){this.regex=null},t}();t.FieldRegex=e}(e=t.validator||(t.validator={}))}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e;!function(t){var e=function(t){function e(){t.call(this,new RegExp("^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"))}return __extends(e,t),e}(t.FieldRegex);t.FieldMail=e}(e=t.validator||(t.validator={}))}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.check=function(t){return!(""==t.getValueAsString());
},t.prototype.destroy=function(){},t}();t.FieldNotEmpty=e}(e=t.validator||(t.validator={}))}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i){this.from=t,this.to=i,e.call(this,t.o,t.r)}return __extends(i,e),i.prototype.morphTo=function(t){this.from=this.clone(),this.to=t},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.renderAt=function(e){e=t.MathUtility.Limit(e,0,1),this.progress=e,this.lerpInBetween(this.from,this.to,e)},i.prototype.updateRender=function(){this.lerpInBetween(this.from,this.to,this.progress)},i.prototype.destroy=function(){this.from=null,this.to=null},i}(t.Circle);t.CircleMorphRender=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i){this.from=t,this.to=i,e.call(this,t.x,t.y)}return __extends(i,e),i.prototype.morphTo=function(t){this.from=this.clone(),this.to=t},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.renderAt=function(e){e=t.MathUtility.Limit(e,0,1),this.progress=e,this.lerpInBetween(this.from,this.to,e)},i.prototype.updateRender=function(){this.lerpInBetween(this.from,this.to,this.progress)},i.prototype.destroy=function(){this.from=null,this.to=null},i}(t.Point);t.PointMorphRender=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i){this.from=t,this.to=i,e.call(this,t.o,t.w,t.h)}return __extends(i,e),i.prototype.morphTo=function(t){this.from=this.clone(),this.to=t},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.renderAt=function(e){e=t.MathUtility.Limit(e,0,1),this.progress=e,this.lerpInBetween(this.from,this.to,e)},i.prototype.updateRender=function(){this.lerpInBetween(this.from,this.to,this.progress)},i.prototype.destroy=function(){this.from=null,this.to=null},i}(t.Rectangle);t.RectangleMorphRender=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i){this.from=t,this.to=i,e.call(this,t.o,t.w,t.h,t.radiusTL,t.radiusTR,t.radiusBL,t.radiusBR)}return __extends(i,e),i.prototype.morphTo=function(t){this.from=this.clone(),this.to=t},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.renderAt=function(e){e=t.MathUtility.Limit(e,0,1),this.progress=e,this.lerpInBetween(this.from,this.to,e)},i.prototype.updateRender=function(){this.lerpInBetween(this.from,this.to,this.progress)},i.prototype.destroy=function(){this.from=null,this.to=null},i}(t.RoundedRectangleFlex);t.RoundedRectangleFlexMorphRender=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(t,i){this.from=t,this.to=i,e.call(this,t.o,t.w,t.h,t.r)}return __extends(i,e),i.prototype.morphTo=function(t){this.from=this.clone(),this.to=t},i.prototype.lastRenderAt=function(t){this.renderAt(t)},i.prototype.renderAt=function(e){e=t.MathUtility.Limit(e,0,1),this.progress=e,this.lerpInBetween(this.from,this.to,e)},i.prototype.updateRender=function(){this.lerpInBetween(this.from,this.to,this.progress)},i.prototype.destroy=function(){this.from=null,this.to=null},i}(t.RoundedRectangle);t.RoundedRectangleMorphRender=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.onExecuteCompleteBind=this.onExecuteComplete.bind(this),this.url=i,this.element=t.HTML.Create("div",{"class":"media image"}),this.sizeBehavior=n}return __extends(i,e),i.FromJSON=function(e){var n=t.SizeBehavior.FromJSON(e),s=e.url;if(void 0==s)throw new Error("ImageHTMLDisplay::FromJSON: url for media item of type image cannot be empty.");return new i(s,n)},i.prototype.getHTML=function(){return this.element},i.prototype.__default_execute=function(){this.imageLoader=new t.ImageLoader(this.url),this.setStateToExecuting(),this.imageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),this.imageLoader.execute()},i.prototype.__executing_revert=function(){this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),this.imageLoader.destroy(),this.imageLoader=null,e.prototype.__executing_revert.call(this)},i.prototype.onExecuteComplete=function(i){this.sizeBehavior.defineAsCSSBackground(this.element),t.HTML.SetStyles(this.element,{backgroundImage:"url("+this.imageLoader.data.src+")"}),this.__executing_revert(),e.prototype.onExecuteComplete.call(this,i)},i.prototype.updateSize=function(t){},i.prototype.enable=function(){},i.prototype.disable=function(){},i}(t.ARevertableTask);t.HTMLImageDisplay=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s,o){e.call(this),this.onExecuteCompleteBind=this.onExecuteComplete.bind(this),this.url=i,this.element=t.HTML.Create("div",{"class":"media image"}),this.sizeBehavior=o,this.sizeBehavior.defineAsCSSBackground(this.element),this.responsiveImage=new t.ResponsiveImageLoader(this.url,n,s,this.sizeBehavior),this.responsiveImage.addEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind)}return __extends(i,e),i.FromJSON=function(e){var n=t.SizeBehavior.FromJSON(e),s=e.url,o=e.width,r=e.height;if(void 0==s)throw new Error("HTMLImageResponsiveDisplay::FromJSON: url for media item of type image cannot be empty.");var a=t.UrlUtility.GetFileExtension(s);return"svg"==a||"gif"==a?new t.HTMLImageDisplay(s,n):new i(s,o,r,n)},i.prototype.getHTML=function(){return this.element},i.prototype.__default_execute=function(){this.setStateToExecuting(),this.responsiveImage.execute()},i.prototype.__executing_revert=function(){this.responsiveImage.revert(),e.prototype.__executing_revert.call(this)},i.prototype.__complete_revert=function(){this.responsiveImage.revert(),e.prototype.__complete_revert.call(this)},i.prototype.onExecuteComplete=function(i){t.HTML.SetStyles(this.element,{backgroundImage:"url("+this.responsiveImage.data.src+")"}),e.prototype.onExecuteComplete.call(this,i)},i.prototype.updateSize=function(t){this.responsiveImage.setSize(t)},i.prototype.enable=function(){},i.prototype.disable=function(){},i.prototype.destroy=function(){this.sizeBehavior=null,e.prototype.destroy.call(this),void 0!==this.responsiveImage&&(this.responsiveImage.removeEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),this.responsiveImage.destroy(),this.responsiveImage=void 0)},i}(t.ARevertableTask);t.HTMLImageResponsiveDisplay=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.enabled=!0,this.autoPlay=!1,this.onExecuteCompleteBind=this.onExecuteComplete.bind(this),this.videoPlayer=new t.VideoPlayer(i),this.videoPlayer.addSizeBehaviour(n),this.element=this.videoPlayer.getHTML(),t.HTML.AddClass(this.element,"media")}return __extends(i,e),i.FromJSON=function(e){var n=t.SizeBehavior.FromJSON(e),s=t.CodecDetection.GetSupportedVideo(e.urls);if(void 0==s)throw new Error("ImageHTMLDisplay::FromJSON: urls for media item of type video cannot be empty.");var o=new i(s,n);return void 0!=e.coverURL&&o.getPlayer().addCover(e.coverURL),e.autoPlay===!0&&t.DeviceInfo.IsMobileDevice===!1&&o.makeAutoPlay(),e.loop===!0&&o.getPlayer().setLoop(!0),void 0!=e.volume&&o.getPlayer().setVolume(e.volume),o},i.prototype.makeAutoPlay=function(){this.autoPlay=!0},i.prototype.getHTML=function(){return this.element},i.prototype.getPlayer=function(){return this.videoPlayer},i.prototype.__default_execute=function(){this.setStateToExecuting(),this.videoPlayer.addEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),this.videoPlayer.execute()},i.prototype.__executing_revert=function(){this.videoPlayer.removeEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),e.prototype.__executing_revert.call(this)},i.prototype.onExecuteComplete=function(t){this.__executing_revert(),this.videoPlayer.updateSize(this.size),this.enabled===!0&&this.autoPlay===!0&&this.videoPlayer.play(),e.prototype.onExecuteComplete.call(this,t)},i.prototype.updateSize=function(t){this.size=t,this.videoPlayer.updateSize(t)},i.prototype.enable=function(){this.enabled!==!0&&(this.enabled=!0,this.autoPlay===!0&&this.videoPlayer.play())},i.prototype.disable=function(){this.enabled!==!1&&(this.enabled=!1,this.videoPlayer.pause())},i.prototype.destroy=function(){void 0!==this.videoPlayer&&(this.videoPlayer.destroy(),this.videoPlayer=void 0),this.element=null},i}(t.ARevertableTask);t.HTMLVideoDisplay=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.enabled=!0,this.onExecuteCompleteBind=this.onExecuteComplete.bind(this),this.url=i.url,this.sizeBehavior=n,this.sequencePlayer=new t.SpriteSequencePlayer(i),this.sequencePlayer.addSizeBehaviour(n),this.element=this.sequencePlayer.getHTML(),t.HTML.AddClass(this.element,"media spriteSequence")}return __extends(i,e),i.FromJSON=function(e){var n=t.SizeBehavior.FromJSON(e);if(void 0==e.url)throw new Error("SpriteSequenceHTMLDisplay::FromJSON: url for media item of type image cannot be empty.");return new i(e,n)},i.prototype.__default_execute=function(){this.sequencePlayer.addEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),this.sequencePlayer.execute()},i.prototype.__executing_revert=function(){this.sequencePlayer.removeEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind)},i.prototype.onExecuteComplete=function(t){this.__executing_revert(),this.sequencePlayer.updateSize(this.size),this.enabled===!0&&this.sequencePlayer.enable(),e.prototype.onExecuteComplete.call(this,t)},i.prototype.getHTML=function(){return this.element},i.prototype.updateSize=function(t){this.size=t,this.sequencePlayer.updateSize(t)},i.prototype.enable=function(){this.enabled!==!0&&(this.enabled=!0,this.sequencePlayer.enable())},i.prototype.disable=function(){this.enabled!==!1&&(this.enabled=!1,this.sequencePlayer.disable())},i}(t.ARevertableTask);t.HTMLSpriteSequenceDisplay=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.CreateFromJSON=function(t){return e.Create(t.type,t)},e.Create=function(t,i){var t=t.toLowerCase();if(e._Dictionary.hasOwnProperty(t)===!1)throw new TypeError("HTMLDisplayFactory::CreateSection: There is no section with the type '"+t+"'.");return e._Dictionary[t].FromJSON(i)},e._Dictionary={image:t.HTMLImageResponsiveDisplay,gif:t.HTMLImageDisplay,svg:t.HTMLImageDisplay,video:t.HTMLVideoDisplay,spritesequence:t.HTMLSpriteSequenceDisplay},e}();t.HTMLMediaDisplayFactory=e}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i;!function(e){var i=function(e){function i(i){e.call(this),this.waitingToComplete=null,this.newViewIsCompleteBind=this.newViewIsComplete.bind(this),this.onAddedToStageBind=this.onAddedToStage.bind(this),this.viewAggregation=i,this.viewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind)}return __extends(i,e),i.prototype.getOldView=function(){return this.oldView},i.prototype.start=function(e,i){null!==this.waitingToComplete&&(this.waitingToComplete.removeEventListener(t.TaskEvent.COMPLETE,this.newViewIsCompleteBind),this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onAddedToStageBind),this.waitingToComplete=null),this.oldView=e,this.waitingToComplete=i,this.viewAggregation._loadNewView(this.waitingToComplete)},i.prototype.newViewIsComplete=function(e){this.waitingToComplete===e.view&&(this.viewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onAddedToStageBind),this.viewAggregation._assembleRequestingView(),this.viewAggregation._frameRequestingView())},i.prototype.onAddedToStage=function(e){this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onAddedToStageBind),this.waitingToComplete=null,this.dispatchEvent({type:"onReadyToConfirm",target:this})},i.prototype.confirm=function(){null!==this.oldView&&(this.viewAggregation._showRequestingView(),this.viewAggregation._hideView(this.oldView),this.oldView=null)},i.prototype.destroy=function(){this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind),this.viewAggregation=null},i}(t.EventDispatcher);e.FrameThenShowAndHideOnConfirm=i}(i=e.behaviours||(e.behaviours={}))}(e=t.view||(t.view={}))}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(e){this.newViewIsCompleteBind=this.newViewIsComplete.bind(this),this.viewAggregation=e,this.viewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind)}return e.prototype.start=function(t,e){this.viewAggregation._loadNewView(e)},e.prototype.newViewIsComplete=function(t){t.view;this.viewAggregation._hideCurrentView(),this.viewAggregation._assembleRequestingView(),this.viewAggregation._frameRequestingView(),this.viewAggregation._showRequestingView()},e.prototype.destroy=function(){this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind),this.viewAggregation=null},e}();e.HideAndShowSimultaneously=i}(i=e.behaviours||(e.behaviours={}))}(e=t.view||(t.view={}))}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(e){this.waitingToComplete=null,this.newViewIsCompleteBind=this.newViewIsComplete.bind(this),this.onShowCompleteBind=this.onShowComplete.bind(this),this.viewAggregation=e,this.viewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind)}return e.prototype.start=function(e,i){null!==this.waitingToComplete&&(this.waitingToComplete.removeEventListener(t.TaskEvent.COMPLETE,this.newViewIsCompleteBind),this.waitingToComplete.removeEventListener(t.YoYoEvent.SHOWN,this.onShowCompleteBind),this.waitingToComplete=null),this.currentView=e,this.waitingToComplete=i,this.viewAggregation._loadNewView(this.waitingToComplete)},e.prototype.newViewIsComplete=function(e){this.waitingToComplete===e.view&&(this.waitingToComplete.removeEventListener(t.TaskEvent.COMPLETE,this.newViewIsCompleteBind),this.waitingToComplete.addEventListener(t.YoYoEvent.SHOWN,this.onShowCompleteBind),this.viewAggregation._assembleRequestingView(),this.viewAggregation._frameRequestingView(),this.viewAggregation._showRequestingView())},e.prototype.onShowComplete=function(e){this.waitingToComplete.removeEventListener(t.YoYoEvent.SHOWN,this.onShowCompleteBind),this.waitingToComplete=null,this.viewAggregation._hideView(this.currentView)},e.prototype.destroy=function(){this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind),this.viewAggregation=null},e}();e.ShowThenHide=i}(i=e.behaviours||(e.behaviours={}))}(e=t.view||(t.view={}))}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i;!function(e){var i=function(e){function i(i){e.call(this),this.waitingToComplete=null,this.oldView=null,this.newViewIsCompleteBind=this.newViewIsComplete.bind(this),this.onAddedToStageBind=this.onAddedToStage.bind(this),this.viewAggregation=i,this.viewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind)}return __extends(i,e),i.prototype.getOldView=function(){return this.oldView},i.prototype.start=function(e,i){null!==this.waitingToComplete&&(this.waitingToComplete.removeEventListener(t.TaskEvent.COMPLETE,this.newViewIsCompleteBind),this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onAddedToStageBind),this.waitingToComplete=null),this.oldView=e,this.waitingToComplete=i,this.viewAggregation._loadNewView(this.waitingToComplete)},i.prototype.newViewIsComplete=function(e){this.waitingToComplete===e.view&&(this.viewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onAddedToStageBind),this.viewAggregation._assembleRequestingView(),this.viewAggregation._frameRequestingView(),this.viewAggregation._showRequestingView())},i.prototype.onAddedToStage=function(e){this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onAddedToStageBind),this.waitingToComplete=null,this.dispatchEvent({type:"onReadyToConfirm",target:this})},i.prototype.confirmRemovalOf=function(t){this.viewAggregation._hideView(t)},i.prototype.destroy=function(){this.viewAggregation.removeEventListener(t.ViewAggragationEvent.VIEW_COMPLETE,this.newViewIsCompleteBind),this.viewAggregation=null},i}(t.EventDispatcher);e.ShowThenHideOnConfirm=i}(i=e.behaviours||(e.behaviours={}))}(e=t.view||(t.view={}))}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.AttachCSSPropertyRenderDictionary=function(e){return e.width=e.height=e.minWidth=e.minHeight=e.maxWidth=e.maxHeight=e.left=e.right=e.top=e.bottom=e.margin=e.marginLeft=e.marginRight=e.marginTop=e.marginBottom=e.padding=e.paddingLeft=e.paddingRight=e.paddingTop=e.paddingBottom=e.fontSize=e.fontKerning=e.textJustify=e.wordSpacing=e.textIndent=e.lineHeight=e.letterSpacing=e.borderLeftWidth=e.borderRightWidth=e.borderTopWidth=e.borderBottomWidth=e.borderWidth=t.CSSPropertyWithUnitRender,e.perspective=t.CSSAdvPropertyWithUnitRender,e.opacity=t.CSSOpacityPropertyRender,e.transform=t.CSSTransformPropertyRender,e.transformOrigin=t.CSSPointWithUnitPropertyRender,e.color=e.borderColor=e.backgroundColor=t.CSSColorPropertyRender,e},e.AttachSVGPropertyRenderDictionary=function(e){return e.x=e.y=e.cx=e.cy=t.NSPropertyRender,e.width=e.height=e["stroke-width"]=t.CSSPropertyWithUnitRender,e["stroke-dashoffset"]=t.CSSPropertyRender,e.color=e.stroke=e.fill=t.CSSColorPropertyRender,e.opacity=e["stroke-opacity"]=e["fill-opacity"]=t.CSSOpacityPropertyRender,e},e}();t.PropertyRenderFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.Get=function(t){return e._[t]},e._=t.PropertyRenderFactory.AttachCSSPropertyRenderDictionary({}),e}();t.CSSPropertyRenderFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.Get=function(t){return e._[t]},e._=t.PropertyRenderFactory.AttachSVGPropertyRenderDictionary({}),e}();t.SVGPropertyRenderFactory=e}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i=function(e){function i(i){e.call(this),this.id=i,this.element=document.createElement("div"),t.HTML.AddClass(this.element,"inputwrapper")}return __extends(i,e),i.prototype.getHtmlElement=function(){return this.element},i.prototype.destroy=function(){},i}(t.EventDispatcher);e.AInput=i}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e;!function(e){var i=function(e){function i(i,n){e.call(this,i),this.checked=!1,this.onValueChangedBind=this.onValueChanged.bind(this),this.input=document.createElement("input"),this.input.id=i,this.input.name=i,this.input.value="true",this.input.type="checkbox",this.input.addEventListener("change",this.onValueChangedBind),this.element.appendChild(this.input),this.ghost=document.createElement("div"),t.HTML.AddClass(this.ghost,"ghost"),this.element.appendChild(this.ghost);var s=document.createElement("label");s.setAttribute("for",i),s.appendChild(document.createTextNode(n)),this.element.appendChild(s)}return __extends(i,e),i.prototype.onValueChanged=function(e){this.checked=this.input.checked,this.checked===!0?t.HTML.AddClass(this.element,"checked"):t.HTML.RemoveClass(this.element,"checked"),this.dispatchEvent(new t.SSEvent("change",this))},i.prototype.check=function(){this.input.checked=!0,this.onValueChanged()},i.prototype.uncheck=function(){this.input.checked=!1,this.onValueChanged()},i.prototype.getHtmlElement=function(){return this.element},i.prototype.destroy=function(){},i}(e.AInput);e.CheckboxInput=i}(e=t.form||(t.form={}))}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.scrollY=0,this.currentPage=null,this.preloadingPage=null,this.pageTransitionIsDone=!1,this.preloadingPageIsDone=!1,this.onResizeLimitedBind=t.TimerUtility.CreateLimitCaller(this.onResizeDelay,100,this),this.onContentLoadedBind=this.onContentLoaded.bind(this),this.onUrlChangeBind=this.onUrlChange.bind(this),this.onNewRouteBind=this.onNewRoute.bind(this),this.onPreloadingPageCompleteBind=this.onPreloadingPageComplete.bind(this),this.onPageZoomTransitionDoneBind=this.onPageZoomTransitionDone.bind(this),this.onNewPageProgressBind=this.onNewPageProgress.bind(this),this.onPageReadyBind=this.onPageReady.bind(this),this.onPageMoveOutTransitionDoneBind=this.onPageMoveOutTransitionDone.bind(this),this.onViewDisassembledBind=this.onViewDisassembled.bind(this),this.onViewCompleteBind=this.onViewComplete.bind(this),this.calculateBrowserSizes=this.calcBrowserSizes.bind(this),this.onResizeDelayBind=this.onResizeDelay.bind(this),this.onResizeBind=this.onResize.bind(this),this.enableScrollingBind=this.enableScrolling.bind(this),this.onWindowScrollBind=this.onWindowScroll.bind(this),this.updateScrollBind=this.updateScroll.bind(this),this._hasAtTopClass=!1,this._isRenderingScroll=!1,this.onScrollRenderingCompleteBind=this.onScrollRenderingComplete.bind(this),this.bodyNode=document.getElementById("body"),this.appNode=document.getElementById("app"),this.contentNode=t.HTML.Qs("#content",this.appNode),this.backlayerCon=t.HTML.Qs("#backlayerCon",this.appNode),t.DeviceInfo.HasTouch===!0?t.HTML.AddClass(this.bodyNode,"has-touch"):t.HTML.AddClass(this.bodyNode,"no-touch"),history.state?this.sessionHistoryStart=this.currentHistoryLength=history.state.historyNum:this.sessionHistoryStart=this.currentHistoryLength=history.length,isNaN(this.currentHistoryLength)===!0&&(this.sessionHistoryStart=this.currentHistoryLength=0),t.DeviceInfo.IsMobileDevice===!0&&(t.DeviceInfo.SafariVersion>7||(e.IS_FALLBACK=!0)),this.calcBrowserSizes(),this.viewportSize=t.DeviceInfo.GetViewportSize(),this.header=new t.Header(this.viewportSize),this.loaderTask=new t.TaskQueueAsync,this.contentLoader=new t.JSONLoader(t.Application.JSON_URL),this.loaderTask.addTask(this.contentLoader),this.header.show(),this.loaderTask.addEventListener(t.TaskEvent.COMPLETE,this.onContentLoadedBind),this.loaderTask.execute()}return e.SetSectionToUseInTransition=function(t){null!==e._SectionThatWasClicked&&e._SectionThatWasClicked.revertCloneThatScales(),e._SectionThatWasClicked=t},e.prototype.onContentLoaded=function(e){this.appData=this.contentLoader.data,this.genericData=this.appData.generic,this.loaderTask.addEventListener(t.TaskEvent.COMPLETE,this.onContentLoadedBind),this.contentLoader=null,this.pagesData=this.appData.pages,this.casesData=this.appData.cases,this.viewportSize=t.DeviceInfo.GetViewportSize(),this.pageViewAggregation=new t.SingleHTMLViewAggregation(this.contentNode,t.view.behaviours.ShowThenHideOnConfirm),this.pageViewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_ADDED_TO_STAGE,this.onViewCompleteBind),this.pageViewAggregation.addEventListener(t.ViewAggragationEvent.VIEW_DISASSEMBLED,this.onViewDisassembledBind),this.pageViewAggregationBehaviour=this.pageViewAggregation.getBehaviour(),this.pageViewAggregationBehaviour.addEventListener("onReadyToConfirm",this.onPageReadyBind),this.onResize(),window.addEventListener("resize",this.onResizeLimitedBind),window.addEventListener("orientationchange",this.calculateBrowserSizes),window.addEventListener("orientationchange",this.onResizeLimitedBind),t.URLManager.Init(!0),t.URLManager.AddEventListener(t.URLEvent.ON_URL_CHANGE,this.onUrlChangeBind),this.onUrlChange()},e.ConvertToSafePageURL=function(t){return null==t||""==t?"/":(t=t.replace(/\.[^\/.]+$/,""),"/"!=t.charAt(t.length-1)&&(t+="/"),"/"!=t.charAt(0)&&(t="/"+t),t)},e.prototype.getPageID=function(t){t=t.toLowerCase();var e,i=0;for(e=this.pagesData.length;e>i;i++)if(this.pagesData[i].pageURL.toLowerCase()==t)return this.pagesData[i].id.toLowerCase();for(e=this.casesData.length,i=0;e>i;i++)if(this.casesData[i].pageURL.toLowerCase()==t)return this.casesData[i].id.toLowerCase();return this.pagesData[0].id.toLowerCase()},e.prototype.getPageDataFromURL=function(t){t=t.toLowerCase();var e,i=0;for(e=this.pagesData.length;e>i;i++)if(this.pagesData[i].pageURL.toLowerCase()==t)return this.pagesData[i];for(e=this.casesData.length,i=0;e>i;i++)if(this.casesData[i].pageURL.toLowerCase()==t)return this.casesData[i]._case=!0,this.casesData[i].level=2,this.casesData[i].caseIndex=i,this.casesData[i];return this.pagesData[0]},e.prototype.getPageData=function(t){t=t.toLowerCase();var e,i=0;for(e=this.pagesData.length;e>i;i++)if(this.pagesData[i].id.toLowerCase()==t)return this.pagesData[i];for(e=this.casesData.length,i=0;e>i;i++)if(this.casesData[i].id.toLowerCase()==t)return this.casesData[i]._case=!0,this.casesData[i].level=2,this.casesData[i].caseIndex=i,this.casesData[i];return this.pagesData[0]},e.prototype.getCaseByIndex=function(e){var i=this.casesData.length,n=t.MathUtility.Modulo(e,i);return this.casesData[n]},e.prototype.createPageByID=function(e){var i=this.pageViewAggregation.getCurrentViewByID(e);if(null!==i)return i;var n=this.getPageData(e),s=new t.Page(e.toLowerCase(),n);return n._case===!0&&s.addPrevNextCaseSection(this.getCaseByIndex(n.caseIndex-1),this.getCaseByIndex(n.caseIndex+1)),void 0!==n.footer&&(n.footer=t.ObjectUtility.MergeObject(n.footer,this.appData.footer),s.addFooterSection(n)),s},e.prototype.onUrlChange=function(e){this.onNewRoute(t.URLManager.GetDeepLink())},e.prototype.onNewRoute=function(i){null!==this.preloadingPage&&(this.preloadingPage.removeEventListener(t.TaskEvent.COMPLETE,this.onPreloadingPageCompleteBind),this.preloadingPage.destroy(),this.preloadingPage=null),i=e.ConvertToSafePageURL(i);var n=this.getPageID(i);if(this.header.setCurrentPageURL(i),null!==this.currentPage&&n===this.currentPage.viewID){var s=e.ScrollY/t.DeviceInfo.GetViewportSize().h,o=360+60*s;return void t.AnimateScroll.to(0,o)}if(null!==e._SectionThatWasClicked)this.pageTransitionDirection=0,this.currentHistoryLength++,this.preloadPage(n),e._SectionThatWasClicked.makeCloneThatScales(this.onPageZoomTransitionDoneBind);else{var r=this.createPageByID(n);history.state?history.state.historyNum<=this.currentHistoryLength?(this.pageTransitionDirection=e.FROM_LEFT_TO_RIGHT,this.currentHistoryLength=history.state.historyNum):(this.pageTransitionDirection=e.FROM_RIGHT_TO_LEFT,this.currentHistoryLength=history.state.historyNum):null!==this.currentPage?(this.pageTransitionDirection=e.FROM_LEFT_TO_RIGHT,this.currentHistoryLength=this.sessionHistoryStart):(this.pageTransitionDirection=e.FROM_RIGHT_TO_LEFT,this.currentHistoryLength=this.sessionHistoryStart),null!==this.currentPage?this.currentPage.disable():this.pageTransitionDirection=e.INTRO_MOVEMENT,e.IS_ZOOMTRANSITION=!1,this.showPage(r)}},e.prototype.preloadPage=function(e){this.preloadingPageIsDone=!1,this.pageTransitionIsDone=!1,null!==this.preloadingPage&&(this.preloadingPage.removeEventListener(t.TaskEvent.COMPLETE,this.onPreloadingPageCompleteBind),this.preloadingPage.destroy()),null!==this.currentPage&&this.currentPage.removeEventListener("progress",this.onNewPageProgressBind),this.preloadingPage=this.createPageByID(e),this.header.removeListeningPage(),this.header.startLoading(this.preloadingPage),this.preloadingPage.setSize(this.pageViewAggregation.getSize()),this.preloadingPage.addEventListener("progress",this.onNewPageProgressBind),this.preloadingPage.addEventListener(t.TaskEvent.COMPLETE,this.onPreloadingPageCompleteBind),this.preloadingPage.execute()},e.prototype.onPreloadingPageComplete=function(e){this.preloadingPage.removeEventListener(t.TaskEvent.COMPLETE,this.onPreloadingPageCompleteBind),this.preloadingPageIsDone=!0,this.showPreloadedPage()},e.prototype.onPageZoomTransitionDone=function(t){this.pageTransitionIsDone=!0,this.showPreloadedPage()},e.prototype.showPreloadedPage=function(){this.preloadingPageIsDone!==!1&&this.pageTransitionIsDone!==!1&&(e.IS_ZOOMTRANSITION=!0,this.showPage(this.preloadingPage),this.preloadingPage=null)},e.prototype.showPage=function(e){this.disableScrolling(),null!==this.currentPage&&(this.currentPage.removeEventListener("progress",this.onNewPageProgressBind),t.HTML.SetStyles(this.currentPage.getHTML(),{top:-this.scrollY+"px",position:"fixed",width:this.pageViewAggregation.getSize().w+"px"})),this.preloadingPage!==e&&(this.header.removeListeningPage(),this.header.startLoading(e),e.addEventListener("progress",this.onNewPageProgressBind)),this.pageViewAggregation.jumpToView(e)},e.prototype.onNewPageProgress=function(t){this.header.setLoadProgress(t.progress)},e.prototype.onPageReady=function(i){var n=this.pageViewAggregationBehaviour.getOldView();if(null!==e._SectionThatWasClicked)return this.pageViewAggregationBehaviour.confirmRemovalOf(n),e._SectionThatWasClicked.removeClone(),void(e._SectionThatWasClicked=null);var s=this.pageViewAggregation.getSize().w,o=this.pageViewAggregation.getCurrentView();if(this.pageTransitionDirection===e.INTRO_MOVEMENT)o.translateIntroMovement(this.onPageMoveInTransitionDone),this.contentNode.style[t.css.name.OPACITY]="1";else{var r=s*this.pageTransitionDirection;null===n||o.getLevel()>=n.getLevel()?o.translateInTo(-r,this.onPageMoveInTransitionDone):o.translateNoneIn(this.onPageMoveInTransitionDone),null!==n&&n.isAssembled()===!0&&(n.addEventListener("pageTransitionDone",this.onPageMoveOutTransitionDoneBind),o.getLevel()<=n.getLevel()?n.translateOutTo(r):n.translateNoneOut())}},e.prototype.onPageMoveInTransitionDone=function(t){},e.prototype.onPageMoveOutTransitionDone=function(t){var e=t.target;e.removeEventListener("pageTransitionDone",this.onPageMoveOutTransitionDoneBind),this.pageViewAggregationBehaviour.confirmRemovalOf(e)},e.prototype.onViewDisassembled=function(t){t.view.destroy()},e.prototype.onViewComplete=function(i){this.currentPage=this.pageViewAggregation.getCurrentView(),this.currentPage.removeEventListener("progress",this.onNewPageProgressBind),this.header.finishLoading(),this.header.setListeningPage(this.currentPage),""===this.currentPage.getBrowserTitle()?document.title=this.genericData.siteTitle:document.title=this.genericData.siteTitle+this.genericData.pageTitleConnector+this.currentPage.getBrowserTitle(),null!==e._SectionThatWasClicked&&window.scrollTo(0,0),setTimeout(this.enableScrollingBind,200),t.GoogleAnalytics.send(this.currentPage.getPageURL(),this.currentPage.getPageTitle())},e.prototype.calcBrowserSizes=function(){var e=window.orientation,i=t.MathUtility.Modulo(e+45,180)/180,n=i>.5?!1:!0,s=(window.screen.availHeight,window.screen.height);if(t.DeviceInfo.IsSafari===!0)var s=n===!0?window.screen.height:window.screen.width;this.iosBrowserViewportHeight=s-39},e.prototype.onResizeDelay=function(t){this.onResize()},e.prototype.onResize=function(e){if(this.viewportSize=t.DeviceInfo.GetViewportSize(),t.DeviceInfo.IsMobileDevice===!0&&(t.DeviceInfo.IsSafari===!0?this.viewportSize.h=this.iosBrowserViewportHeight:t.DeviceInfo.IsChrome===!0&&(this.viewportSize.h=window.innerHeight)),this.viewportSize.h!=this.height||this.viewportSize.w!=this.width){this.width=this.viewportSize.w,this.height=this.viewportSize.h;var i=this.viewportSize.clone();i.w=this.contentNode.offsetWidth,this.pageViewAggregation.setSize(i),this.header.setSize(this.viewportSize)}},e.prototype.enableScrolling=function(){window.addEventListener("scroll",this.onWindowScrollBind,!0)},e.prototype.disableScrolling=function(){window.removeEventListener("scroll",this.onWindowScrollBind,!0)},e.prototype.onWindowScroll=function(t){var e=window.pageYOffset;this.scrollY!=e&&(this.setPositionY(e),this.header.closeMenu())},e.prototype.updateScroll=function(){var t=window.pageYOffset;null!==this.currentPage&&this.setPositionY(t)},e.prototype.setPositionY=function(i){this.scrollY=i,e.ScrollY=i,this._isRenderingScroll!==!0&&(this.currentPage.setScroll(this.scrollY),this.scrollY<1?this._hasAtTopClass===!1&&(t.HTML.AddClass(this.bodyNode,"atTop"),this._hasAtTopClass=!0):this._hasAtTopClass===!0&&(t.HTML.RemoveClass(this.bodyNode,"atTop"),this._hasAtTopClass=!1),this.header.updateSectionGroupPosition(this.scrollY,this.height),this._isRenderingScroll=!0,requestAnimationFrame(this.onScrollRenderingCompleteBind))},e.prototype.onScrollRenderingComplete=function(){this._isRenderingScroll=!1},e._SectionThatWasClicked=null,e.ScrollY=0,e.IS_FALLBACK=!1,e.IS_ZOOMTRANSITION=!1,e.FROM_LEFT_TO_RIGHT=1,e.INTRO_MOVEMENT=0,e.FROM_RIGHT_TO_LEFT=-1,e}();t.Main=e}(ss||(ss={}));var ss;!function(t){var e=function(){function t(){document.body.className="fallback",this.bodyNode=document.getElementById("body"),
this.appNode=document.getElementById("app"),this.contentNode=document.getElementById("content"),this.sceneNode=document.createElement("div"),this.sceneNode.className="fallback",this.sceneNode.innerHTML="<div class='fallback_logo'><img src='/assets/img/logo/ss_black@2x.png' border='0' /></div>",this.sceneNode.innerHTML+="<p>Hello, looks like your browser needs an update. Please download one of these free and excellent browsers:</p>",this.sceneNode.innerHTML+="<a href='http://www.mozilla.com/firefox/' target='_blank'>Mozilla Firefox</a>",this.sceneNode.innerHTML+="<a href='https://www.google.com/chrome/browser/desktop/' target='_blank'>Google Chrome</a>",this.sceneNode.innerHTML+="<a href='https://www.microsoft.com/en-us/windows/microsoft-edge' target='_blank'>Microsoft Edge</a>",this.contentNode.appendChild(this.sceneNode)}return t}();t.Fallback=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.Init=function(){var i=t.DeviceInfo.IsLessOrEqualToIE8;if(i===!0)window.onload=e.CreateFallbackApp.bind(e);else{document.addEventListener("readystatechange",t.Application.OnDomInit),document.addEventListener("DOMContentLoaded",t.Application.OnDomReady);try{Typekit.load({async:!0,active:t.Application.OnFontsReady,loading:t.Application.Loading,inactive:t.Application.OnFontsFailed,fontloading:t.Application.Fontloading,fontactive:t.Application.Fontactive,fontinactive:t.Application.Fontinactive})}catch(n){e.fontIsReady=!0,e.CreateApp()}}},e.OnDomInit=function(){document.removeEventListener("readystatechange",t.Application.OnDomInit);for(var e=document.getElementById("content"),i=t.HTML.QsAll("img",e),n=0;n<i.length;n++)i[n].removeAttribute("src");t.HTML.RemoveAllFrom(e)},e.OnDomReady=function(){t.Polyfills.Init(),t.GoogleAnalytics.loadScript("UA-27349500-1","springsummer.dk",!1),e.domIsReady=!0,e.CreateApp()},e.OnFontsReady=function(){e.fontIsReady=!0,e.CreateApp()},e.OnFontsFailed=function(){e.fontIsReady=!0,e.CreateApp()},e.CreateApp=function(){e.domIsReady===!0&&e.fontIsReady===!0&&void 0===e.main&&(e.main=new t.Main)},e.CreateFallbackApp=function(){e.fallback=new t.Fallback},e.Loading=function(){},e.Fontloading=function(t,e){},e.Fontactive=function(t,e){},e.Fontinactive=function(t,e){},e.JSON_URL="/data/data.json",e.BREAKPOINT=1023,e.MENU_BREAKPOINT=767,e.REVEAL_AT_DEFAULT=.15,e.domIsReady=!1,e.fontIsReady=!1,e}();t.Application=e}(ss||(ss={})),ss.Application.Init();var ss;!function(t){var e=function(){function e(){}return e.to=function(i,n){var s=window.scrollY;e.scrollTween=new t.FunctionTween(e.renderScrollBind,s,i,0,n,t.Ease.CubicOut),e.scrollTween.addEventListener(t.TweenEvent.COMPLETE,e.onScrollToTopTweenCompleteBind),e.scrollTween.execute()},e.renderScroll=function(t){window.scrollTo(0,t)},e.onScrollToTopTweenComplete=function(t){e.killTween()},e.destroy=function(){e.killTween()},e.killTween=function(){void 0===!e.scrollTween&&(e.scrollTween.removeEventListener(t.TweenEvent.COMPLETE,e.onScrollToTopTweenCompleteBind),e.scrollTween.destroy(),e.scrollTween=void 0)},e.renderScrollBind=e.renderScroll.bind(e),e.onScrollToTopTweenCompleteBind=e.onScrollToTopTweenComplete.bind(e),e}();t.AnimateScroll=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){if(e.call(this,i),this._assembled=!1,this.compressedGrid=null,this.additionalSections=[],this.taskQueue=null,this.jsonLoader=null,this.sectionGroups=[],this.jsonLoadProgress=0,this.heroLoadProgress=0,this.onJSONProgressBind=this.onJSONProgress.bind(this),this.onHeroProgressBind=this.onHeroProgress.bind(this),this.onExecuteCompleteBind=this.onExecuteComplete.bind(this),this.onTransitionOutCompleteBind=this.onTransitionOutComplete.bind(this),this.updateSizeBind=this.updateSize.bind(this),this.updateSectionGroupBounderiesBind=this.updateSectionGroupBounderies.bind(this),this.pageData=n,this.jsonURL=n.jsonURL,this.backgroundColor=n.backgroundColor,this.primaryColor=n.primaryColor,this.fontColor=n.fontColor,this.compressedGrid=new t.CompressedGrid(2),this.compressedGrid.addBreakPoint(t.Application.BREAKPOINT,4),this.sectionsTaskQueue=new t.TaskQueueAsync,this.renderWithinController=new t.RenderWithinScopeArea(t.DeviceInfo.GetViewportSize()),this.backPage=t.HTML.Create("div",{"class":"backlayer"}),this.backPage.style.backgroundColor=this.backgroundColor,void 0!==this.pageData.hero&&(this.heroSection=t.HeroSection.FromPageData(this.pageData),void 0!==this.heroSection)){var s=new t.SectionGroup(this.pageData.sidebarTitle,this.pageData.primaryColor,this.pageData.backgroundColor,this.compressedGrid,this.backPage);s.addSection(this.heroSection),this.sectionsTaskQueue.addTask(s.getTaskQueue()),s.setIndex(0),this.sectionGroups.push(s)}}return __extends(i,e),i.prototype.isAssembled=function(){return this._assembled},i.prototype.getPageURL=function(){return this.pageData.pageURL},i.prototype.getPageTitle=function(){return this.pageData.pageTitle},i.prototype.getBrowserTitle=function(){return this.pageData.browserTitle},i.prototype.getSidebarTitle=function(){return this.pageData.sidebarTitle},i.prototype.getLevel=function(){return this.pageData.level},i.prototype.getBackgroundColor=function(){return this.backgroundColor},i.prototype.getPrimaryColor=function(){return this.primaryColor},i.prototype.getHeight=function(){return this.compressedGrid.getHeight()},i.prototype.getHeroSection=function(){return this.heroSection},i.prototype.getSectionGroups=function(){return this.sectionGroups},i.prototype.getSectionGroupAt=function(t){for(var e=this.sectionGroups.length;e--;)if(this.sectionGroups[e].startBounds<t)return this.sectionGroups[e];return null},i.prototype.getHTML=function(){return this.baseNode},i.prototype.addPrevNextCaseSection=function(e,i){var n=t.PageLinkSection.FromPageData(e,"Previous case",4),s=t.PageLinkSection.FromPageData(i,"Next case");this.additionalSections.push(n),this.additionalSections.push(s)},i.prototype.addFooterSection=function(e){var i=t.FooterSection.FromPageData(e);this.additionalSections.push(i)},i.prototype.__default_execute=function(){this.taskQueue=new t.TaskQueueAsync,this.taskQueue.addEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),void 0!==this.heroSection&&(this.heroTask=this.heroSection.getTask(),this.heroTask.addEventListener(t.RequestEvent.PROGRESS,this.onHeroProgressBind),this.taskQueue.addTask(this.heroTask)),this.jsonLoader=new t.JSONLoader(this.jsonURL),this.jsonLoader.addEventListener(t.RequestEvent.PROGRESS,this.onJSONProgressBind),this.taskQueue.addTask(this.jsonLoader),this.taskQueue.execute()},i.prototype.onJSONProgress=function(t){this.jsonLoadProgress=t.target.progress,this.updateProgress()},i.prototype.onHeroProgress=function(t){this.heroLoadProgress=t.target.progress,this.updateProgress()},i.prototype.updateProgress=function(){var t;t=void 0!==this.heroTask?.1+.25*this.jsonLoadProgress+.65*this.heroLoadProgress:.1+.9*this.jsonLoadProgress,this.dispatchEvent({type:"progress",target:this,progress:t})},i.prototype.onExecuteComplete=function(t){this.contentData=this.jsonLoader.data,this.__executing_revert(),e.prototype.onExecuteComplete.call(this,t)},i.prototype.__executing_revert=function(){this.taskQueue.removeEventListener(t.TaskEvent.COMPLETE,this.onExecuteCompleteBind),this.taskQueue.destroy(),this.taskQueue=null,this.jsonLoader.destroy(),this.jsonLoader=null},i.prototype.__complete_assemble=function(){e.prototype.__complete_assemble.call(this),this._assembled=!0,this.baseNode.style.zIndex=""+(2*this.pageData.level+1),this.baseNode.style.visibility="hidden",t.HTML.AddClass(this.baseNode,"scene"),t.HTML.SetStyles(this.baseNode,{color:this.fontColor}),document.getElementById("content").appendChild(this.backPage),this.backPage.style.zIndex=2*this.pageData.level+"";var i,n,s,o;for(i=0;n=this.contentData.groups[i];i++)s=new t.SectionGroup(n.title,n.sidebarColor?n.sidebarColor:this.pageData.primaryColor,this.pageData.backgroundColor,this.compressedGrid,this.backPage),s.addFromJSON(n),this.sectionsTaskQueue.addTask(s.getTaskQueue()),o=s.getRenderer(),null!==o&&this.renderWithinController.add(o),s.setIndex(this.sectionGroups.length),this.sectionGroups.push(s);if(this.additionalSections.length>0){s=new t.SectionGroup("","#FFFFFF",this.pageData.backgroundColor,this.compressedGrid,this.backPage);var r;for(i=0;r=this.additionalSections[i];i++)s.addSection(r);this.sectionsTaskQueue.addTask(s.getTaskQueue()),o=s.getRenderer(),null!==o&&this.renderWithinController.add(o),s.setIndex(this.sectionGroups.length),this.sectionGroups.push(s)}this.baseNode.appendChild(this.compressedGrid.getHTML()),this.compressedGrid.setSize(this.viewportSize),this.sectionsTaskQueue.execute()},i.prototype.__assembled_disassemble=function(){document.getElementById("content").removeChild(this.backPage),this.backPage=null,this.baseNode.removeChild(this.compressedGrid.getHTML()),this.baseNode=null;for(var t=this.sectionGroups.length;t--;)this.sectionGroups[t].destroy();this.sectionGroups=null,this._assembled=!1,e.prototype.__assembled_disassemble.call(this)},i.prototype.addedToStage=function(){this.updateSize()},i.prototype.removedFromStage=function(){},i.prototype.__assembled_show=function(){this.baseNode.style.visibility="",void 0!==this.heroSection&&this.heroSection.playEntryAnimation(),this.updateSize(),e.prototype.onShowComplete.call(this)},i.prototype.translateIntroMovement=function(e){if(void 0!==this.heroSection){var i=this.heroSection.getHTML();t.CSS.SetTranslate(i,0,100),t.CSS.ForceUpdate(i),t.CSS.SetTransition(i,"all 1800ms "+t.CSSEase.CubicOut+" 600ms"),t.CSS.SetTranslate(i,0,0)}},i.prototype.translateInTo=function(e,i){t.CSS.SetTranslate(this.backPage,e,0),t.CSS.ForceUpdate(this.backPage),t.CSS.SetTransition(this.backPage,"all 1200ms cubic-bezier(.7,0,.3,1)",i),t.CSS.SetTranslate(this.backPage,0,0),t.CSS.SetTranslate(this.baseNode,e,0),t.CSS.ForceUpdate(this.baseNode),t.CSS.SetTransition(this.baseNode,"all 1200ms cubic-bezier(.7,0,.3,1)",i),t.CSS.SetTranslate(this.baseNode,0,0)},i.prototype.translateNoneIn=function(t){setTimeout(t,1200)},i.prototype.translateOutTo=function(e){t.CSS.SetTranslate(this.backPage,0,0),t.CSS.ForceUpdate(this.backPage),t.CSS.SetTransition(this.backPage,"all 1200ms cubic-bezier(.7,0,.3,1)"),t.CSS.SetTranslate(this.backPage,e,0),t.CSS.SetTranslate(this.baseNode,0,0),t.CSS.ForceUpdate(this.baseNode),t.CSS.SetTransition(this.baseNode,"all 1200ms cubic-bezier(.7,0,.3,1)",this.onTransitionOutCompleteBind),t.CSS.SetTranslate(this.baseNode,e,0)},i.prototype.translateNoneOut=function(){setTimeout(this.onTransitionOutCompleteBind,1200)},i.prototype.onTransitionOutComplete=function(e){this.dispatchEvent(new t.SSEvent("pageTransitionDone",this))},i.prototype.setScroll=function(t){this.disabled!==!0&&this.renderWithinController.renderAt(t)},i.prototype.setSize=function(t){return void 0===this.viewportSize?(this.viewportSize=t,void this.updateSize()):(this.viewportSize=t,void 0!==this.updateSizeTimeout&&clearTimeout(this.updateSizeTimeout),void(this.updateSizeTimeout=setTimeout(this.updateSizeBind,200)))},i.prototype.updateSize=function(){this.updateSizeTimeout=void 0,this.compressedGrid.setSize(this.viewportSize),requestAnimationFrame(this.updateSectionGroupBounderiesBind),requestAnimationFrame(t.Application.main.updateScrollBind)},i.prototype.updateSectionGroupBounderies=function(){this.renderWithinController.setViewportSize(this.viewportSize);for(var t=this.sectionGroups.length;t--;)this.sectionGroups[t].updateBounds();this.renderWithinController.updateRender()},i.prototype.disable=function(){this.disabled=!0},i.prototype.destroy=function(){void 0!==this.updateSizeTimeout&&(clearTimeout(this.updateSizeTimeout),this.updateSizeTimeout=void 0),this.sectionsTaskQueue.destroy(),this.sectionsTaskQueue=null,this.compressedGrid.destroy(),this.compressedGrid=null,this.renderWithinController.destroy(),this.renderWithinController=null,this.contentData=null,this.backgroundColor=null,this.primaryColor=null,e.prototype.destroy.call(this)},i}(t.AHTMLView);t.Page=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o){this.sections=[],this.startBounds=0,this.title=e,this.sidebarColor=i,this.pageBackgroundColor=n,this.taskQueue=new t.TaskQueueAsync,this.compressedGrid=s,this.backlayer=o,this.renderWithinController=new t.RenderWithinScopeArea(t.DeviceInfo.GetViewportSize())}return e.prototype.getTitle=function(){return this.title},e.prototype.getSidebarColor=function(){return this.sidebarColor},e.prototype.setIndex=function(t){this.index=t},e.prototype.getIndex=function(){return this.index},e.prototype.getTaskQueue=function(){return this.taskQueue},e.prototype.getSectionLeftAt=function(t){for(var e=this.sections.length;e--;)if(0==this.sections[e].getColumnPosition()&&this.sections[e].getTop()<t)return this.sections[e];return null},e.prototype.addFromJSON=function(e){var i,n;for(i=0;n=e.sections[i];i++)n.clearGridBefore===!0&&this.addSection(t.ClearGridSection.FromDefault()),null==n.backgroundColor&&(n.backgroundColor=this.pageBackgroundColor),this.addSection(t.SectionFactory.CreateSection(n,this.backlayer)),n.clearGridAfter===!0&&this.addSection(t.ClearGridSection.FromDefault())},e.prototype.addSection=function(t){if(null!==t){this.compressedGrid.add(t),this.sections.push(t);var e=t.getTask();null!=e&&this.taskQueue.addTask(e);var i=t.getRenderer();null!==i&&this.renderWithinController.add(i)}},e.prototype.updateBounds=function(){for(var t=0;this.sections[t].isVisible()===!1;)t++;var e=this.sections[t];void 0!==e&&(this.startBounds=e.getTop())},e.prototype.getRenderer=function(){return 0==this.renderWithinController.length()?null:this.renderWithinController},e.prototype.destroy=function(){this.taskQueue.destroy(),this.taskQueue=null},e}();t.SectionGroup=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(n,s){e.call(this),this.useMobileColor=!1,this.currentColor="#000000",this.mobileColor="#000000",this.desktopColor="#000000",this.onClickedBind=this.onClicked.bind(this),this.baseNode=t.HTML.Qs("#burgerMenuIcon",n),t.TouchClick.AddClickListener(this.baseNode,this.onClickedBind);var o=new t.SVGCanvasSymbol("89px","89px"),r=45,a=45,h=a-7;this.line1Left=new t.CubicBezier(new t.PointMorphRender(new t.Point(r-10,h),new t.Point(r-10,a-10)),new t.PointMorphRender(new t.Point(r-6,h),new t.Point(r-6,a-6)),new t.PointMorphRender(new t.Point(r-4,h),new t.Point(r-4,a-4)),new t.PointMorphRender(new t.Point(r,h),new t.Point(r,a))),this.line1LeftSVG=new t.SVGCubicBezierSymbol(this.line1Left),this.line1LeftSVG.setAttribute("fill","none"),this.line1LeftSVG.setAttribute("stroke-width","2px"),o.addChild(this.line1LeftSVG),this.line1Right=new t.CubicBezier(new t.PointMorphRender(new t.Point(r,h),new t.Point(r,a)),new t.PointMorphRender(new t.Point(r+4,h),new t.Point(r+4,a-4)),new t.PointMorphRender(new t.Point(r+6,h),new t.Point(r+6,a-6)),new t.PointMorphRender(new t.Point(r+10,h),new t.Point(r+10,a-10))),this.line1RightSVG=new t.SVGCubicBezierSymbol(this.line1Right),this.line1RightSVG.setAttribute("fill","none"),this.line1RightSVG.setAttribute("stroke-width","2px"),o.addChild(this.line1RightSVG),this.line1LeftTween=new t.SVGSymbolTween(this.line1LeftSVG),this.line1LeftTween.makeAutoPause(),this.line1LeftTween.addRender(this.line1LeftSVG.shape.a,0,1,0,i._TweenDuration,t.Ease.CubicInOut),this.line1LeftTween.addRender(this.line1LeftSVG.shape.aC,0,1,0,i._TweenDuration,t.Ease.QuadOut),this.line1LeftTween.addRender(this.line1LeftSVG.shape.bC,0,1,0,i._TweenDuration,t.Ease.CubicOut),this.line1LeftTween.addRender(this.line1LeftSVG.shape.b,0,1,0,i._TweenDuration,t.Ease.Linear),this.line1RightTween=new t.SVGSymbolTween(this.line1RightSVG),this.line1RightTween.makeAutoPause(),this.line1RightTween.addRender(this.line1RightSVG.shape.b,0,1,0,i._TweenDuration,t.Ease.CubicInOut),this.line1RightTween.addRender(this.line1RightSVG.shape.bC,0,1,0,i._TweenDuration,t.Ease.QuadOut),this.line1RightTween.addRender(this.line1RightSVG.shape.aC,0,1,0,i._TweenDuration,t.Ease.CubicOut),this.line1RightTween.addRender(this.line1RightSVG.shape.a,0,1,0,i._TweenDuration,t.Ease.Linear),this.line2Left=new t.Line(new t.PointMorphRender(new t.Point(r-10,a),new t.Point(r,a)),new t.PointMorphRender(new t.Point(r,a),new t.Point(r,a))),this.line2LeftSVG=new t.SVGLineSymbol(this.line2Left),this.line2LeftSVG.setAttribute("x","0"),this.line2LeftSVG.setAttribute("fill","none"),this.line2LeftSVG.setAttribute("stroke-width","2px"),o.addChild(this.line2LeftSVG),this.line2Right=new t.Line(new t.PointMorphRender(new t.Point(r,a),new t.Point(r,a)),new t.PointMorphRender(new t.Point(r+10,a),new t.Point(r,a))),this.line2RightSVG=new t.SVGLineSymbol(this.line2Right),this.line2RightSVG.setAttribute("x","10"),this.line2RightSVG.setAttribute("fill","none"),this.line2RightSVG.setAttribute("stroke-width","2px"),o.addChild(this.line2RightSVG),this.line2LeftTween=new t.SVGSymbolTween(this.line2LeftSVG),this.line2LeftTween.makeAutoPause(),this.line2LeftTween.addRender(this.line2LeftSVG.shape.a,0,1,0,i._TweenDuration,t.Ease.EaseOut),this.line2LeftTween.add(new t.NSPropertyRender(this.line2LeftSVG.element,"stroke-opacity",1,0,0,i._TweenDuration,t.Ease.EaseOut)),this.line2RightTween=new t.SVGSymbolTween(this.line2RightSVG),this.line2RightTween.makeAutoPause(),this.line2RightTween.addRender(this.line2RightSVG.shape.b,0,1,0,i._TweenDuration,t.Ease.EaseOut),this.line2RightTween.add(new t.NSPropertyRender(this.line2RightSVG.element,"stroke-opacity",1,0,0,i._TweenDuration,t.Ease.EaseOut));var d=a+7;this.line3Left=new t.CubicBezier(new t.PointMorphRender(new t.Point(r-10,d),new t.Point(r-10,a+10)),new t.PointMorphRender(new t.Point(r-6,d),new t.Point(r-6,a+6)),new t.PointMorphRender(new t.Point(r-4,d),new t.Point(r-4,a+4)),new t.PointMorphRender(new t.Point(r,d),new t.Point(r,a))),this.line3LeftSVG=new t.SVGCubicBezierSymbol(this.line3Left),this.line3LeftSVG.setAttribute("fill","none"),this.line3LeftSVG.setAttribute("stroke-width","2px"),o.addChild(this.line3LeftSVG),this.line3Right=new t.CubicBezier(new t.PointMorphRender(new t.Point(r,d),new t.Point(r,a)),new t.PointMorphRender(new t.Point(r+4,d),new t.Point(r+4,a+4)),new t.PointMorphRender(new t.Point(r+6,d),new t.Point(r+6,a+6)),new t.PointMorphRender(new t.Point(r+10,d),new t.Point(r+10,a+10))),this.line3RightSVG=new t.SVGCubicBezierSymbol(this.line3Right),this.line3RightSVG.setAttribute("fill","none"),this.line3RightSVG.setAttribute("stroke-width","2px"),o.addChild(this.line3RightSVG),this.line3LeftTween=new t.SVGSymbolTween(this.line3LeftSVG),this.line3LeftTween.makeAutoPause(),this.line3LeftTween.addRender(this.line3LeftSVG.shape.a,0,1,0,i._TweenDuration,t.Ease.CubicInOut),this.line3LeftTween.addRender(this.line3LeftSVG.shape.aC,0,1,0,i._TweenDuration,t.Ease.QuadOut),this.line3LeftTween.addRender(this.line3LeftSVG.shape.bC,0,1,0,i._TweenDuration,t.Ease.CubicOut),this.line3LeftTween.addRender(this.line3LeftSVG.shape.b,0,1,0,i._TweenDuration,t.Ease.Linear),this.line3RightTween=new t.SVGSymbolTween(this.line3RightSVG),this.line3RightTween.makeAutoPause(),this.line3RightTween.addRender(this.line3RightSVG.shape.b,0,1,0,i._TweenDuration,t.Ease.CubicInOut),this.line3RightTween.addRender(this.line3RightSVG.shape.bC,0,1,0,i._TweenDuration,t.Ease.QuadOut),this.line3RightTween.addRender(this.line3RightSVG.shape.aC,0,1,0,i._TweenDuration,t.Ease.CubicOut),this.line3RightTween.addRender(this.line3RightSVG.shape.a,0,1,0,i._TweenDuration,t.Ease.Linear),this.baseNode.appendChild(o.element)}return __extends(i,e),i.prototype.setStrokeColor=function(t){this.currentColor=t,this.line1LeftSVG.setAttribute("stroke",t),this.line1RightSVG.setAttribute("stroke",t),this.line2LeftSVG.setAttribute("stroke",t),this.line2RightSVG.setAttribute("stroke",t),this.line3LeftSVG.setAttribute("stroke",t),this.line3RightSVG.setAttribute("stroke",t)},i.prototype.onClicked=function(e){e.preventDefault(),e.stopPropagation(),this.dispatchEvent(new t.SSEvent("toggle",this))},i.prototype.openMenu=function(){this.useMobileColor===!0&&this.setStrokeColor(this.desktopColor),this.line1LeftTween.setTimeAspect(1),this.line1RightTween.setTimeAspect(1),this.line2LeftTween.setTimeAspect(1),this.line2RightTween.setTimeAspect(1),this.line3LeftTween.setTimeAspect(1),this.line3RightTween.setTimeAspect(1),this.line1LeftTween.forward(),this.line1RightTween.forward(),this.line2LeftTween.forward(),this.line2RightTween.forward(),this.line3LeftTween.forward(),this.line3RightTween.forward()},i.prototype.closeMenu=function(){this.useMobileColor===!0&&this.setStrokeColor(this.mobileColor),this.line1LeftTween.setTimeAspect(.8),this.line1RightTween.setTimeAspect(.8),this.line2LeftTween.setTimeAspect(.8),this.line2RightTween.setTimeAspect(.8),this.line3LeftTween.setTimeAspect(.8),this.line3RightTween.setTimeAspect(.8),this.line1LeftTween.backward(),this.line1RightTween.backward(),this.line2LeftTween.backward(),this.line2RightTween.backward(),this.line3LeftTween.backward(),this.line3RightTween.backward()},i.prototype.makeMobileDark=function(){this.mobileColor="#000000",this.useMobileColor===!0&&this.setStrokeColor(this.mobileColor)},i.prototype.makeMobileBright=function(){this.mobileColor="#FFFFFF",this.useMobileColor===!0&&this.setStrokeColor(this.mobileColor)},i.prototype.makeDesktopDark=function(){this.desktopColor="#000000",this.useMobileColor===!1&&this.setStrokeColor(this.desktopColor)},i.prototype.makeDesktopBright=function(){this.desktopColor="#FFFFFF",this.useMobileColor===!1&&this.setStrokeColor(this.desktopColor)},i.prototype.setSize=function(e){e.w>t.Application.MENU_BREAKPOINT?(this.useMobileColor=!1,this.setStrokeColor(this.desktopColor)):(this.useMobileColor=!0,this.setStrokeColor(this.mobileColor))},i.iconWidth=20,i.lineWidth=10,i._TweenDuration=350,i}(t.EventDispatcher);t.BurgerMenuIcon=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this),this.menuIsOpen=!1,this.currentPageSectionGroup=null,this.currentSectionBeneath=null,this.currentMobileColorDark=!0,this.onMainMenuClickedBind=this.onMainMenuClicked.bind(this),this.onLogoClickedBind=this.onLogoClicked.bind(this),this.onMenuBgClickedBind=this.onMenuBgClicked.bind(this),this.onBurgerMenuClickedBind=this.onBurgerMenuClicked.bind(this),this.onLoadDynamicBind=this.onLoadDynamic.bind(this),this.onDynamicCompleteBind=this.onDynamicComplete.bind(this),this.viewportSize=i,this.baseNode=document.getElementById("header"),this.blackLayer=document.getElementById("blackLayer"),this.sidebar=document.getElementById("sidebar"),this.sidebarColor=t.HTML.Create("div",{"class":"colorbar"}),this.sidebar.appendChild(this.sidebarColor),this.labelEl=document.getElementById("label"),this.revealer=t.HTML.Create("div",{"class":"revealer"}),this.baseNode.appendChild(this.revealer),this.mainMenu=new t.MainMenu(this.baseNode,this.viewportSize),this.mainMenu.addEventListener("click",this.onMainMenuClickedBind),this.logo=new t.Logo(t.HTML.Qs("#logoSS",this.baseNode),this.mainMenu),this.logo.addEventListener("click",this.onLogoClickedBind),this.labelSwitcher=new t.LabelSwitcher(this.sidebar,this.labelEl),this.burgerMenuIcon=new t.BurgerMenuIcon(this.baseNode,this.mainMenu)}return __extends(i,e),i.prototype.show=function(){this.baseNode.style.display="block",setTimeout(this.readyToRunEntryAnimation.bind(this),100),setTimeout(this.onShowComplete.bind(this),900)},i.prototype.readyToRunEntryAnimation=function(){t.CSS.SetTransition(this.revealer,"all 1000ms "+t.CSSEase.QuadOut,this.onRevealerComplete.bind(this)),t.CSS.SetTranslate(this.revealer,0,-this.viewportSize.h),this.burgerMenuIcon.baseNode.style[t.css.name.OPACITY]="1",this.burgerMenuIcon.baseNode.style[t.css.name.TRANSFORM]="translateY(0px)",this.labelEl.style[t.css.name.OPACITY]="1",this.logo.getHTML().style[t.css.name.TRANSFORM]="translateY(0px)"},i.prototype.onRevealerComplete=function(){this.baseNode.removeChild(this.revealer)},i.prototype.onShowComplete=function(){t.TouchClick.AddClickListener(this.labelEl,this.onBurgerMenuClickedBind),this.burgerMenuIcon.addEventListener("toggle",this.onBurgerMenuClickedBind)},i.prototype.getWidth=function(){return this.viewportSize.w>t.Application.MENU_BREAKPOINT?90:8},i.prototype.setCurrentPageURL=function(t){this.mainMenu.setCurrentURL(t),this.closeMenu()},i.prototype.onMainMenuClicked=function(t){this.closeMenu()},i.prototype.onLogoClicked=function(e){t.URLManager.SetDeepLink("/"),this.closeMenu()},i.prototype.onMenuBgClicked=function(t){t.preventDefault(),this.closeMenu()},i.prototype.onBurgerMenuClicked=function(t){this.toggleMenu()},i.prototype.toggleMenu=function(){this.menuIsOpen===!0?this.closeMenu():this.openMenu()},i.prototype.openMenu=function(){this.menuIsOpen!==!0&&(this.menuIsOpen=!0,this.mainMenu.openMenu(),this.burgerMenuIcon.openMenu(),t.HTML.AddClass(this.baseNode,"open"),this.blackLayer.addEventListener("click",this.onMenuBgClickedBind))},i.prototype.closeMenu=function(){this.menuIsOpen!==!1&&(this.menuIsOpen=!1,this.mainMenu.closeMenu(),this.burgerMenuIcon.closeMenu(),t.HTML.RemoveClass(this.baseNode,"open"),this.blackLayer.removeEventListener("click",this.onMenuBgClickedBind))},i.prototype.startLoading=function(e){void 0!==this.loadingDynamic&&(this.loadingDynamic.removeEventListener(t.TweenEvent.COMPLETE,this.onDynamicCompleteBind),this.loadingDynamic.destroy()),this.loadingState=!0;var i=t.ColorUtility.StringToRGB(this.sidebarColor.style.backgroundColor);i=i.getLightness()>.5?i.darken(.05):i.brigthen(.05),this.sidebar.style.backgroundColor=i.toString(),this.sidebarColor.style.height="0%",this.sidebarColor.style.top="100%";var n=e.getSectionGroups()[0];this.setCurrentMiddleSectionGroup(n),this.setCurrentTopSectionGroup(n),this.sidebarColor.style.opacity="1",this.loadingDynamic=new t.ADynamicTween(this.onLoadDynamicBind,10,1),this.loadingDynamic.addEventListener(t.TweenEvent.COMPLETE,this.onDynamicCompleteBind)},i.prototype.setLoadProgress=function(t){void 0!==this.loadingDynamic&&this.loadingDynamic.moveTo(t)},i.prototype.onLoadDynamic=function(t){this.sidebarColor.style.height=100*t+"%",this.sidebarColor.style.top=100*(1-t)+"%"},i.prototype.onDynamicComplete=function(e){1===e.target.getTo()&&(this.sidebarColor.style.height="100%",this.sidebarColor.style.top="0%",this.loadingDynamic.removeEventListener(t.TweenEvent.COMPLETE,this.onDynamicCompleteBind),this.loadingDynamic.destroy(),this.loadingDynamic=void 0,this.sidebar.style.backgroundColor=this.currentColor)},i.prototype.finishLoading=function(){this.loadingState=!1,null!==this.currentPageSectionGroup&&(this.currentPageSectionGroupIndex=this.currentPageSectionGroup.getIndex()-1),this.oldColor=this.currentColor,this.updateLabel()},i.prototype.setSidebarColor=function(e){this.oldColor=this.currentColor,this.currentColor=e,this.sidebarColor.style.backgroundColor=e,this.loadingState===!1&&(this.sidebar.style.backgroundColor=e);var i=t.ColorUtility.StringToRGB(e),n=i.getLightness();n>.5?(this.logo.makeDesktopDark(),this.burgerMenuIcon.makeDesktopDark(),t.HTML.RemoveClass(this.baseNode,"bright"),this.mainMenu.setColor("#000000")):(this.logo.makeDesktopBright(),this.burgerMenuIcon.makeDesktopBright(),t.HTML.AddClass(this.baseNode,"bright"),this.mainMenu.setColor("#ffffff"))},i.prototype.setLabelText=function(t,e){this.labelSwitcher.switchLabel(t,e)},i.prototype.removeListeningPage=function(){this.pageToListen=void 0,this.labelSwitcher.switchLabel("",!0)},i.prototype.setListeningPage=function(t){this.pageToListen=t},i.prototype.updateSectionGroupPosition=function(t,e){if(void 0!==this.pageToListen){var i=this.pageToListen.getSectionGroupAt(t+.5*e);this.setCurrentMiddleSectionGroup(i);var n=this.pageToListen.getSectionGroupAt(t+45);this.setCurrentTopSectionGroup(n)}},i.prototype.setCurrentMiddleSectionGroup=function(t){null!=t&&t!=this.currentPageSectionGroup&&(this.currentPageSectionGroup=t,this.setSidebarColor(this.currentPageSectionGroup.getSidebarColor()),this.loadingState===!1&&this.updateLabel())},i.prototype.updateLabel=function(){if(null!=this.currentPageSectionGroup){var t=this.currentPageSectionGroupIndex,e=this.currentPageSectionGroup.getIndex();this.setLabelText(this.currentPageSectionGroup.getTitle(),e>=t),this.currentPageSectionGroupIndex=e}else this.setLabelText("",!0)},i.prototype.setCurrentTopSectionGroup=function(e){if(null!=e)if(this.viewportSize.w>t.Application.MENU_BREAKPOINT);else{var i=e.getSectionLeftAt(t.Main.ScrollY+45);if(null===i)return;i!==this.currentSectionBeneath&&(this.currentSectionBeneath=i,this.currentMobileColorDark=i.hasDarkColor(),this.currentMobileColorDark===!0?(this.logo.makeMobileBright(),this.burgerMenuIcon.makeMobileBright()):(this.logo.makeMobileDark(),this.burgerMenuIcon.makeMobileDark()))}},i.prototype.setSize=function(e){this.viewportSize=e,void 0!==this.logo&&(this.logo.setSize(e),this.burgerMenuIcon.setSize(e),this.mainMenu.updateSize(e),this.labelSwitcher.setSize(new t.Area(e.w,e.h-182))),i.HeaderWidth=this.getWidth()},i.HeaderWidth=0,i}(t.EventDispatcher);t.Header=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.currentLabel=null,this.baseNode=t,this.labelElement=e}return e.prototype.getHTML=function(){return this.baseNode},e.prototype.switchLabel=function(t,e){var n=e?-1:1;null!==this.currentLabel&&this.currentLabel.moveOut(n),this.currentLabel=new i(t,this.size),this.labelElement.appendChild(this.currentLabel.element),this.currentLabel.moveIn(n)},e.prototype.openMenu=function(){t.HTMLTween.Once(this.baseNode,{width:"500px"},500,t.Ease.CubicInOut),t.HTMLTween.Once(this.labelElement,{left:500-this.labelElement.offsetWidth+"px"},500,t.Ease.CubicInOut)},e.prototype.closeMenu=function(){var e;e=this.size.w>t.Application.MENU_BREAKPOINT?89:8,t.HTMLTween.Once(this.baseNode,{width:e+"px"},500,t.Ease.CubicInOut),t.HTMLTween.Once(this.labelElement,{left:"0px"},500,t.Ease.CubicInOut)},e.prototype.setSize=function(e){this.size=e,t.HTML.SetStyles(this.labelElement,{height:this.size.h+"px"}),null!==this.currentLabel&&this.currentLabel.setSize(this.size)},e}();t.LabelSwitcher=e;var i=function(){function e(e,i){this._currentP=null,this._tween=null,this.renderBind=this.render.bind(this),this.onTweenCompleteBind=this.onTweenComplete.bind(this),this.onTweenOutCompleteBind=this.onTweenOutComplete.bind(this),this.element=t.HTML.Create("p",{html:e}),this.element.style.opacity="0",this.size=i}return e.prototype.moveIn=function(t){this.performTween(t,0)},e.prototype.moveOut=function(t){this.performTween(t,1)},e.prototype.performTween=function(e,i){var n=1*(i-1)*e,s=1*i*e;null!==this._tween&&this.onTweenComplete(),null===this._currentP&&(this._currentP=n);var o=600;this._tween=new t.FunctionTween(this.renderBind,this._currentP,s,0,o,t.Ease.CubicInOut),1===i&&this._tween.addEventListener(t.TweenEvent.COMPLETE,this.onTweenOutCompleteBind),this._tween.addEventListener(t.TweenEvent.COMPLETE,this.onTweenCompleteBind),this._tween.execute()},e.prototype.render=function(t){this._currentP=t,this.element.style[e.transformPropertyName]="translateY("+(.5*this.size.h+100*t)+"px) rotate(-90deg)",this.element.style.opacity=1-Math.abs(t)},e.prototype.onTweenComplete=function(e){this._tween.removeEventListener(t.TweenEvent.COMPLETE,this.onTweenCompleteBind),this._tween.destroy(),this._tween=null},e.prototype.onTweenOutComplete=function(e){this._tween.removeEventListener(t.TweenEvent.COMPLETE,this.onTweenOutCompleteBind),this.element.parentNode.removeChild(this.element),this.element=null},e.prototype.setSize=function(t){this.size=t,this.render(this._currentP)},e.transformPropertyName=t.StyleUtility.GetVendorPrefix("transform"),e}();t.Label=i}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.url="/",this.useMobileColor=!1,this.currentColor=!1,this.mobileColor=!1,this.desktopColor=!1,this.onClickedBind=this.onClicked.bind(this),this.baseNode=i,t.TouchClick.AddClickListener(this.baseNode,this.onClickedBind)}return __extends(i,e),i.prototype.onClicked=function(e){this.dispatchEvent(new t.SSEvent("click",this))},i.prototype.getHTML=function(){return this.baseNode},i.prototype.setColor=function(t){
this.currentColor=t,this.baseNode.setAttribute("class",this.currentColor===!0?"bright":"")},i.prototype.makeMobileDark=function(){this.mobileColor=!1,this.useMobileColor===!0&&this.setColor(this.mobileColor)},i.prototype.makeMobileBright=function(){this.mobileColor=!0,this.useMobileColor===!0&&this.setColor(this.mobileColor)},i.prototype.makeDesktopDark=function(){this.desktopColor=!1,this.useMobileColor===!1&&this.setColor(this.desktopColor)},i.prototype.makeDesktopBright=function(){this.desktopColor=!0,this.useMobileColor===!1&&this.setColor(this.desktopColor)},i.prototype.setSize=function(e){e.w>t.Application.MENU_BREAKPOINT?(this.useMobileColor=!1,this.setColor(this.desktopColor)):(this.useMobileColor=!0,this.setColor(this.mobileColor))},i}(t.EventDispatcher);t.Logo=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this),this.color="#000000",this.menuItems=[],this.onMenuItemClickedBind=this.onMenuItemClicked.bind(this),this.baseNode=t.HTML.Qs("#navigation",i),this.size=n.clone(),this.size.w=this.baseNode.offsetHeight,this.svgCanvas=new t.SVGCanvasSymbol("100%","100%"),this.svg=this.svgCanvas.element,this.baseNode.appendChild(this.svg);var s,o,r,a=t.HTML.QsAll("#mainNav li a",this.baseNode);for(s=0;o=a[s];s++)r=new t.MainMenuItem(o,this.svg,this.size),this.menuItems.push(r)}return __extends(i,e),i.prototype.setCurrentURL=function(t){for(var e,i=this.menuItems.length,n=i-1;e=this.menuItems[n];n--)if(e.testIfActive(t)===!0)return void e.select()},i.prototype.setColor=function(t){this.color=t;for(var e,i=0;e=this.menuItems[i];i++)e.setColor(this.color)},i.prototype.updateSize=function(t){this.size=t.clone(),this.size.w=this.baseNode.offsetHeight;for(var e,i=0;e=this.menuItems[i];i++)e.updateSize(this.size)},i.prototype.onMenuItemClicked=function(e){e.preventDefault(),e.stopPropagation(),t.URLManager.CallCostumeURL(e.target.href),this.dispatchEvent(new t.SSEvent("click",this))},i.prototype.openMenu=function(){for(var t,e=0;t=this.menuItems[e];e++)t.show(e,this.menuItems.length)},i.prototype.closeMenu=function(){for(var t,e=0;t=this.menuItems[e];e++)t.hide(e)},i}(t.EventDispatcher);t.MainMenu=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this),this.color="#000000",this.onTweenCompleteBind=this.onTweenComplete.bind(this),this.onClickedBind=this.onClicked.bind(this),this.onMouseOverBind=this.onMouseOver.bind(this),this.onMouseOutBind=this.onMouseOut.bind(this),this.baseNode=i,this.svg=n,this.menuSize=s,this.pageURL=t.Main.ConvertToSafePageURL(this.baseNode.getAttribute("href")),this.baseNode.style.visibility="hidden",t.TouchClick.AddClickListener(i,this.onClickedBind),t.DeviceInfo.HasTouch===!1&&i.addEventListener("mouseover",this.onMouseOverBind),this.selection=new t.MainMenuItemSelection(this.menuSize,this.color),this.selection.setSVGCon(this.svg),this.selection.setCopyCon(this.baseNode)}return __extends(i,e),i.prototype.setColor=function(t){this.color=t,this.selection.setColor(t)},i.prototype.updateSize=function(t){this.menuSize=t,this.selection.setSize(t)},i.prototype.testIfActive=function(e){return t.Main.ConvertToSafePageURL(this.pageURL)==t.Main.ConvertToSafePageURL(e)?!0:-1!=e.indexOf(this.pageURL)},i.prototype.select=function(t){null!==i._SelectedItem&&i._SelectedItem!==this&&i._SelectedItem.deselect(),t!==!1&&(i._SelectedItem=this),void 0!==this.tween&&this.tween.getTimeAspect()>0&&this.selection.show()},i.prototype.deselect=function(){this.selection.hide()},i.prototype.show=function(e,n){var s=100+50*e;void 0===this.tween?(this.baseNode.style.visibility="",this.tween=new t.HTMLTween(this.baseNode),this.tween.makeAutoPause(),this.tween.addEventListener(t.TweenEvent.COMPLETE,this.onTweenCompleteBind),this.tween.add(new t.CSSTransformPropertyRender(this.baseNode,new t.TransformMatrix(new t.Point(.8*-this.menuSize.w,0),1,1,0),t.TransformMatrix.FromDefault(),s+150,s+500,t.Ease.ExpoOut)),n--,this.tween.bounds.start=0,this.tween.bounds.end=200+50*--n+500+25*e):this.tween.setTimeAspect(1),this.tween.forward(),i._SelectedItem===this&&this.selection.show()},i.prototype.hide=function(t){this.selection.hide(),void 0!==this.tween&&(this.tween.setTimeAspect(.8),this.tween.backward())},i.prototype.onTweenComplete=function(e){0==this.tween.getProgress()&&(this.tween.addEventListener(t.TweenEvent.COMPLETE,this.onTweenCompleteBind),this.tween.destroy(),this.tween=void 0,this.baseNode.style.visibility="hidden")},i.prototype.onClicked=function(e){e.preventDefault(),e.stopPropagation(),t.URLManager.CallCostumeURL(e.target.href,e.metaKey===!0)},i.prototype.onMouseOver=function(t){this.baseNode.removeEventListener("mouseover",this.onMouseOverBind),this.baseNode.addEventListener("mouseout",this.onMouseOutBind),this.select(!1)},i.prototype.onMouseOut=function(t){this.baseNode.removeEventListener("mouseout",this.onMouseOutBind),this.baseNode.addEventListener("mouseover",this.onMouseOverBind),i._SelectedItem!==this&&(this.deselect(),null!==i._SelectedItem&&i._SelectedItem.select(!1))},i._SelectedItem=null,i}(t.EventDispatcher);t.MainMenuItem=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e){this.assembled=!1,this.hoverTween=null,this.progressTowards=0,this.lineOffsetableStart=0,this.lineOffsetableEnd=0,this.copyLines=[],this.renderBind=this.render.bind(this),this.onTweenCompleteBind=this.onTweenComplete.bind(this),this.color=e,this.size=t}return e.prototype.setSVGCon=function(t){this.svg=t},e.prototype.setCopyCon=function(t){this.copyCon=t},e.prototype.setColor=function(t){this.color=t,this.assembled!==!1&&this.polygonSVG.setAttribute("fill",this.color)},e.prototype.show=function(){this.assembled===!1&&this.assemble(),this.progressTowards=1,this.hoverTween.forward()},e.prototype.hide=function(){this.assembled!==!1&&(this.progressTowards=0,this.hoverTween.backward())},e.prototype.assemble=function(){this.polygon=new t.Polygon(!0),this.polygon.add(new t.Point(0,0)),this.polygonBottomLeft=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.polygon.add(this.polygonBottomLeft),this.polygonBottomRight=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.polygon.add(this.polygonBottomRight),this.polygonTopRight=new t.Point(8,0),this.polygon.add(this.polygonTopRight),this.polygonSVG=new t.SVGPolygonSymbol(this.polygon),this.polygonSVG.setAttribute("fill",this.color),this.svg.appendChild(this.polygonSVG.element),this.assembled=!0,this.setSize(this.size),this.hoverTween=new t.Tween,this.hoverTween.makeAutoPause(),this.hoverTween.addEventListener(t.TweenEvent.BEFORE,this.onTweenCompleteBind),this.hoverTween.addFunction(this.renderBind,0,1,0,600,t.Ease.QuartOut),this.hoverTween.addRender(this.polygonBottomLeft,0,1,0,600,t.Ease.QuartInOut),this.hoverTween.addRender(this.polygonBottomRight,0,1,0,600,t.Ease.QuartInOut)},e.prototype.disassemble=function(){this.hoverTween.removeEventListener(t.TweenEvent.BEFORE,this.onTweenCompleteBind),this.hoverTween.destroy(),this.hoverTween=null,this.svg.removeChild(this.polygonSVG.element),this.polygonSVG=null,this.assembled=!1},e.prototype.setSize=function(e){if(this.size=e,this.assembled!==!1){this.copyLeft=this.copyCon.offsetLeft-11,this.copyTop=this.copyCon.offsetTop,this.copyHeight=this.copyCon.offsetHeight,this.copyBottom=this.size.h-(this.copyTop+this.copyHeight);var i=20,n=t.MathUtility.ToRadians(i);this.anglePoint=t.GeometryUtility.RotatePoint(new t.Point(0,1),t.MathUtility.ToRadians(20));var s=1-Math.min(this.copyHeight,40)/40,o=t.GeometryUtility.RotatePoint(new t.Point(0,.17*this.copyHeight),n),r=t.GeometryUtility.RotatePoint(new t.Point(0,.85*this.copyHeight),n),a=t.GeometryUtility.RotatePoint(new t.Point(0,this.copyHeight+6*this.copyHeight),n);this.polygon.points[0]=o,this.polygonTopRight.set(o.x+3*(1-s),o.y),this.polygonBottomLeft.from.set(a.x,a.y),this.polygonBottomRight.from.set(a.x+3*(1-s),a.y),this.polygonBottomLeft.to.set(r.x,r.y),this.polygonBottomRight.to.set(r.x+3*(1-s),r.y),this.polygonSVG.update(),null!==this.hoverTween&&this.hoverTween.updateRender()}},e.prototype.render=function(t){var e=1-t,i=this.copyLeft-this.copyBottom*(2*-this.anglePoint.x*e),n=this.copyTop+this.copyBottom*(2*this.anglePoint.y*e);this.polygonSVG.setAttribute("transform","translate("+i+","+n+")"),this.polygonSVG.update()},e.prototype.onTweenComplete=function(t){0==this.progressTowards&&this.disassemble()},e.prototype.destroy=function(){this.assembled===!0&&this.disassemble()},e.CostumeEase=t.Ease.CombineInOut(t.Ease.SineInOut,t.Ease.ExpoInOut),e}();t.MainMenuItemSelection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){if(e.call(this),this.widthInColumns=4,this.mobileWidthInColumns=4,this.marginTop=0,this.marginLeft=0,this.minColumns=0,this.visible=!0,this.svgHover=null,this.linkBleeding=0,this.revealBehaviour=null,this.size=new t.Area(0,0),this.onClickBind=this.onClick.bind(this),this.removeCloneDelayedBind=this.removeCloneDelayed.bind(this),this.data=i,this.baseNode=t.HTML.Create("section",{"class":i.type.toLowerCase()}),this.widthInColumns=this.data.widthInColumns,4==this.widthInColumns?t.HTML.AddClass(this.baseNode,"full"):3==this.widthInColumns?t.HTML.AddClass(this.baseNode,"three-quarter"):2==this.widthInColumns?t.HTML.AddClass(this.baseNode,"half"):1==this.widthInColumns&&t.HTML.AddClass(this.baseNode,"quarter"),this.shiftInColumns=void 0!==this.data.shiftInColumns?this.data.shiftInColumns:0,void 0!==this.data.cssClass&&t.HTML.AddClass(this.baseNode,this.data.cssClass),void 0!==this.data.minColumns&&isNaN(this.data.minColumns)===!1&&(this.minColumns=this.data.minColumns),void 0!==this.data.fontColor&&(this.fontColor=this.data.fontColor,this.baseNode.style.color=this.fontColor),void 0!==this.data.link?(t.HTML.AddClass(this.baseNode,"has-link"),this.contentNode=t.HTML.Create("a",{href:this.data.link}),this.baseNode.appendChild(this.contentNode),t.TouchClick.AddClickListener(this.contentNode,this.onClickBind),void 0!==this.data.linkBleeding&&(this.linkBleeding=parseFloat(this.data.linkBleeding))):this.contentNode=this.baseNode,void 0!==this.data.backgroundColor){this.backgroundColor=this.data.backgroundColor,"parallax"!=this.data.type.toLowerCase()&&(this.baseNode.style.backgroundColor=this.data.backgroundColor);var n=t.ColorUtility.StringToRGB(this.backgroundColor);this.backgroundColorLightness=n.getLightness(),this._hasDarkColor=this.backgroundColorLightness<.5}}return __extends(i,e),i.prototype.getTask=function(){return null},i.prototype.hasDarkColor=function(){return this._hasDarkColor},i.prototype.isVisible=function(){return this.visible},i.prototype.getBackgroundColor=function(){return this.data.backgroundColor},i.prototype.getHeight=function(){return this.size.h},i.prototype.getColumns=function(){return this.widthInColumns},i.prototype.getShift=function(){return this.shiftInColumns},i.prototype.getColumnPosition=function(){return this.columnPosition},i.prototype.getHTML=function(){return this.baseNode},i.prototype.getTop=function(){return this.top},i.prototype.getBottom=function(){return this.top+this.size.h},i.prototype.getRenderer=function(){return null},i.prototype.adjustGridPosition=function(t,e,i,n){this.top=t+e,this.columnPosition=n,this.marginTop!=e&&(this.marginTop=e,this.baseNode.style.marginTop=e+"px"),this.marginLeft!=i&&(this.marginLeft=i,this.baseNode.style.marginLeft=Math.round(100*i)+"%")},i.prototype.onClick=function(e){var i=this.data.link;return t.UrlUtility.IsAbsolute(i)===!0||e.metaKey===!0?(t.URLManager.CallCostumeURL(i,!0),void e.preventDefault()):(t.Main.SetSectionToUseInTransition(this),t.URLManager.CallCostumeURL(i),void e.preventDefault())},i.prototype.hide=function(){this.visible!==!1&&(this.visible=!1,this.baseNode.style.display="none")},i.prototype.show=function(){this.visible!==!0&&(this.visible=!0,this.baseNode.style.display="")},i.prototype.setSize=function(t,e){this.gridSize=t,e>=this.minColumns?(this.show(),this.size.w=t.w/e*Math.min(e,this.widthInColumns),this.updateSize(this.size.w,t.h,e)):this.hide(),null!==this.svgHover&&this.svgHover.setSize(this.size),null!==this.revealBehaviour&&this.revealBehaviour.setSize(this.size)},i.prototype.updateSize=function(t,e,i){this.size.w=Math.round(t),this.size.h=this.baseNode.offsetHeight},i.prototype.makeCloneThatScales=function(e){void 0!==this.removeCloneTimeoutID&&(clearTimeout(this.removeCloneTimeoutID),this.removeCloneDelayed()),null!==this.svgHover&&(this.svgHover.destroy(),this.svgHover=null),null!==this.revealBehaviour&&(this.revealBehaviour.destroy(),this.revealBehaviour=null);var i=this.baseNode.getBoundingClientRect();this.clonedBaseNode=this.baseNode.cloneNode(!0),t.HTML.AddClass(this.clonedBaseNode,"clone"),document.body.appendChild(this.clonedBaseNode);var n=i.top;this._cloneLeftOffset=i.left;var s=this.size.w;t.HTML.SetStyles(this.clonedBaseNode,{position:"fixed",left:this._cloneLeftOffset+"px",top:n+"px",width:s+"px",marginTop:"0px",zIndex:"9"}),t.CSS.ForceUpdate(this.clonedBaseNode),t.CSS.SetTransition(this.clonedBaseNode,"all 700ms cubic-bezier(.4,0,0,1)",e,!0),t.HTML.SetStyles(this.clonedBaseNode,{width:this.gridSize.w+"px",height:this.linkBleeding*this.gridSize.h+this.gridSize.h+"px",top:"0px",left:t.Header.HeaderWidth+"px"})},i.prototype.revertCloneThatScales=function(){void 0!==this.removeCloneTimeoutID&&(clearTimeout(this.removeCloneTimeoutID),this.removeCloneTimeoutID=void 0),document.body.removeChild(this.clonedBaseNode),this.clonedBaseNode=null},i.prototype.moveCloneToTop=function(){this.clonedBaseNode.style.top="0px"},i.prototype.removeClone=function(){null!==this.clonedBaseNode&&(void 0!==this.removeCloneTimeoutID&&clearTimeout(this.removeCloneTimeoutID),this.removeCloneTimeoutID=setTimeout(this.removeCloneDelayedBind,100))},i.prototype.removeCloneDelayed=function(){document.body.removeChild(this.clonedBaseNode),this.clonedBaseNode=null,this.removeCloneTimeoutID=void 0},i.prototype.destroy=function(){void 0!==this.data.link&&this.baseNode.removeEventListener("click",this.onClickBind),null!==this.svgHover&&(this.svgHover.destroy(),this.svgHover=null),null!==this.revealBehaviour&&(this.revealBehaviour.destroy(),this.revealBehaviour=null),this.data=this.size=this.widthInColumns=this.baseNode=null},i}(t.EventDispatcher);t.ASection=e}(ss||(ss={}));var ss;!function(ss){var ASectionKeepAspect=function(_super){function ASectionKeepAspect(data){_super.call(this,data),this.aspectRatio=eval(this.data.aspectRatio),this.mobileAspectRatio=void 0!==this.data.mobileAspectRatio?eval(this.data.mobileAspectRatio):this.aspectRatio}return __extends(ASectionKeepAspect,_super),ASectionKeepAspect.prototype.updateSize=function(t,e,i){var n=i>2?this.aspectRatio:this.mobileAspectRatio;this.size.w=Math.round(t),this.size.h=Math.floor(t/n),ss.HTML.SetStyles(this.baseNode,{height:this.size.h+"px"})},ASectionKeepAspect.prototype.destroy=function(){this.aspectRatio=null,_super.prototype.destroy.call(this)},ASectionKeepAspect}(ss.ASection);ss.ASectionKeepAspect=ASectionKeepAspect}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,i),this.renderWithin=null,this.bgMediaDisplay=null,this.devices=[],this.onBackgroundMediaLoadedBind=this.onBackgroundMediaLoaded.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.onRenderWithinEndBind=this.onRenderWithinEnd.bind(this),t.HTML.AddClass(this.baseNode,"device");var o=(this.data.media,this.data.backgroundMedia),s=s||this.aspectRatio;t.HTML.AddClass(this.baseNode,"loading"),this.taskQueue=new t.TaskQueueAsync,this.taskQueue.addTask(new t.FunctionTask(this.init.bind(this))),void 0!==o?(this.bgMediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(o),this.bgMediaDisplay.addEventListener(t.TaskEvent.COMPLETE,this.onBackgroundMediaLoadedBind),this.bgMediaDisplay.disable(),this.taskQueue.addTask(this.bgMediaDisplay)):t.HTML.RemoveClass(this.baseNode,"loading");for(var r,a,h=0,d=this.data.devices,l=d.length;l>h;)a=d[h],a.media.autoPlay=!0,a.media.loop=!0,r=t.DeviceDefFactory.CreateDeviceDef(a),this.taskQueue.addTask(r.getTask()),this.devices.push(r),h++;var u=void 0!==this.data.revealAt?parseFloat(this.data.revealAt):t.Application.REVEAL_AT_DEFAULT;this.renderWithin=new t.RenderWithinScopeHTML(this.baseNode,t.RenderWithinScopeHTML.GenerateVerticalInsideBounderyBehavior(u,0)),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.renderWithin.addEventListener(t.TweenEvent.END,this.onRenderWithinEndBind);t.SizeBehavior.FromJSON(this.data);this.deviceFrame=new t.DeviceDisplay(s),this.deviceFrameHTML=this.deviceFrame.getHTML(),this.data.shadow===!0&&t.HTML.AddClass(this.deviceFrameHTML,"shadow"),t.HTML.Add(this.baseNode,this.deviceFrameHTML)}return __extends(i,e),i.prototype.init=function(){this.setDeviceByIndex(0),this.revealBehaviour=t.RevealFactory.CreateReveal(this.baseNode,this.renderWithin,this.data),this.revealBehaviour.init(this.size);this.renderWithin.getLocalProgress()},i.prototype.getTask=function(){return this.taskQueue},i.prototype.getRenderer=function(){return this.renderWithin},i.prototype.setDeviceByIndex=function(t){this.currentDeviceIndex!=t&&(this.currentDeviceIndex=t,this.deviceFrame.setDevice(this.devices[t]))},i.prototype.nextDevice=function(){var t=this.currentDeviceIndex+1,e=this.devices.length;t>e-1&&(t-=e),this.setDeviceByIndex(t)},i.prototype.onBackgroundMediaLoaded=function(e){this.bgMediaDisplay.removeEventListener(t.TaskEvent.COMPLETE,this.onBackgroundMediaLoadedBind),t.HTML.RemoveClass(this.baseNode,"loading");var i=this.bgMediaDisplay.getHTML();this.data.backgroundMedia.repeat===!0&&t.HTML.SetStyles(i,{backgroundRepeat:"repeat"}),t.HTML.AddAt(this.baseNode,i,0);var n=this.renderWithin.getLocalProgress();n>0&&1>n&&this.bgMediaDisplay.enable()},i.prototype.onRenderWithinStart=function(t){this.deviceFrame.enable(),null!==this.bgMediaDisplay&&this.bgMediaDisplay.enable()},i.prototype.onRenderWithinEnd=function(t){this.deviceFrame.disable(),null!==this.bgMediaDisplay&&this.bgMediaDisplay.disable()},i.prototype.updateSize=function(t,i,n){e.prototype.updateSize.call(this,t,i,n),this.deviceFrame.setSize(this.size),null!==this.bgMediaDisplay&&this.bgMediaDisplay.updateSize(this.size)},i.prototype.destroy=function(){for(var t,i=this.devices.length;i--;)t=this.devices[i],t.destroy();this.deviceFrame.destroy(),this.renderWithin.destroy(),this.renderWithin=null,null!==this.bgMediaDisplay&&(this.bgMediaDisplay.destroy(),this.bgMediaDisplay=null),e.prototype.destroy.call(this)},i}(t.ASectionKeepAspect);t.ADeviceSection=e}(ss||(ss={}));var ss;!function(ss){var ASectionMinAspect=function(_super){function ASectionMinAspect(data){_super.call(this,data),this.aspectRatio=eval(this.data.aspectRatio),this.mobileAspectRatio=void 0!==this.data.mobileAspectRatio?eval(this.data.mobileAspectRatio):this.aspectRatio}return __extends(ASectionMinAspect,_super),ASectionMinAspect.prototype.updateSize=function(t,e,i){var n=i>2?this.aspectRatio:this.mobileAspectRatio;this.size.w=Math.round(t),this.size.h=Math.floor(t/n),ss.HTML.SetStyles(this.baseNode,{minHeight:this.size.h+"px"});var s=Math.floor(this.baseNode.childNodes[0].offsetHeight);s>this.size.h&&(this.size.h=s)},ASectionMinAspect.prototype.destroy=function(){this.aspectRatio=null,_super.prototype.destroy.call(this)},ASectionMinAspect}(ss.ASection);ss.ASectionMinAspect=ASectionMinAspect}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i){t.call(this,e,i),this.onTriggerBind=this.onTrigger.bind(this),this.switchInterval=e.interval||6e3}return __extends(e,t),e.FromJSON=function(t,i){return new e(t,i)},e.prototype.onRenderWithinStart=function(e){t.prototype.onRenderWithinStart.call(this,e),this.hasBeenUsed===!0?this.onTriggerInterval=setTimeout(this.onTriggerBind,this.switchInterval):(this.onTriggerInterval=setTimeout(this.onTriggerBind,200),this.hasBeenUsed=!0)},e.prototype.onRenderWithinEnd=function(e){t.prototype.onRenderWithinEnd.call(this,e),clearInterval(this.onTriggerInterval)},e.prototype.onTrigger=function(){this.nextDevice(),this.onTriggerInterval=setTimeout(this.onTriggerBind,this.switchInterval)},e.prototype.destroy=function(){clearInterval(this.onTriggerInterval),t.prototype.destroy.call(this)},e}(t.ADeviceSection);t.AutoSwitchDeviceSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){if(e.call(this,i),this.data.headline){var n=t.HTML.Create("h2",{html:this.data.headline});t.HTML.SetStyles(n,{color:this.data.fontColor}),t.HTML.Add(this.contentNode,n)}this.ul=t.HTML.Create("ul"),t.HTML.Add(this.contentNode,this.ul);var s,o;for(s=0;o=this.data.awards[s];s++){var r=new t.AwardImage(o,this.data.fontColor);this.ul.appendChild(r.getHTML())}}return __extends(i,e),i.FromJSON=function(t,e){return new i(t)},i}(t.ASection);t.AwardsSection=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.FromJSON=function(t,i){return new e(t)},e}(t.ASectionKeepAspect);t.BlankSection=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.FromJSON=function(t,i){var t={type:"clear",widthInColumns:4};return new e(t)},e.FromDefault=function(){var t={type:"clear",widthInColumns:4};return new e(t)},e.prototype.updateSize=function(t,e,i){this.size.w=Math.round(t),this.size.h=0},e}(t.ASection);t.ClearGridSection=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.FromJSON=function(t,i){return new e(t)},e}(t.ASectionKeepAspect);t.ColorSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.onRenderStartBind=this.onRenderStart.bind(this),this.onRenderEndBind=this.onRenderEnd.bind(this),this.renderWithin=new t.RenderWithinScopeHTML(this.baseNode,t.RenderWithinScopeHTML.VerticalHalfInsideBounderyBehavior),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderStartBind),this.renderWithin.addEventListener(t.TweenEvent.END,this.onRenderEndBind),this.va=t.HTML.Create("div",{"class":"va"}),this.vb=t.HTML.Create("div",{"class":"vb"});var n=t.HTML.Create("h1");this.h1Transition=new t.HTMLCharacterCSSTransition(n,i.title),t.HTML.Add(this.vb,n),this.vb.appendChild(t.HTML.Create("br"));var s=t.HTML.Create("a",{"class":"mail",href:i.mailURL,html:i.mailLabel});this.vb.appendChild(s),this.vb.appendChild(t.HTML.Create("br"));var o=t.HTML.Create("a",{"class":"phone",href:i.phoneURL,html:i.phoneLabel});this.vb.appendChild(o),t.HTML.Add(this.va,this.vb),t.HTML.Add(this.contentNode,this.va);var r=t.HTML.Create("div",{"class":"social",html:i.social});this.contentNode.appendChild(r);var a=t.HTML.Create("div",{"class":"adress",html:i.adress});this.contentNode.appendChild(a)}return __extends(i,e),i.FromPageData=function(t){var e={type:"footer",widthInColumns:4,shiftInColumns:0,fontColor:t.footer.fontColor,backgroundColor:t.footer.backgroundColor,title:t.footer.title,mailLabel:t.footer.mailLabel,mailURL:t.footer.mailURL,phoneLabel:t.footer.phoneLabel,phoneURL:t.footer.phoneURL,social:t.footer.social,adress:t.footer.adress};return new i(e)},i.prototype.getRenderer=function(){return this.renderWithin},i.prototype.updateSize=function(t,i,n){e.prototype.updateSize.call(this,t,i,n),this.h1Transition.updateSize()},i.prototype.onRenderStart=function(e){this._visible!==!0&&(this.h1Transition.assemble(),t.HTML.AddClass(this.contentNode,"visible"),this.h1Transition.show(),this._visible=!0)},i.prototype.onRenderEnd=function(t){},i.prototype.destroy=function(){this.renderWithin.destroy(),this.renderWithin=void 0,e.prototype.destroy.call(this)},i}(t.ASection);t.FooterSection=e}(ss||(ss={}));var ss;!function(t){var e=function(t){function e(e,i){t.call(this,e),this.contentNode.innerHTML=this.data.html}return __extends(e,t),e.FromJSON=function(t,i){return new e(t,i)},e}(t.ASectionMinAspect);t.FreeHTMLSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.pageIsScrolled=!1,this.onClickScrollDownBind=this.onClickScrollDown.bind(this),this.onScrollHeroBind=this.onScrollHero.bind(this),this.onFirstImageLoadedBind=this.onFirstImageLoaded.bind(this),this.onImageLoadedBind=this.onImageLoaded.bind(this),this.onEntryTweenCompleteBind=this.onEntryTweenComplete.bind(this),this.onArrowTweenCompleteBind=this.onArrowTweenComplete.bind(this),void 0!==this.data.bleeding?this.bleeding=parseFloat(this.data.bleeding):this.bleeding=0,this.va=t.HTML.Create("div",{"class":"va"}),this.vb=t.HTML.Create("div",{"class":"vb"}),this.h1Node=t.HTML.Create("h1"),this.h1Transition=new t.HTMLCharacterCSSTransition(this.h1Node,this.data.h1),t.HTML.Add(this.vb,this.h1Node),t.HTML.Add(this.vb,t.HTML.Create("br")),this.tagNode=t.HTML.Create("div",{"class":"tags"}),this.tagTransition=new t.HTMLCharacterCSSTransition(this.tagNode,this.data.tags,this.h1Transition.delayCounter.get()),t.HTML.Add(this.vb,this.tagNode),""!=this.data.awards&&void 0!=this.data.awards&&(t.HTML.Add(this.vb,t.HTML.Create("br")),this.awardNode=t.HTML.Create("div",{"class":"awards"}),this.awardTransition=new t.HTMLCharacterCSSTransition(this.awardNode,this.data.awards,this.h1Transition.delayCounter.get()+200),t.HTML.Add(this.vb,this.awardNode)),t.HTML.Add(this.vb,t.HTML.Create("br")),this.svgArrow=t.SVG.Create("svg",{"class":"scrollDown",width:"10px",height:"0px"}),this.polygonWrapper1=t.SVG.Create("svg",{width:"10px",height:"60px",y:"-120"}),this.polygonWrapper2=t.SVG.Create("svg",{width:"10px",height:"60px",y:"-60"});var n=t.SVG.Create("polygon",{points:"4,0 6,0 6,55 10,55 5,60 0,55 4,55",fill:i.fontColor}),s=t.SVG.Create("polygon",{points:"4,0 6,0 6,55 10,55 5,60 0,55 4,55",fill:i.fontColor});this.polygonWrapper1.appendChild(n),this.polygonWrapper2.appendChild(s),this.svgArrow.appendChild(this.polygonWrapper1),this.svgArrow.appendChild(this.polygonWrapper2),this.vb.appendChild(this.svgArrow);var o=t.SizeBehavior.FromJSON(i);o.defineAsCSSBackground(this.baseNode),this.imageLoader=new t.ResponsiveImageLoaderXHR(this.data.imageURL,this.data.imageWidth,this.data.imageHeight,o),this.imageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onFirstImageLoadedBind),t.HTML.Add(this.va,this.vb),t.HTML.Add(this.contentNode,this.va),window.addEventListener("scroll",this.onScrollHeroBind),this.svgArrow.addEventListener("click",this.onClickScrollDownBind)}return __extends(i,e),i.FromPageData=function(t){var e={type:"hero",widthInColumns:4,imageURL:t.hero.imageURL,imageWidth:t.hero.imageWidth,imageHeight:t.hero.imageHeight,h1:t.hero.h1,tags:"",awards:"",fontColor:t.hero.fontColor,backgroundColor:t.hero.backgroundColor,size:"cover",bleeding:t.hero.bleeding};return void 0!==t.hero.tags&&(e.tags=t.hero.tags),void 0!==t.hero.awards&&(e.awards=t.hero.awards),void 0!==t.hero.align&&(e.align=t.hero.align),void 0!==t.hero.size&&(e.size=t.hero.size),new i(e)},i.prototype.getTask=function(){return this.imageLoader},i.prototype.onClickScrollDown=function(e){this.svgArrow.removeEventListener("click",this.onClickScrollDownBind),t.AnimateScroll.to(t.DeviceInfo.GetViewportHeight(),800)},i.prototype.onScrollHero=function(){window.removeEventListener("scroll",this.onScrollHeroBind),this.pageIsScrolled=!0,this.killArrowAnimation()},i.prototype.onFirstImageLoaded=function(e){this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onFirstImageLoadedBind),this.onFirstImageLoadedBind=null,this.imageLoader.allowRetina()},i.prototype.onImageLoaded=function(t){this.baseNode.style.backgroundImage="url("+this.imageLoader.data+")",this.baseNode.style.height=this.bleeding*this.size.h+this.size.h+"px",0!=this.bleeding&&(this.baseNode.style.marginBottom=-(this.bleeding*this.size.h)+"px")},i.prototype.playEntryAnimation=function(){this.h1Transition.assemble(),this.tagTransition.assemble(),void 0!==this.awardTransition&&this.awardTransition.assemble(),t.Main.IS_ZOOMTRANSITION===!0?setTimeout(this._startEntryAnimation.bind(this),0):setTimeout(this._startEntryAnimation.bind(this),700)},i.prototype._startEntryAnimation=function(){this.h1Transition.show(),this.tagTransition.show(),void 0!==this.awardTransition&&this.awardTransition.show(),setTimeout(this.onEntryTweenCompleteBind,1e3)},i.prototype.onEntryTweenComplete=function(t){this.runArrowAnimation()},i.prototype.runArrowAnimation=function(){if(this.pageIsScrolled!==!0){this.arrowTween=new t.Tween;var e=t.Ease.CombineInOut(t.Ease.CubicInOut,t.Ease.QuintInOut);this.arrowTween.addEventListener(t.TweenEvent.COMPLETE,this.onArrowTweenCompleteBind),this.arrowTween.add(new t.NSPropertyRender(this.polygonWrapper1,"y",-20,80,0,1800,e)),this.arrowTween.add(new t.NSPropertyRender(this.polygonWrapper2,"y",-80,-20,0,1800,e)),this.arrowTween.bounds.end=2600,this.arrowTween.execute(),t.CSS.SetTransition(this.svgArrow,"height 950ms "+t.CSSEase.CubicOut+" 850ms"),this.svgArrow.style.height="45px"}else this.killArrowAnimation()},i.prototype.onArrowTweenComplete=function(t){this.pageIsScrolled?this.killArrowAnimation():this.arrowTween.play()},i.prototype.killArrowAnimation=function(){void 0!==this.arrowTween&&(this.arrowTween.removeEventListener(t.TweenEvent.COMPLETE,this.onArrowTweenCompleteBind),this.arrowTween.destroy(),this.arrowTween=void 0,t.CSS.SetTransition(this.svgArrow,"opacity 400ms"),t.CSS.SetOpacity(this.svgArrow,0))},i.prototype.updateSize=function(t,e,i){this.size.h=e;var n=this.size;this.baseNode.style.height=this.bleeding*e+this.size.h+"px",0!=this.bleeding&&(n=n.clone(),n.h=this.bleeding*e+this.size.h,this.baseNode.style.marginBottom=-(this.bleeding*e)+"px"),this.va.style.height=this.size.h+"px",this.imageLoader.setSize(n),this.h1Transition.updateSize(),this.tagTransition.updateSize(),void 0!==this.awardTransition&&this.awardTransition.updateSize()},i.prototype.destroy=function(){this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),void 0!==this.arrowTween&&(this.arrowTween.removeEventListener(t.TweenEvent.COMPLETE,this.onArrowTweenCompleteBind),this.arrowTween.destroy(),this.arrowTween=void 0),this.h1Transition.destroy(),this.tagTransition.destroy(),this.h1Transition=void 0,this.tagTransition=void 0,void 0!==this.awardTransition&&(this.awardTransition.destroy(),this.awardTransition=void 0),this.killArrowAnimation(),this.imageLoader.destroy(),this.imageLoader=null,this.va=null,this.vb=null,this.h1Node=null,this.imageLoader=null,this.tagNode=null,this.awardNode=null,e.prototype.destroy.call(this)},i}(t.ASection);t.HeroSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.taskQueue=new t.TaskQueueAsync,this.instagramJSONCallbackBind=this.instagramJSONCallback.bind(this),this.onSingleImageLoadedBind=this.onSingleImageLoaded.bind(this),this.data.backgroundColor&&(this.baseNode.style.backgroundColor=this.data.backgroundColor),4==this.widthInColumns?t.HTML.AddClass(this.baseNode,"full"):3==this.widthInColumns?t.HTML.AddClass(this.baseNode,"three-quarter"):2==this.widthInColumns?t.HTML.AddClass(this.baseNode,"half"):1==this.widthInColumns&&t.HTML.AddClass(this.baseNode,"quarter"),this.ul=t.HTML.Create("ul",{"class":"instagrams"}),this.contentNode.appendChild(this.ul),this.tag=i.tag,this.client_id="31b2d117c3854613ae2e971f1f7863cc";var n="https://api.instagram.com/v1/tags/"+this.tag+"/media/recent?client_id="+this.client_id;this.loader=new t.JSONPLoader(n),this.loader.addEventListener(t.TaskEvent.COMPLETE,this.instagramJSONCallbackBind),this.taskQueue.addTask(this.loader)}return __extends(i,e),i.FromJSON=function(t){return new i(t)},i.prototype.getTask=function(){return this.taskQueue},i.prototype.instagramJSONCallback=function(e){this.instagramData=e.target.data;var i,n,s;for(i=0;n=this.instagramData.data[i];i++)s=new t.ImageLoader(n.images.standard_resolution.url),s.addEventListener(t.TaskEvent.COMPLETE,this.onSingleImageLoadedBind),this.taskQueue.addTask(s)},i.prototype.onSingleImageLoaded=function(e){var i=t.HTML.Create("li",{"class":"instagram"}),n=e.target.data;i.appendChild(n),
this.ul.appendChild(i)},i.prototype.destoy=function(){this.ul=null,e.prototype.destroy.call(this),this.taskQueue.destroy(),this.taskQueue=null},i}(t.ASection);t.InstagramSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){if(e.call(this,i),this.renderWithin=null,this.mediaDisplay=null,this.onMediaLoadedBind=this.onMediaLoaded.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.onRenderWithinEndBind=this.onRenderWithinEnd.bind(this),void 0!==this.data.media){var n=this.data.media;this._mediaOnlyOnMobile=this.data.mediaOnlyOnMobile,t.HTML.AddClass(this.baseNode,"loading");var s=void 0!==this.data.revealAt?parseFloat(this.data.revealAt):t.Application.REVEAL_AT_DEFAULT;this.renderWithin=new t.RenderWithinScopeHTML(this.baseNode,t.RenderWithinScopeHTML.GenerateVerticalInsideBounderyBehavior(s,0)),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.renderWithin.addEventListener(t.TweenEvent.END,this.onRenderWithinEndBind),this.revealBehaviour=t.RevealFactory.CreateReveal(this.baseNode,this.renderWithin,this.data),this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(n),this.mediaDisplay.addEventListener(t.TaskEvent.COMPLETE,this.onMediaLoadedBind),this.mediaDisplay.disable()}}return __extends(i,e),i.FromJSON=function(t,e){return new i(t)},i.prototype.getTask=function(){return this.mediaDisplay},i.prototype.onMediaLoaded=function(e){this.mediaDisplay.removeEventListener(t.TaskEvent.COMPLETE,this.onMediaLoadedBind),t.HTML.RemoveClass(this.baseNode,"loading");var i=this.mediaDisplay.getHTML();this.data.media.repeat===!0&&t.HTML.SetStyles(i,{backgroundRepeat:"repeat"}),this.revealBehaviour.init(this.size),t.DeviceInfo.GetViewportWidth()<=t.Application.BREAKPOINT&&this._mediaOnlyOnMobile===!0?this._mediaVisible=!1:this._mediaVisible=!0,this._mediaVisible===!0&&(t.HTML.AddAt(this.contentNode,i,0),this._mediaAttached=!0);var n=this.renderWithin.getLocalProgress();this._mediaVisible===!0&&n>0&&1>n&&this.mediaDisplay.enable()},i.prototype.onRenderWithinStart=function(t){this._mediaVisible===!0&&this.mediaDisplay.enable()},i.prototype.onRenderWithinEnd=function(t){this._mediaVisible===!0&&this.mediaDisplay.disable()},i.prototype.getRenderer=function(){return this.renderWithin},i.prototype.hideMedia=function(){this._mediaVisible===!0&&(this.mediaDisplay.disable(),this._mediaAttached===!0&&(t.HTML.Remove(this.contentNode,this.mediaDisplay.getHTML()),this._mediaAttached=!1),this._mediaVisible=!1)},i.prototype.showMedia=function(){this._mediaVisible!==!0&&(this.mediaDisplay.enable(),this._mediaAttached!==!0&&(t.HTML.AddAt(this.contentNode,this.mediaDisplay.getHTML(),0),this._mediaAttached=!0),this._mediaVisible=!0)},i.prototype.updateSize=function(i,n,s){e.prototype.updateSize.call(this,i,n,s),null!==this.mediaDisplay&&(null!==this.revealBehaviour&&this.revealBehaviour.setSize(this.size),this.mediaDisplay.updateSize(this.size),t.DeviceInfo.GetViewportWidth()<=t.Application.BREAKPOINT&&this._mediaOnlyOnMobile===!0?this.hideMedia():this.showMedia())},i.prototype.makeCloneThatScales=function(i){e.prototype.makeCloneThatScales.call(this,i);var n=t.HTML.Qs(".media",this.clonedBaseNode);n.style.transition="none",n.style.transform=t.StyleUtility.GetStyleValue(this.mediaDisplay.getHTML(),"transform",""),n.offsetWidth,n.style.transition="transform 700ms cubic-bezier(.4,0,0,1)",n.style.transform="scale(1)"},i.prototype.destroy=function(){null!==this.mediaDisplay&&(null!==this.revealBehaviour&&(this.revealBehaviour.destroy(),this.revealBehaviour=null),this.renderWithin.destroy(),this.renderWithin=null,this.mediaDisplay.destroy(),this.mediaDisplay=null),e.prototype.destroy.call(this)},i}(t.ASectionKeepAspect);t.MediaSection=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(t,e,i){this.svg=null,this.hoverTween=null,this.titleLines=[],this.labelLines=[],this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.renderBind=this.render.bind(this),this.onTweenCompleteBind=this.onTweenComplete.bind(this),this.baseNode=t,this.color=i,this.size=e,this.baseNode.addEventListener("mouseenter",this.onMouseEnterBind)}return e.prototype.setCopyCon=function(t){this.copyCon=t},e.prototype.addH1=function(t){this.titleLines.push(t)},e.prototype.addLabel=function(t){this.labelLines.push(t)},e.prototype.onMouseEnter=function(t){null===this.svg&&this.assemble(),this.hoverTween.forward()},e.prototype.onMouseLeave=function(t){this.hoverTween.backward()},e.prototype.assemble=function(){this.svg=t.SVG.Create("svg",{"class":"hover",width:"100%",height:"100%"}),this.polygon=new t.Polygon(!0),this.polygon.add(new t.Point(0,0)),this.polygonBottomLeft=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.polygon.add(this.polygonBottomLeft),this.polygonBottomRight=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.polygon.add(this.polygonBottomRight),this.polygon.add(new t.Point(8,0)),this.polygonSVG=new t.SVGPolygonSymbol(this.polygon),this.polygonSVG.setAttribute("fill",this.color),this.svg.appendChild(this.polygonSVG.getSVG()),this.baseNode.appendChild(this.svg);var e=new t.TransformMatrix(new t.Point(0,0),1,1,0);this.transformTo=new t.TransformMatrix(new t.Point(0,0),1,1,0),this.setSize(this.size),this.hoverTween=new t.Tween,this.hoverTween.makeAutoPause(),this.hoverTween.addEventListener(t.TweenEvent.BEFORE,this.onTweenCompleteBind),this.hoverTween.setTimeAspect(1.4),this.hoverTween.addFunction(this.renderBind,0,1,0,600,t.Ease.ExpoOut),this.hoverTween.addRender(this.polygonBottomLeft,0,1,0,600,t.Ease.QuartInOut),this.hoverTween.addRender(this.polygonBottomRight,0,1,0,600,t.Ease.QuartInOut);for(var i,n,s,o=0;o<this.titleLines.length;o++)n=25*o,i=this.titleLines[o],s=550+4*n,this.hoverTween.add(new t.CSSTransformPropertyRender(i,e,this.transformTo,n,n+s,t.Ease.QuadInOut));n+=25;for(var o=0;o<this.labelLines.length;o++)i=this.labelLines[o],s=550+4*n,this.hoverTween.add(new t.CSSTransformPropertyRender(i,e,this.transformTo,n,n+s,t.Ease.QuadInOut));this.baseNode.addEventListener("mouseleave",this.onMouseLeaveBind)},e.prototype.disassemble=function(){this.baseNode.removeEventListener("mouseleave",this.onMouseLeaveBind),this.hoverTween.removeEventListener(t.TweenEvent.BEFORE,this.onTweenCompleteBind),this.hoverTween.destroy(),this.hoverTween=null,this.baseNode.removeChild(this.svg),this.svg=null},e.prototype.setSize=function(e){if(this.size=e,null!==this.svg){this.pushCopy=.1*Math.max(0,768-this.size.w),this.transformTo.t.x=20+this.pushCopy,this.copyLeft=this.copyCon.offsetLeft+this.pushCopy,this.copyTop=this.copyCon.offsetTop+3,this.copyHeight=this.copyCon.offsetHeight-13,this.copyBottom=this.size.h-(this.copyTop+this.copyHeight);this.anglePoint=t.GeometryUtility.RotatePoint(new t.Point(0,1),t.MathUtility.ToRadians(20));var i=1-Math.min(this.copyHeight-10,40)/40,n=t.GeometryUtility.RotatePoint(new t.Point(0,.06*this.copyHeight),t.MathUtility.ToRadians(20)),s=t.GeometryUtility.RotatePoint(new t.Point(0,this.copyHeight+.13*this.copyHeight),t.MathUtility.ToRadians(20)),o=t.GeometryUtility.RotatePoint(new t.Point(0,this.copyHeight+4*this.copyHeight),t.MathUtility.ToRadians(20));this.polygon.points[0]=n,this.polygonBottomLeft.from.set(o.x,o.y),this.polygonBottomRight.from.set(o.x+3*(1-i),o.y),this.polygonBottomLeft.to.set(s.x,s.y),this.polygonBottomRight.to.set(s.x+3*(1-i),s.y),this.polygon.points[3].set(n.x+3*(1-i),n.y),this.polygonSVG.update();n.multiplyValues(1.5,1.5);null!==this.hoverTween&&this.hoverTween.updateRender()}},e.prototype.render=function(t){var e=1-t,i=this.copyLeft-this.copyBottom*(8*-this.anglePoint.x*e),n=this.copyTop+this.copyBottom*(8*this.anglePoint.y*e);this.polygonSVG.setAttribute("transform","translate("+i+","+n+")"),this.polygonSVG.update()},e.prototype.onTweenComplete=function(t){this.disassemble()},e.prototype.destroy=function(){this.baseNode.removeEventListener("mouseenter",this.onMouseEnterBind),null!==this.svg&&this.disassemble(),this.baseNode=null},e}();t.PageLinkHoverSVG=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.copyNode=t.HTML.Create("div",{"class":"copy"}),void 0!==this.data.label&&(this.label=t.HTML.Create("p",{html:this.data.label,"class":"label"}),this.copyNode.appendChild(this.label)),void 0!==this.data.title&&(this.h4=t.HTML.Create("h4",{html:this.data.title}),this.copyNode.appendChild(this.h4)),void 0!==this.data.tags&&(this.tags=t.HTML.Create("p",{html:this.data.tags,"class":"tags"}),this.copyNode.appendChild(this.tags)),this.contentNode.appendChild(this.copyNode)}return __extends(i,e),i.FromJSON=function(t,e){return new i(t)},i.FromPageData=function(t,e,n){var s={type:"pageLink prevNext",widthInColumns:2,aspectRatio:"2/1",label:e,title:t.pageTitle,link:t.pageURL};return void 0!==n&&(s.minColumns=n),void 0!==t.hero&&(s.media={type:"image",url:t.hero.imageURL,repeat:!1,size:"cover",align:"center center"},void 0!==t.hero.fontColor&&(s.fontColor=t.hero.fontColor),void 0!==t.hero.backgroundColor&&(s.backgroundColor=t.hero.backgroundColor),void 0!==t.hero.bleeding&&(s.linkBleeding=t.hero.bleeding),void 0!==t.hero.size&&(s.media.size=t.hero.size),void 0!==t.hero.align&&(s.media.align=t.hero.align)),new i(s)},i.prototype.onMediaLoaded=function(i){e.prototype.onMediaLoaded.call(this,i),t.DeviceInfo.HasTouch===!1&&void 0!==this.data.link&&(this.svgHover=new t.PageLinkHoverSVG(this.contentNode,this.size,this.fontColor),this.svgHover.setCopyCon(this.copyNode),void 0!==this.h4&&this.svgHover.addH1(this.h4),void 0!==this.tags&&this.svgHover.addLabel(this.tags),void 0!==this.label&&this.svgHover.addLabel(this.label))},i.prototype.makeCloneThatScales=function(i){var n=this.copyNode.offsetLeft,s=this.copyNode.offsetHeight;e.prototype.makeCloneThatScales.call(this,i);var o=t.HTML.Qs(".copy",this.clonedBaseNode);t.CSS.SetTransition(o,"all 700ms, bottom 700ms ease-in, left 700ms cubic-bezier(.4,0,0,1)"),t.CSS.SetOpacity(o,0),o.style.left=this._cloneLeftOffset+n-t.Header.HeaderWidth+"px",o.style.bottom=-s+"px"},i.prototype.destroy=function(){this.contentNode.removeChild(this.copyNode),this.copyNode=this.h4=this.label=this.tags=null,e.prototype.destroy.call(this)},i}(t.MediaSection);t.PageLinkSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this,i),this.activeLayers=[],this.staticLayers=[],this.onRenderStartBind=this.onRenderStart.bind(this),this.onRenderEndBind=this.onRenderEnd.bind(this),this.scrollUpdateBind=this.scrollUpdate.bind(this),this.backpage=n,this.backpageLayer=t.HTML.Create("section",{"class":"back"}),void 0!==this.data.backgroundColor&&(this.backpageLayer.style.backgroundColor=this.data.backgroundColor),4==this.widthInColumns?t.HTML.AddClass(this.backpageLayer,"full"):3==this.widthInColumns?t.HTML.AddClass(this.backpageLayer,"three-quarter"):2==this.widthInColumns?t.HTML.AddClass(this.backpageLayer,"half"):1==this.widthInColumns&&t.HTML.AddClass(this.backpageLayer,"quarter"),this.taskQueue=new t.TaskQueueAsync,this.renderWithin=new t.RenderWithinScopeAreaPlusExtra(t.DeviceInfo.GetViewportSize(),100),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderStartBind),this.renderWithin.addEventListener(t.TweenEvent.END,this.onRenderEndBind),this.parallaxRender=new t.RenderWithinScopeHTML(this.baseNode,t.RenderWithinScopeHTML.VerticalOutsideBounderyBehavior),this.renderWithin.add(this.parallaxRender);for(var s,o,r=i.layers,a=0;a<r.length;a++)s=r[a],o=t.HTMLParallaxLayerFactory.CreateLayer(s),0==s.depth?(this.staticLayers.push(o),this.taskQueue.addTask(o.getTask()),this.contentNode.appendChild(o.getElement())):(this.parallaxRender.add(o),this.activeLayers.push(o),this.taskQueue.addTask(o.getTask()),this.backpageLayer.appendChild(o.getElement()));this.backpage.appendChild(this.backpageLayer),this.revealBehaviour=t.RevealFactory.CreateReveal(this.baseNode,this.parallaxRender,this.data),this.revealBehaviour.init(this.size)}return __extends(i,e),i.FromJSON=function(e,n){return t.Main.IS_FALLBACK===!0?new t.FallbackParallaxSection(e,n):new i(e,n)},i.prototype.getTask=function(){return this.taskQueue},i.prototype.getRenderer=function(){return this.renderWithin},i.prototype.onRenderStart=function(t){this.backpageLayer.style.display="block"},i.prototype.onRenderEnd=function(t){this.backpageLayer.style.display=""},i.prototype.scrollUpdate=function(t){},i.prototype.updateSize=function(t,i,n){e.prototype.updateSize.call(this,t,i,n),this.backpageLayer.style.left=this.baseNode.offsetLeft+"px",this.backpageLayer.style.height=i+"px";for(var s=this.activeLayers.length;s--;)this.activeLayers[s].setParentSize(i,this.size,this.top-this.marginTop);for(s=this.staticLayers.length;s--;)this.staticLayers[s].setParentSize(i,this.size,this.top-this.marginTop)},i.prototype.destroy=function(){for(var t=this.activeLayers.length;t--;)this.activeLayers[t].destroy();for(t=this.staticLayers.length;t--;)this.staticLayers[t].destroy();this.backpage.removeChild(this.backpageLayer),this.backpageLayer=null,this.backpage=null,this.renderWithin.destroy(),this.renderWithin=null,this.taskQueue.destroy(),this.taskQueue=null,e.prototype.destroy.call(this)},i}(t.ASectionKeepAspect);t.ParallaxSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.fontSize=this.data.fontSize,this.fontWeight=this.data.fontWeight,this.vAlign=this.data.vAlign,this.hAlign=this.data.hAlign,this.quoteText=this.data.quoteText,this.author=this.data.author,this.copyAlign=t.HTML.Create("div",{"class":"va"});var n=t.HTML.Create("div",{"class":"copy "+this.vAlign});if(this.data.quoteText){var s=t.HTML.Create("p"),o=t.HTML.Create("blockquote",{html:this.quoteText});t.HTML.SetStyles(o,{fontSize:this.fontSize,textAlign:this.hAlign,fontWeight:this.fontWeight})}if(this.data.author){var r=t.HTML.Create("p",{html:this.data.author});t.HTML.SetStyles(r,{textAlign:this.hAlign})}this.data.quoteText&&(t.HTML.Add(s,o),t.HTML.Add(n,s)),this.data.author&&t.HTML.Add(n,r),t.HTML.Add(this.copyAlign,n),t.HTML.Add(this.contentNode,this.copyAlign)}return __extends(i,e),i.FromJSON=function(t,e){return new i(t)},i.prototype.updateSize=function(t,i,n){this.copyAlign.style.minHeight="",e.prototype.updateSize.call(this,t,i,n),this.copyAlign.style.minHeight=this.size.h+"px",this.size.w=Math.round(t),this.size.h=this.baseNode.offsetHeight},i.prototype.destroy=function(){this.fontSize=null,this.fontWeight=null,this.vAlign=null,this.hAlign=null,this.quoteText=null,this.author=null,e.prototype.destroy.call(this)},i}(t.ASectionMinAspect);t.QuoteSection=e}(ss||(ss={}));var ss;!function(ss){var ScrollThroughDeviceSection=function(_super){function ScrollThroughDeviceSection(data,backlayer){_super.call(this,data,backlayer,eval(data.aspectRatio)*data.devices.length),this._renderAtBind=this._renderAt.bind(this),this.amountOfDevices=data.devices.length;var deviceAspectRatio=eval(data.aspectRatio)*this.amountOfDevices;this.deviceHeightAspect=1/this.amountOfDevices,this.deviceFrameHTML.style.height=100*this.deviceHeightAspect+"%",this.renderWithin.add(new ss.FunctionRender(this._renderAtBind,0,1,0,1,ss.Ease.Linear))}return __extends(ScrollThroughDeviceSection,_super),ScrollThroughDeviceSection.FromJSON=function(t,e){return new ScrollThroughDeviceSection(t,e)},ScrollThroughDeviceSection.prototype.onRenderWithinStart=function(t){_super.prototype.onRenderWithinStart.call(this,t)},ScrollThroughDeviceSection.prototype.onRenderWithinEnd=function(t){_super.prototype.onRenderWithinEnd.call(this,t)},ScrollThroughDeviceSection.prototype._renderAt=function(t){var e=Math.floor(this.amountOfDevices*t);this.setDeviceByIndex(e)},ScrollThroughDeviceSection.prototype.setDeviceByIndex=function(t){this.currentDeviceIndex!=t&&(this.currentDeviceIndex=t,this.deviceFrameHTML.style[ss.css.name.TRANSFORM]=ss.Polyfills.Create3DTranslate(0,t/this.amountOfDevices*this.size.h),this.deviceFrame.setDevice(this.devices[t]))},ScrollThroughDeviceSection.prototype.destroy=function(){clearInterval(this.onTriggerInterval),_super.prototype.destroy.call(this)},ScrollThroughDeviceSection}(ss.ADeviceSection);ss.ScrollThroughDeviceSection=ScrollThroughDeviceSection}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.textItems=[],this.data.backgroundColor&&(this.baseNode.style.backgroundColor=this.data.backgroundColor),4==this.widthInColumns?t.HTML.AddClass(this.baseNode,"full"):3==this.widthInColumns?t.HTML.AddClass(this.baseNode,"three-quarter"):2==this.widthInColumns?t.HTML.AddClass(this.baseNode,"half"):1==this.widthInColumns&&t.HTML.AddClass(this.baseNode,"quarter"),this.va=t.HTML.Create("div",{"class":"va"}),this.copyNode=t.HTML.Create("div",{"class":"copy"}),this.va.appendChild(this.copyNode),this.contentNode.appendChild(this.va),"top"==this.data.vAlign?t.HTML.AddClass(this.copyNode,"top"):"bottom"==this.data.vAlign&&t.HTML.AddClass(this.copyNode,"bottom"),this.taskQueue=new t.TaskQueueAsync,null!==this.mediaDisplay&&this.taskQueue.addTask(this.mediaDisplay);for(var n,s,o=0;n=i.text[o];o++)s=t.TextFactory.CreateText(n,this.copyNode,this.taskQueue),this.textItems.push(s)}return __extends(i,e),i.FromJSON=function(t){return new i(t)},i.prototype.getTask=function(){return this.taskQueue},i.prototype.updateSize=function(e,i,n){var s=n>2?this.aspectRatio:this.mobileAspectRatio;if(this.size.w=Math.round(e),void 0!==this.data.aspectRatio){this.size.h=Math.floor(e/s),t.HTML.SetStyles(this.baseNode,{minHeight:this.size.h+"px"}),t.HTML.SetStyles(this.va,{minHeight:this.size.h+"px"});var o=Math.floor(this.baseNode.childNodes[0].offsetHeight);o>this.size.h&&(this.size.h=o)}else this.size.h=Math.floor(this.baseNode.offsetHeight);for(var r=this.textItems.length;r--;)this.textItems[r].updateSize(this.size,n);null!==this.mediaDisplay&&(this.mediaDisplay.updateSize(this.size),t.DeviceInfo.GetViewportWidth()<=t.Application.BREAKPOINT&&this._mediaOnlyOnMobile===!0?this.hideMedia():this.showMedia()),null!==this.revealBehaviour&&this.revealBehaviour.setSize(this.size)},i.prototype.destoy=function(){for(var t=this.textItems.length;t--;)this.textItems[t].destroy();this.textItems=null,this.copyNode=null,this.va=null,e.prototype.destroy.call(this)},i}(t.MediaSection);t.TextSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.showUIBind=this.showUI.bind(this),this.hideUIBind=this.hideUI.bind(this);var n=t.SizeBehavior.FromJSON(i),s=t.CodecDetection.GetSupportedVideo(i.urls);if(void 0==s)throw new Error("VideoPlayerSection: urls for media item of type video cannot be empty.");this.videoPlayer=new t.VideoPlayer(s);var n=t.SizeBehavior.FromJSON(this.data);this.videoPlayer.addSizeBehaviour(n),this.videoPlayer.addCover(this.data.coverURL),this.videoPlayer.setLoop(this.data.loop),this.videoPlayer.setVolume(this.data.volume),this.videoPlayer.execute(),this.hugePlayPauseBn=new t.UIHugePlayPause,this.playPauseBn=new t.UIPlayPause,this.progressBar=new t.UIProgressBar,this.muteUnmuteBn=new t.UIMuteUnmute,this.fullscreenBn=new t.UIFullscreen,this.timeLabel=new t.UITimeLabel,this.videoPlayer.addUI(this.hugePlayPauseBn),this.videoPlayer.addUI(this.playPauseBn),this.videoPlayer.addUI(this.progressBar),this.videoPlayer.addUI(this.muteUnmuteBn),this.videoPlayer.addUI(this.fullscreenBn),this.videoPlayer.addUI(this.timeLabel),this.videoPlayerContainer=this.videoPlayer.getHTML(),this.contentNode.appendChild(this.videoPlayerContainer),this.uiElement=this.videoPlayer.getUIHTML(),this.baseNode.addEventListener("mouseenter",this.showUIBind)}return __extends(i,e),i.FromJSON=function(t,e){return new i(t)},i.prototype.updateSize=function(i,n,s){e.prototype.updateSize.call(this,i,n,s);var o=new t.Area(this.size.w,this.size.h);this.videoPlayer.updateSize(o)},i.prototype.showUI=function(e){this.baseNode.removeEventListener("mouseenter",this.showUIBind),this.baseNode.addEventListener("mouseleave",this.hideUIBind);t.HTMLTween.Once(this.uiElement,{opacity:1},300,t.Ease.CubicInOut)},i.prototype.hideUI=function(e){this.baseNode.removeEventListener("mouseleave",this.hideUIBind),this.baseNode.addEventListener("mouseenter",this.showUIBind);t.HTMLTween.Once(this.uiElement,{opacity:0},300,t.Ease.CubicInOut)},i.prototype.destroy=function(){this.baseNode.removeEventListener("mouseenter",this.showUIBind),this.baseNode.removeChild(this.videoPlayerContainer),this.videoPlayer.destroy(),this.videoPlayer=null,e.prototype.destroy.call(this)},i}(t.ASectionKeepAspect);t.VideoPlayerSection=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i),this.playerOrigin="*",this.onJSONFailedBind=this.onJSONFailed.bind(this),this.onJSONLoadedBind=this.onJSONLoaded.bind(this),this.onImageLoadedBind=this.onImageLoaded.bind(this),this.onCoverClickedBind=this.onCoverClicked.bind(this),this.onRenderStartBind=this.onRenderStart.bind(this),this.onRenderEndBind=this.onRenderEnd.bind(this),this.onPlayerActionReceivedBind=this.onPlayerActionReceived.bind(this),this.vimeoID=i.vimeoID,1==i.autoPlay&&(this.autoPlay=!0),this.renderWithin=new t.RenderWithinScopeHTML(this.baseNode,t.RenderWithinScopeHTML.VerticalHalfInsideBounderyBehavior),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderStartBind),this.renderWithin.addEventListener(t.TweenEvent.END,this.onRenderEndBind),t.DeviceInfo.IsMobileDevice===!0?this.initVimeo():(this.jsonLoader=new t.JSONLoader("//vimeo.com/api/oembed.json?url=https://vimeo.com/"+this.vimeoID),this.jsonLoader.addEventListener(t.TaskEvent.COMPLETE,this.onJSONLoadedBind),this.jsonLoader.addEventListener(t.TaskEvent.ERROR,this.onJSONFailedBind))}return __extends(i,e),i.FromJSON=function(t,e){return new i(t)},i.prototype.getTask=function(){return this.jsonLoader},i.prototype.getRenderer=function(){return this.renderWithin},i.prototype.onJSONFailed=function(e){this.jsonLoader.destroy(),this.jsonLoader=new t.JSONLoader("//vimeo.com/api/oembed.json?url=https://vimeo.com/"+this.vimeoID),this.jsonLoader.addEventListener(t.TaskEvent.COMPLETE,this.onJSONLoadedBind),this.jsonLoader.execute()},i.prototype.onJSONLoaded=function(e){var i=e.target.data.thumbnail_url;this.jsonLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onJSONLoadedBind),this.imageLoader=new t.ImageLoader(i),this.imageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.execute()},i.prototype.onImageLoaded=function(e){this.imageCon=t.HTML.Create("div",{"class":"cover",style:"background-image:url('"+this.imageLoader.data.src+"')"}),this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.destroy(),this.imageLoader=void 0,this.contentNode.appendChild(this.imageCon),this.contentNode.appendChild(t.HTML.Create("div",{"class":"greyOut"})),this.revealBehaviour=t.RevealFactory.CreateReveal(this.baseNode,this.renderWithin,this.data),this.revealBehaviour.init(this.size),this.contentNode.addEventListener("click",this.onCoverClickedBind);var i=t.HTML.Create("div",{"class":"bigplay",html:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 148 148" xml:space="preserve"><circle opacity="0.5" fill="'+this.backgroundColor+'" cx="74" cy="74" r="74"/><path fill="'+this.fontColor+'" d="M102,74.1L60.8,50.3c-0.3-0.2-0.7-0.2-1,0s-0.5,0.5-0.5,0.9v47.6c0,0.4,0.2,0.7,0.5,0.9c0.2,0.1,0.3,0.1,0.5,0.1s0.3,0,0.5-0.1L102,75.9c0.3-0.2,0.5-0.5,0.5-0.9S102.3,74.3,102,74.1z"/></svg>'});this.imageCon.appendChild(i)},i.prototype.onCoverClicked=function(t){this.contentNode.removeEventListener("click",this.onCoverClickedBind),this.playVimeo()},i.prototype.playVimeo=function(){void 0!==this.imageLoader?(this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.destroy(),this.imageLoader=void 0):this.contentNode.removeChild(this.imageCon),this.initVimeo()},i.prototype.initVimeo=function(){this.iFrameID="vimeo_"+i.GlobalCount++;var e="//player.vimeo.com/video/"+this.vimeoID+"?api=1";e+="&badge=0",e+="&autoplay=1",e+="&color=ffffff",e+="&title=0",e+="&player_id="+this.iFrameID,this.iFrame=t.HTML.Create("iframe",{id:this.iFrameID,src:e,frameborder:"0",webkitallowfullscreen:"true",mozallowfullscreen:"true",allowfullscreen:"true",width:"100%",height:"100%"}),this.contentNode.appendChild(this.iFrame),this.vimeoIsInit=!0,window.addEventListener("message",this.onPlayerActionReceivedBind,!1)},i.prototype.onRenderStart=function(e){t.HTML.AddClass(this.contentNode,"visible"),this.autoPlay===!0&&(this.vimeoIsInit!==!0?this.playVimeo():this.playerAction("play"))},i.prototype.onRenderEnd=function(e){t.HTML.RemoveClass(this.contentNode,"visible"),this.vimeoIsInit===!0&&this.playerAction("pause")},i.prototype.playerAction=function(t,e){var i={method:t};null!=e&&(i.value=e);var n=JSON.stringify(i);this.iFrame.contentWindow.postMessage(n,this.playerOrigin)},i.prototype.onPlayerActionReceived=function(t){return/^https?:\/\/player.vimeo.com/.test(t.origin)?void("*"===this.playerOrigin&&(this.playerOrigin=t.origin)):!1},i.prototype.destroy=function(){this.renderWithin.destroy(),this.renderWithin=void 0,void 0!==this.jsonLoader&&(this.jsonLoader.destroy(),this.jsonLoader=void 0),void 0!==this.imageLoader&&(this.imageLoader.destroy(),this.imageLoader=void 0),void 0!==this.iFrame&&(this.contentNode.removeChild(this.iFrame),this.iFrame=void 0),e.prototype.destroy.call(this)},i.GlobalCount=0,i}(t.ASectionKeepAspect);t.VimeoSection=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.CreateSection=function(t,i){var n=t.type.toLowerCase();return e._Dictionary.hasOwnProperty(n)===!1?null:e._Dictionary[n].FromJSON(t,i)},e._Dictionary={clear:t.ClearGridSection,blank:t.BlankSection,color:t.ColorSection,quote:t.QuoteSection,text:t.TextSection,media:t.MediaSection,videoplayer:t.VideoPlayerSection,parallax:t.ParallaxSection,device:t.AutoSwitchDeviceSection,scrollthroughdevices:t.ScrollThroughDeviceSection,pagelink:t.PageLinkSection,awards:t.AwardsSection,freehtml:t.FreeHTMLSection,footer:t.FooterSection,vimeo:t.VimeoSection,instagram:t.InstagramSection},e}();t.SectionFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.exitFullscreenBind=this.exitFullscreen.bind(this),this.onClickedEnterFullscreenBind=this.onClickedEnterFullscreen.bind(this),this.onClickedExitFullscreenBind=this.onClickedExitFullscreen.bind(this),this.baseNode=t.HTML.Create("div",{"class":"fullscreen enter"}),this.baseNode.addEventListener("click",this.onClickedEnterFullscreenBind),this.svg=t.SVG.Create("svg",{width:"40px",height:"30px"}),this.svgEnter1=t.SVG.Create("polygon",{points:"10,0 6,0 6,6 0,6 0,10 10,10"}),this.svgEnter2=t.SVG.Create("polygon",{points:"0,20 0,24 6,24 6,30 10,30 10,20"}),this.svgEnter3=t.SVG.Create("polygon",{points:"30,30 34,30 34,24 40,24 40,20 30,20"}),this.svgEnter4=t.SVG.Create("polygon",{points:"40,10 40,6 34,6 34,0 30,0 30,10"}),this.svgLeave1=t.SVG.Create("polygon",{points:"10,30 10,26 4,26 4,20 0,20 0,30"}),this.svgLeave2=t.SVG.Create("polygon",{points:"40,20 36,20 36,26 30,26 30,30 40,30"}),this.svgLeave3=t.SVG.Create("polygon",{points:"30,0 30,4 36,4 36,10 40,10 40,0"}),this.svgLeave4=t.SVG.Create("polygon",{points:"0,10 4,10 4,4 10,4 10,0 0,0"}),this.addFullscreenEnterIcon(),this.baseNode.appendChild(this.svg)}return e.prototype.clearSvgIcon=function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild)},e.prototype.addFullscreenEnterIcon=function(){this.svg.appendChild(this.svgEnter1),this.svg.appendChild(this.svgEnter2),this.svg.appendChild(this.svgEnter3),this.svg.appendChild(this.svgEnter4)},e.prototype.addFullscreenLeaveIcon=function(){this.svg.appendChild(this.svgLeave1),this.svg.appendChild(this.svgLeave2),this.svg.appendChild(this.svgLeave3),this.svg.appendChild(this.svgLeave4)},e.prototype.getHTML=function(){return this.baseNode},e.prototype.defineVideoPlayer=function(e){this.videoPlayer=e,this.videoPlayer.addEventListener(t.VideoPlayerEvent.EXIT_FULLSCREEN,this.exitFullscreenBind)},e.prototype.exitFullscreen=function(e){t.HTML.AddClass(this.baseNode,"enter"),t.HTML.RemoveClass(this.baseNode,"exit"),this.clearSvgIcon(),this.addFullscreenEnterIcon()},e.prototype.onClickedEnterFullscreen=function(e){this.videoPlayer.onToggleFullscreen(),t.HTML.AddClass(this.baseNode,"exit"),t.HTML.RemoveClass(this.baseNode,"enter"),this.baseNode.removeEventListener("click",this.onClickedEnterFullscreenBind),this.baseNode.addEventListener("click",this.onClickedExitFullscreenBind),this.clearSvgIcon(),this.addFullscreenLeaveIcon()},e.prototype.onClickedExitFullscreen=function(e){this.videoPlayer.onToggleFullscreen(),t.HTML.AddClass(this.baseNode,"enter"),t.HTML.RemoveClass(this.baseNode,"exit"),this.baseNode.removeEventListener("click",this.onClickedExitFullscreenBind),this.baseNode.addEventListener("click",this.onClickedEnterFullscreenBind),this.clearSvgIcon(),this.addFullscreenEnterIcon()},e.prototype.destroy=function(){this.baseNode.removeEventListener("click",this.onClickedEnterFullscreenBind),this.videoPlayer=null,this.baseNode=null},e}();t.UIFullscreen=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.onPlayClickedBind=this.onPlayClicked.bind(this),this.onPauseClickedBind=this.onPauseClicked.bind(this),this.onPlayBind=this.onPlay.bind(this),this.onPauseBind=this.onPause.bind(this),this.baseNode=t.HTML.Create("div",{"class":"hugePlayPause paused"}),this.baseNode.addEventListener("click",this.onPlayClickedBind)}return e.prototype.getHTML=function(){return this.baseNode},e.prototype.onPlayClicked=function(t){t.preventDefault(),t.stopPropagation(),this.videoPlayer.play()},e.prototype.onPauseClicked=function(t){t.preventDefault(),t.stopPropagation(),this.videoPlayer.pause()},e.prototype.defineVideoPlayer=function(e){this.videoPlayer=e,this.videoPlayer.addEventListener(t.VideoPlayerEvent.PLAYING,this.onPlayBind),this.videoPlayer.addEventListener(t.VideoPlayerEvent.PAUSED,this.onPauseBind),this.videoPlayer.addEventListener(t.VideoPlayerEvent.END,this.onPauseBind)},e.prototype.onPlay=function(e){t.HTML.RemoveClass(this.baseNode,"paused"),t.HTML.AddClass(this.baseNode,"playing"),this.baseNode.removeEventListener("click",this.onPlayClickedBind),this.baseNode.addEventListener("click",this.onPauseClickedBind)},e.prototype.onPause=function(e){t.HTML.RemoveClass(this.baseNode,"playing"),t.HTML.AddClass(this.baseNode,"paused"),this.baseNode.removeEventListener("click",this.onPauseClickedBind),this.baseNode.addEventListener("click",this.onPlayClickedBind)},e.prototype.destroy=function(){this.baseNode.removeEventListener("click",this.onPlayClickedBind),this.baseNode.removeEventListener("click",this.onPauseClickedBind),this.videoPlayer.removeEventListener(t.VideoPlayerEvent.PLAYING,this.onPlayBind),this.videoPlayer.removeEventListener(t.VideoPlayerEvent.PAUSED,this.onPauseBind),this.videoPlayer.removeEventListener(t.VideoPlayerEvent.END,this.onPauseBind),this.videoPlayer=null,this.baseNode=null},e}();t.UIHugePlayPause=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.onMuteClickedBind=this.onMuteClicked.bind(this),this.onUnmuteClickedBind=this.onUnmuteClicked.bind(this),this.baseNode=t.HTML.Create("div",{"class":"volume unmuted"}),this.baseNode.addEventListener("click",this.onMuteClickedBind),this.svg=t.SVG.Create("svg",{width:"30px",height:"30px"}),this.svgSpeaker=t.SVG.Create("path",{d:"M11,3v21l-7-6H0v-8h4L11,3z"}),this.svgCross=t.SVG.Create("polygon",{points:"20.1,11.6 19.4,10.9 16.5,13.8 13.7,10.9 13,11.6 15.8,14.5 13,17.3 13.7,18 16.5,15.2 19.4,18 20.1,17.3 17.2,14.5"}),this.svgVolumeCircle1=t.SVG.Create("path",{d:"M13,7c3.9,0,7,3.1,7,7s-3.1,7-7,7"}),this.svgVolumeCircle2=t.SVG.Create("path",{d:"M13,11c1.7,0,3,1.3,3,3s-1.3,3-3,3"}),this.addUnMuteIcon(),this.baseNode.appendChild(this.svg)}return e.prototype.clearSvgIcon=function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild)},e.prototype.addMuteIcon=function(){this.svg.appendChild(this.svgSpeaker),
this.svg.appendChild(this.svgCross)},e.prototype.addUnMuteIcon=function(){this.svg.appendChild(this.svgSpeaker),this.svg.appendChild(this.svgVolumeCircle1),this.svg.appendChild(this.svgVolumeCircle2)},e.prototype.getHTML=function(){return this.baseNode},e.prototype.onMuteClicked=function(e){this.baseNode.removeEventListener("click",this.onMuteClickedBind),this.baseNode.addEventListener("click",this.onUnmuteClickedBind),this.videoPlayer.setVolume(0),t.HTML.AddClass(this.baseNode,"muted"),t.HTML.RemoveClass(this.baseNode,"unmuted"),this.clearSvgIcon(),this.addMuteIcon()},e.prototype.onUnmuteClicked=function(e){this.baseNode.removeEventListener("click",this.onUnmuteClickedBind),this.baseNode.addEventListener("click",this.onMuteClickedBind),this.videoPlayer.setVolume(1),t.HTML.AddClass(this.baseNode,"unmuted"),t.HTML.RemoveClass(this.baseNode,"muted"),this.clearSvgIcon(),this.addUnMuteIcon()},e.prototype.defineVideoPlayer=function(t){this.videoPlayer=t},e.prototype.destroy=function(){this.baseNode.removeEventListener("click",this.onMuteClickedBind),this.videoPlayer=null,this.baseNode=null},e}();t.UIMuteUnmute=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.svg=null,this.onPlayClickedBind=this.onPlayClicked.bind(this),this.onPauseClickedBind=this.onPauseClicked.bind(this),this.onPlayBind=this.onPlay.bind(this),this.onPauseBind=this.onPause.bind(this),this.baseNode=t.HTML.Create("div",{"class":"playPause paused"}),this.baseNode.addEventListener("click",this.onPlayClickedBind),this.svg=t.SVG.Create("svg",{width:"30px",height:"30px"}),this.play=t.SVG.Create("polygon",{points:"0,0 30,15 0,30"}),this.pause1=t.SVG.Create("polygon",{points:"10,30 0,30 0,0 10,0"}),this.pause2=t.SVG.Create("polygon",{points:"26,30 16,30 16,0 26,0"}),this.addPlayIcon(),this.baseNode.appendChild(this.svg)}return e.prototype.clearSvgIcon=function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild)},e.prototype.addPauseIcon=function(){this.svg.appendChild(this.pause1),this.svg.appendChild(this.pause2)},e.prototype.addPlayIcon=function(){this.svg.appendChild(this.play)},e.prototype.getHTML=function(){return this.baseNode},e.prototype.onPlayClicked=function(t){t.preventDefault(),this.videoPlayer.play()},e.prototype.onPauseClicked=function(t){t.preventDefault(),this.videoPlayer.pause()},e.prototype.defineVideoPlayer=function(e){this.videoPlayer=e,this.videoPlayer.addEventListener(t.VideoPlayerEvent.PLAYING,this.onPlayBind),this.videoPlayer.addEventListener(t.VideoPlayerEvent.PAUSED,this.onPauseBind),this.videoPlayer.addEventListener(t.VideoPlayerEvent.END,this.onPauseBind)},e.prototype.onPlay=function(e){this.baseNode.removeEventListener("click",this.onPlayClickedBind),this.baseNode.addEventListener("click",this.onPauseClickedBind),t.HTML.RemoveClass(this.baseNode,"paused"),t.HTML.AddClass(this.baseNode,"playing"),this.clearSvgIcon(),this.addPauseIcon()},e.prototype.onPause=function(e){this.baseNode.removeEventListener("click",this.onPauseClickedBind),this.baseNode.addEventListener("click",this.onPlayClickedBind),t.HTML.RemoveClass(this.baseNode,"playing"),t.HTML.AddClass(this.baseNode,"paused"),this.clearSvgIcon(),this.addPlayIcon()},e.prototype.destroy=function(){this.videoPlayer.removeEventListener(t.VideoPlayerEvent.PLAYING,this.onPlayBind),this.videoPlayer.removeEventListener(t.VideoPlayerEvent.PAUSED,this.onPauseBind),this.videoPlayer.removeEventListener(t.VideoPlayerEvent.END,this.onPauseBind),this.videoPlayer=null,this.baseNode=null},e}();t.UIPlayPause=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.onHoverProgressbarBind=this.onHoverProgressbar.bind(this),this.onMouseDownProgressbarBind=this.onMouseDownProgressbar.bind(this),this.onMouseUpProgressbarBind=this.onMouseUpProgressbar.bind(this),this.onMouseMoveProgressbarBind=this.onMouseMoveProgressbar.bind(this),this.onUpdateTimeBind=this.onUpdateTime.bind(this),this.barContainer=t.HTML.Create("div",{"class":"bar"}),this.backgroundBar=t.HTML.Create("div",{"class":"bg"}),this.currentProgressBar=t.HTML.Create("div",{"class":"cpb"}),this.hoverBar=t.HTML.Create("div",{"class":"hb"}),this.barContainer.appendChild(this.backgroundBar),this.barContainer.appendChild(this.currentProgressBar),this.barContainer.appendChild(this.hoverBar)}return e.prototype.getHTML=function(){return this.barContainer},e.prototype.defineVideoPlayer=function(e){this.videoPlayer=e,this.videoPlayer.addEventListener(t.VideoPlayerEvent.TIME_UPDATE,this.onUpdateTimeBind),this.barContainer.addEventListener("mousedown",this.onMouseDownProgressbarBind),this.barContainer.addEventListener("mouseup",this.onMouseUpProgressbarBind),this.barContainer.addEventListener("mousemove",this.onMouseMoveProgressbarBind),this.barContainer.addEventListener("mousemove",this.onHoverProgressbarBind)},e.prototype.onHoverProgressbar=function(t){this.updateProgressHover(t.pageX)},e.prototype.updateProgressHover=function(e){var i=(this.barContainer.offsetWidth/100,e-t.HTML.GetGlobalOffsetLeft(this.barContainer)),n=100*i/this.barContainer.offsetWidth;this.hoverBar.style.width=n+"%"},e.prototype.onMouseDownProgressbar=function(t){this._timeDrag=!0,this.updateProgressbar(t.pageX)},e.prototype.onMouseUpProgressbar=function(t){this._timeDrag&&(this._timeDrag=!1,this.updateProgressbar(t.pageX))},e.prototype.onMouseMoveProgressbar=function(t){this._timeDrag&&this.updateProgressbar(t.pageX)},e.prototype.updateProgressbar=function(e){var i=(this.barContainer.offsetWidth/100,e-t.HTML.GetGlobalOffsetLeft(this.barContainer)),n=100*i/this.barContainer.offsetWidth;this.currentProgressBar.style.width=n+"%",this.videoPlayer.seekTo(this.videoPlayer.getDuration()*n/100)},e.prototype.onUpdateTime=function(e){var i=this.videoPlayer.getDuration(),n=this.videoPlayer.getCurrentTime(),s=n/i;t.HTML.SetStyles(this.currentProgressBar,{width:100*s+"%"});this.calculateTimeToString(i),this.calculateTimeToString(n)},e.prototype.calculateTimeToString=function(t){var e=Math.round(t/60),i=Math.round(t%60),n=e+":"+(10>i?"0":"");return n+=i},e.prototype.updateSize=function(t){},e.prototype.destroy=function(){this.barContainer=null,this.backgroundBar=null,this.currentProgressBar=null,this.loadingProgressBar=null,this.hoverBar=null,this.timeLabel=null,this._timeDrag=null,this.videoPlayer.removeEventListener(t.VideoPlayerEvent.TIME_UPDATE,this.onUpdateTimeBind),this.barContainer.removeEventListener("mousedown",this.onMouseDownProgressbarBind),this.barContainer.removeEventListener("mouseup",this.onMouseUpProgressbarBind),this.barContainer.removeEventListener("mousemove",this.onMouseMoveProgressbarBind),this.barContainer.removeEventListener("mousemove",this.onHoverProgressbarBind),this.videoPlayer=null},e}();t.UIProgressBar=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){this.onUpdateTimeBind=this.onUpdateTime.bind(this),this.timeContainer=t.HTML.Create("div",{"class":"time"})}return e.prototype.getHTML=function(){return this.timeContainer},e.prototype.defineVideoPlayer=function(e){this.videoPlayer=e,this.videoPlayer.addEventListener(t.VideoPlayerEvent.TIME_UPDATE,this.onUpdateTimeBind)},e.prototype.onUpdateTime=function(t){var e=this.videoPlayer.getDuration(),i=this.videoPlayer.getCurrentTime(),n=this.calculateTimeToString(e),s=this.calculateTimeToString(i);this.timeContainer.innerHTML=n+" / "+s},e.prototype.calculateTimeToString=function(t){var e=Math.round(t/60),i=Math.round(t%60),n=e+":"+(10>i?"0":"");return n+=i},e.prototype.dstroy=function(){this.videoPlayer.removeEventListener(t.VideoPlayerEvent.TIME_UPDATE,this.onUpdateTimeBind),this.videoPlayer=null,this.timeContainer=null},e}();t.UITimeLabel=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i){this.onImageLoadedBind=this.onImageLoaded.bind(this),this.data=e,this.color=i,this.baseNode=t.HTML.Create("li"),void 0!==this.data.link?(t.HTML.AddClass(this.baseNode,"has-link"),this.contentNode=t.HTML.Create("a",{href:this.data.link,target:"_blank"}),this.baseNode.appendChild(this.contentNode)):this.contentNode=this.baseNode;var n=t.HTML.Create("p",{html:e.title});t.HTML.SetStyles(n,{color:this.data.headlineColor}),t.HTML.Add(this.contentNode,n);var s="/assets/awards/awards_white_"+e.logoID+".svg";this.svgElement=t.HTML.Create("div",{"class":"logoCon"}),this.imageLoader=new t.XMLLoader(s),this.imageLoader.addEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.execute()}return e.prototype.getHTML=function(){return this.baseNode},e.prototype.onImageLoaded=function(e){var i=e.target.data;i=i.replace("#FFFFFF",this.color),this.svgElement.innerHTML=i,t.HTML.AddAt(this.contentNode,this.svgElement,0),this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.destroy(),this.imageLoader=void 0},e.prototype.onResize=function(t){},e.prototype.destroy=function(){void 0!==this.imageLoader&&(this.imageLoader.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.imageLoader.destroy(),this.imageLoader=void 0),this.data=null,this.width=null,this.height=null,this.baseNode=null},e}();t.AwardImage=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.caseStrokeWidth="0px",this.detailStrokeWidth="0px",this.isTurned=!1,this.imageWidth=1920,this.imageHeight=1080,this.insideMarginTop=.05,this.insideMarginBottom=.05,this.insideMarginLeft=0,this.insideMarginRight=0,this.caseRTL=.005,this.caseRTR=.005,this.caseRBL=0,this.caseRBR=0,this.casePaddingTop=.05,this.casePaddingBottom=0,this.casePaddingLeft=0,this.casePaddingRight=0,this.detail1X=.015,this.detail1Y=.023,this.detail1Radius=.004,this.detail1Opacity=1,this.detail2X=.028,this.detail2Y=.0155,this.detail2W=.008,this.detail2H=.014,this.detail2Radius=.004,this.detail2Opacity=1,this.detail3X=.041,this.detail3Y=.023,this.detail3Radius=.004,this.detail3Opacity=1,this.detailLeftX=0,this.detailLeftY=.5,this.detailLeftW=0,this.detailLeftH=0,this.detailLeftRadius=0,this.detailLeftOpacity=0,this.detailRightX=1,this.detailRightY=.5,this.detailRightRadius=0,this.detailRightOpacity=0,this.detailBottomX=.5,this.detailBottomY=1,this.detailBottomW=0,this.detailBottomH=0,this.detailBottomRTL=0,this.detailBottomRTR=0,this.detailBottomRBL=0,this.detailBottomRBR=0,this.bottomDetailPoints_0=new t.Point(.5,1),this.bottomDetailPoints_0a=new t.Point(.5,1),this.bottomDetailPoints_0b=new t.Point(.5,1),this.bottomDetailPoints_1=new t.Point(.5,1),this.bottomDetailPoints_2=new t.Point(.5,1),this.bottomDetailPoints_2a=new t.Point(.5,1),this.bottomDetailPoints_2b=new t.Point(.5,1),this.bottomDetailPoints_3=new t.Point(.5,1),this.detailBottomOpacity=0,this.bottomDetailOpacity=0,this.caseColor=e,this.caseStrokeColor=i,this.detailColor=n,this.rotation=s,Math.abs(s)>0&&(this.isTurned=!0),this.sizeBehavior=o,this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(r),this.mediaDisplay.disable()}return e.FromJSON=function(i){return void 0===i.caseColor&&(i.caseColor="#FFFFFF"),void 0===i.detailColor&&(i.detailColor="#cccccc"),new e(i.caseColor,i.caseStrokeColor,i.detailColor,parseInt(i.rotation),t.SizeBehavior.FromJSON(i),i.media)},e.prototype.getTask=function(){return this.mediaDisplay},e.prototype.setSize=function(t){},e.prototype.destroy=function(){this.mediaDisplay.destroy(),this.mediaDisplay=null},e}();t.BrowserDevice=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.caseStrokeWidth="0.12px",this.detailStrokeWidth="0.12px",this.isTurned=!1,this.imageWidth=2560,this.imageHeight=1440,this.insideMarginTop=.1,this.insideMarginBottom=.25,this.insideMarginLeft=.1,this.insideMarginRight=.1,this.caseRTL=.02,this.caseRTR=.02,this.caseRBL=.02,this.caseRBR=.02,this.casePaddingTop=.08,this.casePaddingBottom=.08,this.casePaddingLeft=.05,this.casePaddingRight=.05,this.detail1X=.4,this.detail1Y=.023,this.detail1Radius=0,this.detail1Opacity=0,this.detail2X=.45,this.detail2Y=.0155,this.detail2W=.008,this.detail2H=.008,this.detail2Radius=0,this.detail2Opacity=0,this.detail3X=.5,this.detail3Y=.03,this.detail3Radius=.0033,this.detail3Opacity=1,this.detailLeftX=.045,this.detailLeftY=.496,this.detailLeftW=.008,this.detailLeftH=.012,this.detailLeftRadius=0,this.detailLeftOpacity=0,this.detailRightX=.9532,this.detailRightY=.5,this.detailRightRadius=0,this.detailRightOpacity=0,this.detailBottomX=.34,this.detailBottomY=1.15,this.detailBottomW=.32,this.detailBottomH=.015,this.detailBottomRTL=.002,this.detailBottomRTR=.002,this.detailBottomRBL=.002,this.detailBottomRBR=.002,this.detailBottomOpacity=1,this.bottomDetailPoints_0=new t.Point(.37,1.151),this.bottomDetailPoints_0a=new t.Point(.385,1.14),this.bottomDetailPoints_0b=new t.Point(.39,1.07),this.bottomDetailPoints_1=new t.Point(.395,1),this.bottomDetailPoints_2=new t.Point(.605,1),this.bottomDetailPoints_2a=new t.Point(.61,1.07),this.bottomDetailPoints_2b=new t.Point(.615,1.14),this.bottomDetailPoints_3=new t.Point(.63,1.151),this.bottomDetailOpacity=1,this.caseColor=e,this.caseStrokeColor=i,this.detailColor=n,this.footColor=s;var h=t.ColorUtility.StringToRGB(s);this.footColorG1=h.darken(.4).toHexString(),this.footColorG2=h.darken(.1).toHexString(),this.rotation=o,Math.abs(o)>0&&(this.isTurned=!0),this.sizeBehavior=r,this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(a),this.mediaDisplay.disable()}return e.FromJSON=function(i){return void 0===i.caseColor&&(i.caseColor="#FFFFFF"),void 0===i.detailColor&&(i.detailColor="#cccccc"),void 0===i.footColor&&(i.footColor="#cccccc"),new e(i.caseColor,i.caseStrokeColor,i.detailColor,i.footColor,parseInt(i.rotation),t.SizeBehavior.FromJSON(i),i.media)},e.prototype.getTask=function(){return this.mediaDisplay},e.prototype.setSize=function(t){},e.prototype.destroy=function(){this.mediaDisplay.destroy(),this.mediaDisplay=null},e}();t.CinemaDisplayDevice=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.caseStrokeWidth="0.12px",this.detailStrokeWidth="0.12px",this.isTurned=!1,this.imageWidth=1024,this.imageHeight=768,this.insideMarginTop=.1,this.insideMarginBottom=.1,this.insideMarginLeft=.1,this.insideMarginRight=.1,this.caseRTL=.05,this.caseRTR=.05,this.caseRBL=.05,this.caseRBR=.05,this.casePaddingTop=.08,this.casePaddingBottom=.08,this.casePaddingLeft=.11,this.casePaddingRight=.11,this.detail1X=.4,this.detail1Y=.023,this.detail1Radius=0,this.detail1Opacity=0,this.detail2X=.45,this.detail2Y=.0155,this.detail2W=.008,this.detail2H=.008,this.detail2Radius=0,this.detail2Opacity=0,this.detail3X=.5,this.detail3Y=.023,this.detail3Radius=0,this.detail3Opacity=0,this.detailLeftX=.045,this.detailLeftY=.496,this.detailLeftW=.008,this.detailLeftH=.012,this.detailLeftRadius=.006,this.detailLeftOpacity=1,this.detailRightX=.9532,this.detailRightY=.5,this.detailRightRadius=.024,this.detailRightOpacity=1,this.detailBottomX=.5,this.detailBottomY=1,this.detailBottomW=0,this.detailBottomH=0,this.detailBottomRTL=0,this.detailBottomRTR=0,this.detailBottomRBL=0,this.detailBottomRBR=0,this.bottomDetailPoints_0=new t.Point(.5,1),this.bottomDetailPoints_0a=new t.Point(.5,1),this.bottomDetailPoints_0b=new t.Point(.5,1),this.bottomDetailPoints_1=new t.Point(.5,1),this.bottomDetailPoints_2=new t.Point(.5,1),this.bottomDetailPoints_2a=new t.Point(.5,1),this.bottomDetailPoints_2b=new t.Point(.5,1),this.bottomDetailPoints_3=new t.Point(.5,1),this.detailBottomOpacity=0,this.bottomDetailOpacity=0,this.caseColor=e,this.caseStrokeColor=i,this.detailColor=n,this.rotation=s,Math.abs(s)>0&&(this.isTurned=!0),this.sizeBehavior=o,this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(r),this.mediaDisplay.disable()}return e.FromJSON=function(i){return void 0===i.caseColor&&(i.caseColor="#FFFFFF"),void 0===i.detailColor&&(i.detailColor="#cccccc"),new e(i.caseColor,i.caseStrokeColor,i.detailColor,parseInt(i.rotation),t.SizeBehavior.FromJSON(i),i.media)},e.prototype.getTask=function(){return this.mediaDisplay},e.prototype.setSize=function(t){},e.prototype.destroy=function(){this.mediaDisplay.destroy(),this.mediaDisplay=null},e}();t.IPadDevice=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r){this.caseStrokeWidth="0.12px",this.detailStrokeWidth="0.25px",this.isTurned=!1,this.imageWidth=1334,this.imageHeight=750,this.insideMarginTop=.2,this.insideMarginBottom=.2,this.insideMarginLeft=.2,this.insideMarginRight=.2,this.caseRTL=.07,this.caseRTR=.07,this.caseRBL=.07,this.caseRBR=.07,this.casePaddingTop=.07,this.casePaddingBottom=.07,this.casePaddingLeft=.16,this.casePaddingRight=.16,this.detail1X=.4,this.detail1Y=.023,this.detail1Radius=0,this.detail1Opacity=0,this.detail2X=.45,this.detail2Y=.0155,this.detail2W=.008,this.detail2H=.008,this.detail2Radius=0,this.detail2Opacity=0,this.detail3X=.5,this.detail3Y=.023,this.detail3Radius=0,this.detail3Opacity=0,this.detailLeftX=.06,this.detailLeftY=.42,this.detailLeftW=.009,this.detailLeftH=.16,this.detailLeftRadius=.006,this.detailLeftOpacity=1,this.detailRightX=.935,this.detailRightY=.5,this.detailRightRadius=.034,this.detailRightOpacity=1,this.detailBottomX=.5,this.detailBottomY=1,this.detailBottomW=0,this.detailBottomH=0,this.detailBottomRTL=0,this.detailBottomRTR=0,this.detailBottomRBL=0,this.detailBottomRBR=0,this.bottomDetailPoints_0=new t.Point(.5,1),this.bottomDetailPoints_0a=new t.Point(.5,1),this.bottomDetailPoints_0b=new t.Point(.5,1),this.bottomDetailPoints_1=new t.Point(.5,1),this.bottomDetailPoints_2=new t.Point(.5,1),this.bottomDetailPoints_2a=new t.Point(.5,1),this.bottomDetailPoints_2b=new t.Point(.5,1),this.bottomDetailPoints_3=new t.Point(.5,1),this.detailBottomOpacity=0,this.bottomDetailOpacity=0,this.caseColor=e,this.caseStrokeColor=i,this.detailColor=n,this.rotation=s,Math.abs(s)>0&&(this.isTurned=!0),this.sizeBehavior=o,this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(r),this.mediaDisplay.disable()}return e.FromJSON=function(i){return void 0===i.caseColor&&(i.caseColor="#FFFFFF"),void 0===i.detailColor&&(i.detailColor="#cccccc"),new e(i.caseColor,i.caseStrokeColor,i.detailColor,parseInt(i.rotation),t.SizeBehavior.FromJSON(i),i.media)},e.prototype.getTask=function(){return this.mediaDisplay},e.prototype.setSize=function(t){},e.prototype.destroy=function(){this.mediaDisplay.destroy(),this.mediaDisplay=null},e}();t.IPhoneDevice=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s,o,r,a){this.caseStrokeWidth="0.12px",this.detailStrokeWidth="0.12px",this.isTurned=!1,this.imageWidth=1440,this.imageHeight=900,this.insideMarginTop=.1,this.insideMarginBottom=.2,this.insideMarginLeft=.1,this.insideMarginRight=.1,this.caseRTL=.02,this.caseRTR=.02,this.caseRBL=0,this.caseRBR=0,this.casePaddingTop=.06,this.casePaddingBottom=.035,this.casePaddingLeft=.036,this.casePaddingRight=.036,this.detail1X=.4,this.detail1Y=.023,this.detail1Radius=0,this.detail1Opacity=0,this.detail2X=.45,this.detail2Y=.0155,this.detail2W=.008,this.detail2H=.008,this.detail2Radius=0,this.detail2Opacity=0,this.detail3X=.5,this.detail3Y=.03,this.detail3Radius=.0025,this.detail3Opacity=1,this.detailLeftX=.045,this.detailLeftY=.496,this.detailLeftW=.008,this.detailLeftH=.012,this.detailLeftRadius=0,this.detailLeftOpacity=0,this.detailRightX=.9532,this.detailRightY=.5,this.detailRightRadius=0,this.detailRightOpacity=0,this.detailBottomX=-.07,this.detailBottomY=1,this.detailBottomW=1.14,this.detailBottomH=.05,this.detailBottomRTL=0,this.detailBottomRTR=0,this.detailBottomRBL=.02,this.detailBottomRBR=.02,this.detailBottomOpacity=1,this.bottomDetailPoints_0=new t.Point(.43,1),this.bottomDetailPoints_0a=new t.Point(.43,1.01),this.bottomDetailPoints_0b=new t.Point(.43,1.025),this.bottomDetailPoints_1=new t.Point(.45,1.025),this.bottomDetailPoints_2=new t.Point(.55,1.025),this.bottomDetailPoints_2a=new t.Point(.57,1.025),this.bottomDetailPoints_2b=new t.Point(.57,1.01),this.bottomDetailPoints_3=new t.Point(.57,1),this.bottomDetailOpacity=1,this.caseColor=e,this.caseStrokeColor=i,this.detailColor=n,this.footColor=s;var h=t.ColorUtility.StringToRGB(s);this.footColorG1=h.darken(.4).toHexString(),this.footColorG2=h.darken(.1).toHexString(),this.rotation=o,Math.abs(o)>0&&(this.isTurned=!0),this.sizeBehavior=r,this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(a),this.mediaDisplay.disable()}return e.FromJSON=function(i){return void 0===i.caseColor&&(i.caseColor="#FFFFFF"),void 0===i.detailColor&&(i.detailColor="#cccccc"),void 0===i.footColor&&(i.footColor="#cccccc"),new e(i.caseColor,i.caseStrokeColor,i.detailColor,i.footColor,parseInt(i.rotation),t.SizeBehavior.FromJSON(i),i.media)},e.prototype.getTask=function(){return this.mediaDisplay},e.prototype.setSize=function(t){},e.prototype.destroy=function(){this.mediaDisplay.destroy(),this.mediaDisplay=null},e}();t.LaptopDevice=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.CreateDeviceDef=function(t){var i=t.type.toLowerCase();if(e._Dictionary.hasOwnProperty(i)===!1)throw new TypeError("DeviceDefFactory::CreateDeviceDef: There is no section with the type '"+i+"'.");return e._Dictionary[i].FromJSON(t)},e._Dictionary={browser:t.BrowserDevice,ipad:t.IPadDevice,iphone:t.IPhoneDevice,display:t.CinemaDisplayDevice,laptop:t.LaptopDevice},e}();t.DeviceDefFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e){this._enabled=!1,this.mediaDisplays=[],this.marginHorizontal=.09,this.marginVertical=.09,this.marginHorizontalHalf=.045,this.marginVerticalHalf=.045,this.caseDetailBottomDetailPoints=[],this.tweenProgress=0,this.rotationCurrent=0,this.rotationFrom=0,this.rotationTo=0,this.onDeviceLoadedBind=this.onDeviceLoaded.bind(this),this.cleanMediaDisplaysBind=this.cleanMediaDisplays.bind(this),this.renderDevicePropsBind=this.renderDeviceProps.bind(this),this.renderDeviceRotationBind=this.renderDeviceRotation.bind(this),this.baseNode=t.HTML.Create("div",{"class":"deviceCon"}),this.sectionAspectRatio=e,this.svgSize=new t.Area(100,100/this.sectionAspectRatio),this.svg=new t.SVGCanvasSymbol(this.svgSize.w+"px",this.svgSize.h+"px"),this.svg.element.style.width="100%",this.svg.element.style.height="100%",this.svg.setAttribute("viewBox","0 0 "+this.svgSize.w+" "+this.svgSize.h),this.svgDefs=t.SVG.Create("defs"),this.svgGradient=t.SVG.Create("linearGradient",{id:"svg_gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}),this.svgGradientStart=t.SVG.Create("stop",{offset:"0%",style:"stop-color:#666666;stop-opacity:1"}),this.svgGradientStop=t.SVG.Create("stop",{offset:"100%",style:"stop-color:#bbbbbb;stop-opacity:1"}),this.svgGradient.appendChild(this.svgGradientStart),this.svgGradient.appendChild(this.svgGradientStop),this.svgDefs.appendChild(this.svgGradient),this.svg.element.appendChild(this.svgDefs),this.svgSize.w-=this.marginHorizontal,this.svgSize.h-=this.marginVertical,this.insideScreenNode=t.HTML.Create("div",{"class":"inside"}),t.HTML.Add(this.baseNode,this.insideScreenNode),this.deviceGroup=new t.SVGGroupSymbol,this.svg.addChild(this.deviceGroup),this.caseShape=new t.RoundedRectangleFlexMorphRender(new t.RoundedRectangleFlex(new t.Point(0,0),0,0,0,0,0,0)),this.caseOwner=this.caseShape.createSVGSymbol(),t.SVG.AddClass(this.caseOwner.element,"case"),this.deviceGroup.addChild(this.caseOwner),this.caseDetail1Shape=new t.CircleMorphRender(new t.Circle(new t.Point(0,0),0),new t.Circle(new t.Point(0,0),0)),this.caseDetail1Owner=this.caseDetail1Shape.createSVGSymbol(),this.deviceGroup.addChild(this.caseDetail1Owner),this.caseDetail2Shape=new t.RoundedRectangleMorphRender(new t.RoundedRectangle(new t.Point(0,0),0,0,0),new t.RoundedRectangle(new t.Point(0,0),0,0,0)),this.caseDetail2Owner=this.caseDetail2Shape.createSVGSymbol(),this.deviceGroup.addChild(this.caseDetail2Owner),this.caseDetail3Shape=new t.CircleMorphRender(new t.Circle(new t.Point(0,0),0),new t.Circle(new t.Point(0,0),0)),this.caseDetail3Owner=this.caseDetail3Shape.createSVGSymbol(),this.deviceGroup.addChild(this.caseDetail3Owner),this.caseDetailLeftShape=new t.RoundedRectangleMorphRender(new t.RoundedRectangle(new t.Point(0,0),0,0,0),new t.RoundedRectangle(new t.Point(0,0),0,0,0)),this.caseDetailLeftOwner=this.caseDetailLeftShape.createSVGSymbol(),this.deviceGroup.addChild(this.caseDetailLeftOwner),this.caseDetailRightShape=new t.CircleMorphRender(new t.Circle(new t.Point(0,0),0),new t.Circle(new t.Point(0,0),0)),this.caseDetailRightOwner=this.caseDetailRightShape.createSVGSymbol(),this.caseDetailRightOwner.setAttribute("fill","none"),this.deviceGroup.addChild(this.caseDetailRightOwner),this.caseDetailBottomShape=new t.RoundedRectangleFlexMorphRender(new t.RoundedRectangleFlex(new t.Point(0,0),0,0,0,0,0,0),new t.RoundedRectangleFlex(new t.Point(0,0),0,0,0,0,0,0)),this.caseDetailBottomOwner=this.caseDetailBottomShape.createSVGSymbol(),this.deviceGroup.addChild(this.caseDetailBottomOwner),this.caseDetailBottomDetailPoints[0]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[1]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[2]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[3]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[4]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[5]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[6]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailPoints[7]=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),this.caseDetailBottomDetailShape=new t.Path(!0,!0),this.caseDetailBottomDetailShape.add(new t.CubicBezier(this.caseDetailBottomDetailPoints[0],this.caseDetailBottomDetailPoints[1],this.caseDetailBottomDetailPoints[2],this.caseDetailBottomDetailPoints[3])),this.caseDetailBottomDetailShape.add(new t.CubicBezier(this.caseDetailBottomDetailPoints[4],this.caseDetailBottomDetailPoints[5],this.caseDetailBottomDetailPoints[6],this.caseDetailBottomDetailPoints[7])),this.caseDetailBottomDetailOwner=this.caseDetailBottomDetailShape.createSVGSymbol(),this.caseDetailBottomDetailOwner.setAttribute("fill","url(#svg_gradient)"),this.deviceGroup.addChild(this.caseDetailBottomDetailOwner),this.insideScreenNodeTopRender=new t.CSSPropertyWithUnitRender(this.insideScreenNode,"top","%",0,0,0,1,t.Ease.CubicInOut),this.insideScreenNodeBottomRender=new t.CSSPropertyWithUnitRender(this.insideScreenNode,"bottom","%",0,0,0,1,t.Ease.CubicInOut),this.insideScreenNodeLeftRender=new t.CSSPropertyWithUnitRender(this.insideScreenNode,"left","%",0,0,0,1,t.Ease.CubicInOut),this.insideScreenNodeRightRender=new t.CSSPropertyWithUnitRender(this.insideScreenNode,"right","%",0,0,0,1,t.Ease.CubicInOut),this.caseOriginRender=new t.PointMorphRender(new t.Point(0,0),new t.Point(0,0)),t.HTML.Add(this.baseNode,this.svg.element)}return e.prototype.getHTML=function(){return this.baseNode},e.prototype.isTurned=function(){return this._isTurned},e.prototype.addInside=function(e){t.HTML.Add(this.insideScreenNode,e)},e.prototype.enable=function(){this._enabled=!0,void 0!==this.currentMediaDisplay&&this.currentMediaDisplay.enable()},e.prototype.disable=function(){this._enabled=!1,void 0!==this.currentMediaDisplay&&this.currentMediaDisplay.disable()},e.prototype.setDevice=function(e){this.currentDevice=e,this.sizeBehavior=e.sizeBehavior,this._isTurned=e.isTurned,this.insideMarginTop=e.insideMarginTop+this.marginVertical,this.insideMarginBottom=e.insideMarginBottom+this.marginVertical,this.insideMarginLeft=e.insideMarginLeft+this.marginHorizontal,this.insideMarginRight=e.insideMarginRight+this.marginHorizontal,this.scaledMarginTop=this.insideMarginTop/(1+this.insideMarginTop+this.insideMarginBottom),this.scaledMarginBottom=this.insideMarginBottom/(1+this.insideMarginTop+this.insideMarginBottom),this.scaledMarginLeft=this.insideMarginLeft/(1+this.insideMarginLeft+this.insideMarginRight),this.scaledMarginRight=this.insideMarginRight/(1+this.insideMarginLeft+this.insideMarginRight),this.updateSizes(),this.currentMediaDisplay=this.currentDevice.getTask(),this.updateCurrentMediaSize(),this.currentMediaDisplay.addEventListener(t.TaskEvent.COMPLETE,this.onDeviceLoadedBind),this.currentMediaDisplay.execute()},e.prototype.onDeviceLoaded=function(e){if(e.target.removeEventListener(t.TaskEvent.COMPLETE,this.onDeviceLoadedBind),this.currentMediaDisplay===e.target){this.mediaDisplays.push(this.currentMediaDisplay);var i=e.target.getHTML();t.CSS.SetTransition(i,"opacity 1800ms "+t.CSSEase.QuartInOut),t.HTML.Add(this.insideScreenNode,i),this._enabled===!0&&this.currentMediaDisplay.enable();var n=t.Ease.QuartInOut,s=1800;this.morhpTween=new t.SVGSymbolTween(this.caseOwner),this.morhpTween.makeAutoDestroy(),this.morhpTween.addRender(this.caseShape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetail1Shape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetail2Shape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetail3Shape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetailLeftShape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetailRightShape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomShape,0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[0],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[1],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[2],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[3],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[4],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[5],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[6],0,1,0,s,n),this.morhpTween.addRender(this.caseDetailBottomDetailPoints[7],0,1,0,s,n),this.morhpTween.addFunction(this.renderDevicePropsBind,0,1,0,s,n),this.morhpTween.addFunction(this.renderDeviceRotationBind,0,1,0,s,n),this.morhpTween.execute(),clearTimeout(this.cleanTimeoutID),this.cleanTimeoutID=setTimeout(this.cleanMediaDisplaysBind,1e3),i.offsetWidth,i.style.opacity="1"}},e.prototype.cleanMediaDisplays=function(){this.cleanTimeoutID=void 0;for(var e,i,n=this.mediaDisplays.length,s=0;n>s;s++)e=this.mediaDisplays[s],e!==this.currentMediaDisplay&&(e.disable(),i=e.getHTML(),i.style.opacity="0",t.HTML.Remove(this.insideScreenNode,i));this.mediaDisplays=[this.currentMediaDisplay]},e.prototype.updateSizes=function(){var e=new t.Area(this.currentDevice.imageWidth*(1+this.insideMarginLeft+this.insideMarginRight),this.currentDevice.imageHeight*(1+this.insideMarginTop+this.insideMarginBottom));this._isTurned===!0?(this.deviceAreaSvg=this.sizeBehavior.toRectangleTurned(this.svgSize,e),this.deviceAreaHtml=this.sizeBehavior.toRectangleTurnedPercentages(this.svgSize,e)):(this.deviceAreaSvg=this.sizeBehavior.toRectangle(this.svgSize,e),this.deviceAreaHtml=this.sizeBehavior.toRectanglePercentages(this.svgSize,e)),this.deviceAreaSvgRotated=this.deviceAreaSvg,this.deviceAreaHtmlRotated=this.deviceAreaHtml,this.insideSize=this.deviceAreaHtml.clone(),this.insideSize.h-=this.deviceAreaHtml.h*(this.scaledMarginTop+this.scaledMarginBottom),this.insideSize.o.y+=this.insideSize.h*this.insideMarginTop,this.insideSize.w-=this.deviceAreaHtml.w*(this.scaledMarginLeft+this.scaledMarginRight),this.insideSize.o.x+=this.insideSize.w*this.insideMarginLeft,this.insideSvgSize=this.deviceAreaSvg.clone(),this.insideSvgSize.o.y+=this.insideSvgSize.h*this.scaledMarginTop,this.insideSvgSize.h*=1-this.scaledMarginTop-this.scaledMarginBottom,this.insideSvgSize.o.x+=this.insideSvgSize.w*this.scaledMarginLeft,this.insideSvgSize.w*=1-this.scaledMarginLeft-this.scaledMarginRight,this.updateDeviceProps()},e.prototype.updateDeviceProps=function(){var e=this.currentDevice,i=this.insideSize.o.y,n=1-(this.insideSize.o.y+this.insideSize.h),s=this.insideSize.o.x,o=1-(this.insideSize.o.x+this.insideSize.w);this.insideScreenNodeTopRender.change(this.insideScreenNodeTopRender.getValueAt(this.tweenProgress),100*i),this.insideScreenNodeBottomRender.change(this.insideScreenNodeBottomRender.getValueAt(this.tweenProgress),100*n),
this.insideScreenNodeLeftRender.change(this.insideScreenNodeLeftRender.getValueAt(this.tweenProgress),100*s),this.insideScreenNodeRightRender.change(this.insideScreenNodeRightRender.getValueAt(this.tweenProgress),100*o);var r=(e.caseRTL,e.caseRTR,e.caseRBL,e.caseRBR,e.casePaddingTop),a=e.casePaddingBottom,h=e.casePaddingLeft,d=e.casePaddingRight,l=this.insideSvgSize.w+(h+d)*this.insideSvgSize.w,u=this.insideSvgSize.h+(r+a)*this.insideSvgSize.h,c=this.insideSvgSize.o.addValues(-h*this.insideSvgSize.w,-r*this.insideSvgSize.h);this.caseShape.morphTo(new t.RoundedRectangleFlex(c,l,u,l*e.caseRTL,l*e.caseRTR,l*e.caseRBL,l*e.caseRBR)),this.caseOwner.setAttribute("stroke",this.currentDevice.caseStrokeColor),this.caseOwner.setAttribute("stroke-width",this.currentDevice.caseStrokeWidth),this.caseOwner.setAttribute("fill",this.currentDevice.caseColor),this.caseOriginRender.morphTo(new t.Point(c.x+.5*this.caseShape.to.w,c.y+.5*this.caseShape.to.h)),this._isTurned===!0?(this.rotationFrom=this.rotationCurrent,this.rotationTo=90):(this.rotationFrom=this.rotationCurrent,this.rotationTo=0),this.caseDetail1Shape.morphTo(new t.Circle(c.addValues(this.currentDevice.detail1X*l,this.currentDevice.detail1Y*u),this.currentDevice.detail1Radius*l));var p=this.currentDevice.detail2W*l,f=this.currentDevice.detail2H*u;this.caseDetail2Shape.morphTo(new t.RoundedRectangle(c.addValues((this.currentDevice.detail2X-.5*this.currentDevice.detail2W)*l,this.currentDevice.detail2Y*u),p,f,this.currentDevice.detail2Radius*l)),this.caseDetail3Shape.morphTo(new t.Circle(c.addValues(this.currentDevice.detail3X*l,this.currentDevice.detail3Y*u),this.currentDevice.detail3Radius*l)),this.caseDetail1Owner.setAttribute("opacity",this.currentDevice.detail1Opacity),this.caseDetail2Owner.setAttribute("opacity",this.currentDevice.detail2Opacity),this.caseDetail3Owner.setAttribute("opacity",this.currentDevice.detail3Opacity),this.caseDetail1Owner.setAttribute("fill",this.currentDevice.detailColor),this.caseDetail2Owner.setAttribute("fill",this.currentDevice.detailColor),this.caseDetail3Owner.setAttribute("fill",this.currentDevice.detailColor),p=this.currentDevice.detailLeftW*l,f=this.currentDevice.detailLeftH*u,this.caseDetailLeftShape.morphTo(new t.RoundedRectangle(c.addValues(this.currentDevice.detailLeftX*l,this.currentDevice.detailLeftY*u),p,f,this.currentDevice.detailLeftRadius*l)),this.caseDetailRightShape.morphTo(new t.Circle(c.addValues(this.currentDevice.detailRightX*l,this.currentDevice.detailRightY*u),this.currentDevice.detailRightRadius*l)),this.caseDetailLeftOwner.setAttribute("opacity",this.currentDevice.detailLeftOpacity),this.caseDetailRightOwner.setAttribute("opacity",this.currentDevice.detailRightOpacity),this.caseDetailLeftOwner.setAttribute("stroke-width",this.currentDevice.detailStrokeWidth),void 0!==this.currentDevice.detailColor?this.caseDetailLeftOwner.setAttribute("fill",this.currentDevice.detailColor):this.caseDetailLeftOwner.setAttribute("fill","none"),void 0!==this.currentDevice.detailColor&&this.caseDetailRightOwner.setAttribute("stroke",this.currentDevice.detailColor),this.caseDetailRightOwner.setAttribute("stroke-width",this.currentDevice.detailStrokeWidth),this.caseDetailBottomShape.morphTo(new t.RoundedRectangleFlex(c.addValues(this.currentDevice.detailBottomX*l,this.currentDevice.detailBottomY*u),this.currentDevice.detailBottomW*l,this.currentDevice.detailBottomH*u,this.currentDevice.detailBottomRTL*l,this.currentDevice.detailBottomRTR*l,this.currentDevice.detailBottomRBL*l,this.currentDevice.detailBottomRBR*l)),this.caseDetailBottomOwner.setAttribute("opacity",this.currentDevice.detailBottomOpacity),void 0!==this.currentDevice.footColor&&this.caseDetailBottomOwner.setAttribute("fill",this.currentDevice.footColor),this.caseDetailBottomDetailPoints[0].morphTo(c.add(this.currentDevice.bottomDetailPoints_0.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[1].morphTo(c.add(this.currentDevice.bottomDetailPoints_0a.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[2].morphTo(c.add(this.currentDevice.bottomDetailPoints_0b.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[3].morphTo(c.add(this.currentDevice.bottomDetailPoints_1.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[4].morphTo(c.add(this.currentDevice.bottomDetailPoints_2.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[5].morphTo(c.add(this.currentDevice.bottomDetailPoints_2a.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[6].morphTo(c.add(this.currentDevice.bottomDetailPoints_2b.multiplyValues(l,u))),this.caseDetailBottomDetailPoints[7].morphTo(c.add(this.currentDevice.bottomDetailPoints_3.multiplyValues(l,u))),this.caseDetailBottomDetailOwner.setAttribute("opacity",this.currentDevice.detailBottomOpacity),void 0!==this.currentDevice.footColor&&(this.svgGradientStart.style["stop-color"]=this.currentDevice.footColorG1,this.svgGradientStop.style["stop-color"]=this.currentDevice.footColorG2)},e.prototype.renderDeviceProps=function(t){this.tweenProgress=t,this.insideScreenNodeTopRender.renderAt(t),this.insideScreenNodeBottomRender.renderAt(t),this.insideScreenNodeLeftRender.renderAt(t),this.insideScreenNodeRightRender.renderAt(t),this.caseDetail1Owner.update(),this.caseDetail2Owner.update(),this.caseDetail3Owner.update(),this.caseDetailLeftOwner.update(),this.caseDetailRightOwner.update(),this.caseDetailBottomOwner.update(),this.caseDetailBottomDetailOwner.update()},e.prototype.renderDeviceRotation=function(e){var i=this.caseOriginRender;i.renderAt(e),this.rotationCurrent=t.MathUtility.Lerp(this.rotationFrom,this.rotationTo,e),this.insideScreenNode.style[t.css.name.TRANSFORM]="rotate("+this.rotationCurrent+"deg) translateX(-1px)",this.deviceGroup.setAttribute("transform"," rotate("+this.rotationCurrent+", "+i.x+", "+i.y+")")},e.prototype.setSize=function(t){this.containerSize=t,void 0!==this.currentMediaDisplay&&this.updateCurrentMediaSize()},e.prototype.updateCurrentMediaSize=function(){if(void 0!==this.containerSize){var t=this.containerSize.multiply(this.insideSize);this.currentMediaDisplay.updateSize(t)}},e.prototype.destroy=function(){void 0!=this.cleanTimeoutID&&(clearTimeout(this.cleanTimeoutID),this.cleanTimeoutID=void 0),this.morhpTween=void 0,this.currentMediaDisplay.destroy(),this.currentMediaDisplay=void 0},e}();t.DeviceDisplay=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n){e.call(this,i),this.layers=[],void 0!==this.data.backgroundColor&&(this.baseNode.style.backgroundColor=this.data.backgroundColor);for(var s,o,r=i.layers,a=0;a<r.length;a++)s=r[a],s.depth=0,o=t.HTMLParallaxLayerFactory.CreateLayer(s),this.layers.push(o),this.baseNode.appendChild(o.getElement())}return __extends(i,e),i.prototype.updateSize=function(t,i,n){e.prototype.updateSize.call(this,t,i,n);for(var s=this.layers.length;s--;)this.layers[s].setParentSize(i,this.size,this.top)},i.prototype.destroy=function(){for(var t=this.layers.length;t--;)this.layers[t].destroy();e.prototype.destroy.call(this)},i}(t.ASectionKeepAspect);t.FallbackParallaxSection=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(n,s,o){if(this.wordSymbols=[],this.delayCounter=new t.Counter(0),this.wordDelay=80,this.charDelay=30,this.node=n,this.node.style.visibility="hidden",void 0!==s){void 0!==o&&this.delayCounter.add(o);for(var r,a,h=s.split(e.SplitSpaceRegex),d=h.length,l=0;d>l;l++)a=h[l]," "==a?this.node.appendChild(t.HTML.Create("div",{html:"&nbsp;"})):"<br"==a.substr(0,3)?this.node.appendChild(t.HTML.Create("br")):(r=new i(a,this),this.node.appendChild(r.getHTML()),this.wordSymbols.push(r))}}return e.prototype.assemble=function(){if(this._assembled!==!0){for(var t=this.wordSymbols.length,e=0;t>e;e++)this.wordSymbols[e].assemble();this._assembled=!0}},e.prototype.show=function(){this.node.style.visibility="",this.delay1=setTimeout(this.delayedShow.bind(this),100),this.delay2=setTimeout(this.delayedTitleShow.bind(this),600)},e.prototype.delayedShow=function(){},e.prototype.delayedTitleShow=function(){for(var e=this.wordSymbols.length,i=0;e>i;i++)this.wordSymbols[i].show();this.node.style[t.css.name.OPACITY]="1"},e.prototype.hide=function(){for(var t=this.wordSymbols.length,e=0;t>e;e++)this.wordSymbols[e].hide()},e.prototype.delayedHide=function(){this.node.style.visibility="hidden"},e.prototype.updateSize=function(){for(var t=this.wordSymbols.length,e=0;t>e;e++)this.wordSymbols[e].updateSize()},e.prototype.destroy=function(){for(var t=this.wordSymbols.length,e=0;t>e;e++)this.wordSymbols[e].getHTML();clearTimeout(this.delay1),clearTimeout(this.delay2),this.node=null},e.SplitSpaceRegex=/(<br>|<br\/>|<sup>[^<]+<\/sup>|\s)/gi,e}();t.HTMLCharacterCSSTransition=e;var i=function(){function e(e,i){this.text=e,this.node=t.HTML.Create("div"),this.insideNode=t.HTML.Create("div"),this.node.appendChild(this.insideNode),this.wordNode=t.HTML.Create("div"),this.insideNode.appendChild(this.wordNode),this.config=i,this.delay=i.delayCounter.get(),this.wordNode.innerHTML=e,i.delayCounter.add(48)}return e.prototype.getHTML=function(){return this.node},e.prototype.assemble=function(){this.wordWidth=this.wordNode.offsetWidth,this.wordHeight=this.wordNode.offsetHeight,this.conHeight=this.node.offsetHeight,this.node.style.width=this.wordWidth+"px",this.node.style.height=this.wordHeight+"px",this.insideNode.style.width="0px",this.insideNode.style[t.css.name.OPACITY]="0"},e.prototype.show=function(){this.text.length;this.isAnimating=!0,t.CSS.SetTransition(this.insideNode,"width "+32*this.config.charDelay+"ms "+t.CSSEase.ExpoOut+" "+this.delay+"ms, "+t.css.name.OPACITY+" "+32*this.config.charDelay+"ms ease-out "+this.delay+"ms",this.onShowComplete.bind(this)),this.insideNode.style.width=this.wordWidth+"px",this.insideNode.style[t.css.name.OPACITY]="1"},e.prototype.onShowComplete=function(t){this.insideNode.style.width="",this.isAnimating=!1},e.prototype.hide=function(){t.CSS.RemoveTransition(this.insideNode),this.insideNode.style.width=this.wordWidth+"px",t.CSS.ForceUpdate(this.insideNode),this.isAnimating=!0,t.CSS.SetTransition(this.insideNode,"width "+32*this.config.charDelay+"ms "+t.CSSEase.ExpoOut+" "+this.delay+"ms, opacity "+32*this.config.charDelay+"ms ease-out "+this.delay+"ms",this.onHideComplete.bind(this)),this.insideNode.style.width="0px",this.insideNode.style[t.css.name.OPACITY]="0"},e.prototype.onHideComplete=function(t){this.isAnimating=!1},e.prototype.updateSize=function(){this.wordWidth=this.wordNode.offsetWidth,this.wordHeight=this.wordNode.offsetHeight,this.conHeight=this.node.offsetHeight,this.node.style.width=this.wordWidth+"px",this.node.style.height=this.wordHeight+"px",this.isAnimating===!0&&(this.insideNode.style.width=this.wordWidth+"px")},e}()}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.bounds=new t.Range(0,1),this.data=e,this.zDepth=this.data.depth,this.baseNode=t.HTML.Create(i,{"class":"parallaxLayer "+n})}return e.prototype.getTask=function(){return null},e.prototype.setParentSize=function(t,e,i){this.containerWidth=e.w,this.containerHeight=e.h,this._offsetTop=i,this.height=(Math.abs(this.zDepth)+1)*this.containerHeight;var n=t-this.containerHeight,s=t+this.containerHeight;if(this.zDepth<0){var o=n/s,r=1;this.containerHeight>2*n&&(r=2*n/this.containerHeight*.5),this.multiplyTrack=r/o,this.offsetTrack=.5*(this.multiplyTrack-1)}else 0==this.zDepth?(this.multiplyTrack=1,this.offsetTrack=0):(this.multiplyTrack=this.zDepth+1,this.offsetTrack=-this.zDepth);this.baseNode.style.height=this.height+"px"},e.prototype.getElement=function(){return this.baseNode},e.prototype.renderAt=function(e){this.progress=e,e=1-(e*this.multiplyTrack-this.offsetTrack);var i=this.zDepth*this.containerHeight*e+(this._offsetTop-t.Main.ScrollY);this.baseNode.style[t.css.name.TRANSFORM]=t.Polyfills.Create3DTranslate(0,i)},e.prototype.lastRenderAt=function(t){this.renderAt(t)},e.prototype.updateRender=function(){this.renderAt(this.progress)},e.prototype.destroy=function(){},e}();t.AHTMLParallaxLayer=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i,"div","media"),this.onMediaDisplayCompleteBind=this.onMediaDisplayComplete.bind(this),this.mediaDisplay=t.HTMLMediaDisplayFactory.CreateFromJSON(i),this.mediaDisplay.addEventListener(t.TaskEvent.COMPLETE,this.onMediaDisplayCompleteBind),this.mediaDisplay.disable()}return __extends(i,e),i.prototype.getTask=function(){return this.mediaDisplay},i.prototype.onMediaDisplayComplete=function(e){this.mediaDisplay.removeEventListener(t.TaskEvent.COMPLETE,this.onMediaDisplayCompleteBind),this.baseNode.appendChild(this.mediaDisplay.getHTML())},i.prototype.setParentSize=function(i,n,s){e.prototype.setParentSize.call(this,i,n,s),this.mediaDisplay.updateSize(new t.Area(n.w,this.height))},i.prototype.renderAt=function(t){e.prototype.renderAt.call(this,t),this.mediaDisplay.enable(),(0==t||1==t)&&this.mediaDisplay.disable()},i}(t.AHTMLParallaxLayer);t.MediaHTMLLayer=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i){e.call(this,i,"div","image"),this.onImageLoadedBind=this.onImageLoaded.bind(this),this.sizeBehavior=t.SizeBehavior.FromJSON(this.data),this.responsiveImage=new t.ResponsiveImageLoader(this.data.url,this.data.width,this.data.height,this.sizeBehavior),this.responsiveImage.addEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind)}return __extends(i,e),i.prototype.getTask=function(){return this.responsiveImage},i.prototype.onImageLoaded=function(e){t.HTML.SetStyles(this.baseNode,{backgroundImage:"url("+this.responsiveImage.data.src+")"}),this.sizeBehavior.defineAsCSSBackground(this.baseNode)},i.prototype.setParentSize=function(i,n,s){e.prototype.setParentSize.call(this,i,n,s),this.responsiveImage.setSize(new t.Area(n.w,this.height))},i.prototype.destroy=function(){this.responsiveImage.removeEventListener(t.TaskEvent.COMPLETE,this.onImageLoadedBind),this.responsiveImage.destroy(),this.responsiveImage=null,this.sizeBehavior=null,e.prototype.destroy.call(this)},i}(t.AHTMLParallaxLayer);t.ImageHTMLLayer=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.CreateLayer=function(t){var i=t.type;if(e._Dictionary.hasOwnProperty(i)===!1)throw new TypeError("HTMLParallaxLayerFactory::CreateLayer: There is no section with the type '"+i+"'.");return new e._Dictionary[i](t)},e._Dictionary={video:t.MediaHTMLLayer,image:t.MediaHTMLLayer,svg:t.MediaHTMLLayer,old_image:t.ImageHTMLLayer},e}();t.HTMLParallaxLayerFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.revealer=t.HTML.Create("div",{"class":"reveal"}),this.element.appendChild(this.revealer)}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor}),t.CSS.SetTranslate(this.revealer,0,0),t.CSS.SetTransition(this.revealer,"all 400ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,0,0)},e.prototype.onRenderWithinStart=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,0,-this.size.h)},e.prototype.setSize=function(e){this.size=e,this.renderWithin.getLocalProgress()>0&&t.CSS.SetTranslate(this.revealer,0,-this.size.h)},e.prototype.destroy=function(){this.element.removeChild(this.revealer),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.revealer=null,this.renderWithin=null},e}();t.BottomReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.progress=0,this.progressRenderBind=this.progressRender.bind(this),this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.svg=t.SVG.Create("svg",{"class":"reveal"}),this.overlayShape=new t.Path,this.boxShape=new t.Rectangle(new t.Point(0,0),0,0),this.overlayShape.add(this.boxShape),this.circleShape=new t.Circle(new t.Point(0,0),0),this.overlayShape.add(this.circleShape),this.overlay=this.overlayShape.createSVGSymbol(),this.overlay.setAttribute("fill",this.backgroundColor),this.svg.appendChild(this.overlay.element),this.element.appendChild(this.svg),this.progressTween=new t.FunctionTween(this.progressRenderBind,0,1,0,600,t.Ease.SineIn),this.progressTween.makeAutoPause()}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(t){this.size=t,this.setSize(t),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.progressRender=function(t){this.progress=t,this.updateRadius()},e.prototype.onRenderWithinBefore=function(t){this.progressTween.backward()},e.prototype.onRenderWithinStart=function(t){this.progressTween.forward()},e.prototype.setSize=function(e){this.size=e,this.toRadius=.5*t.GeometryUtility.GetDiameterToCoverRectangle(this.size),t.SVG.SetAttributes(this.svg,{width:this.size.w,height:this.size.h}),this.boxShape.w=this.size.w,this.boxShape.h=this.size.h,this.circleShape.o.x=.5*this.size.w,this.circleShape.o.y=.5*this.size.h,this.updateRadius()},e.prototype.updateRadius=function(){this.circleShape.r=this.toRadius*this.progress,this.overlay.update()},e.prototype.destroy=function(){this.progressTween.destroy(),this.progressTween=null,this.element.removeChild(this.svg),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.svg=null,this.renderWithin=null},e}();t.CircleReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.svg=t.SVG.Create("svg",{"class":"reveal"}),this.triangle1=t.SVG.Create("polygon",{fill:this.backgroundColor}),this.triangle2=t.SVG.Create("polygon",{fill:this.backgroundColor}),this.svg.appendChild(this.triangle1),this.svg.appendChild(this.triangle2),this.element.appendChild(this.svg)}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,this.setSize(e),t.CSS.SetTransition(this.triangle1,"all 1000ms "+t.CSSEase.QuadInOut,null,!1),t.CSS.SetTransition(this.triangle2,"all 1000ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.SetTranslate(this.triangle1,0,0),t.CSS.SetTranslate(this.triangle2,0,0)},e.prototype.onRenderWithinStart=function(e){t.CSS.SetTranslate(this.triangle1,-this.size.w,this.size.h),t.CSS.SetTranslate(this.triangle2,this.size.w,-this.size.h)},e.prototype.setSize=function(e){this.size=e,t.SVG.SetAttributes(this.svg,{width:this.size.w,height:this.size.h}),t.SVG.SetAttributes(this.triangle1,{points:"0,0 2,0 "+this.size.w+","+(this.size.h-2)+" "+this.size.w+","+this.size.h+" 0,"+this.size.h}),t.SVG.SetAttributes(this.triangle2,{points:this.size.w+",0 "+this.size.w+","+this.size.h+" 0,0"})},e.prototype.destroy=function(){this.element.removeChild(this.svg),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.svg=null,this.triangle1=null,this.triangle2=null,this.renderWithin=null},e}();t.DiagonalSplitLeftReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.svg=t.SVG.Create("svg",{"class":"reveal"}),this.triangle1=t.SVG.Create("polygon",{fill:this.backgroundColor}),this.triangle2=t.SVG.Create("polygon",{fill:this.backgroundColor}),this.svg.appendChild(this.triangle1),this.svg.appendChild(this.triangle2),this.element.appendChild(this.svg)}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,this.setSize(e),t.CSS.SetTransition(this.triangle1,"all 1000ms "+t.CSSEase.QuadInOut,null,!1),t.CSS.SetTransition(this.triangle2,"all 1000ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.SetTranslate(this.triangle1,0,0),t.CSS.SetTranslate(this.triangle2,0,0)},e.prototype.onRenderWithinStart=function(e){t.CSS.SetTranslate(this.triangle1,-this.size.w,-this.size.h),t.CSS.SetTranslate(this.triangle2,this.size.w,this.size.h)},e.prototype.setSize=function(e){this.size=e,t.SVG.SetAttributes(this.svg,{width:this.size.w,height:this.size.h}),t.SVG.SetAttributes(this.triangle1,{points:"0,0 "+this.size.w+",0 "+this.size.w+",2 2,"+this.size.h+" 0,"+this.size.h}),t.SVG.SetAttributes(this.triangle2,{points:this.size.w+",0 "+this.size.w+","+this.size.h+" 0,"+this.size.h})},e.prototype.destroy=function(){this.element.removeChild(this.svg),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.svg=null,this.triangle1=null,this.triangle2=null,this.renderWithin=null},e}();t.DiagonalSplitRightReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onInitDelayedBind=this.onInitDelayed.bind(this),this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.revealer=t.HTML.Create("div",{"class":"reveal"}),t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor}),t.CSS.SetTransition(this.revealer,"all 750ms "+t.CSSEase.QuadInOut,null,!1),this.element.appendChild(this.revealer)}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(t){this.callbackTimeout=setTimeout(this.onInitDelayedBind,100)},e.prototype.onInitDelayed=function(t){this.callbackTimeout=null,this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.SetOpacity(this.revealer,1)},e.prototype.onRenderWithinStart=function(e){t.CSS.SetOpacity(this.revealer,0)},e.prototype.setSize=function(t){},e.prototype.destroy=function(){clearTimeout(this.callbackTimeout),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.renderWithin=null},e}();t.FadeReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.revealer=t.HTML.Create("div",{"class":"reveal"}),this.element.appendChild(this.revealer),t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor})}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,t.CSS.SetTranslate(this.revealer,0,0),t.CSS.SetTransition(this.revealer,"all 400ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,0,0)},e.prototype.onRenderWithinStart=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,this.size.w,0)},e.prototype.setSize=function(e){this.size=e,this.renderWithin.getLocalProgress()>0&&t.CSS.SetTranslate(this.revealer,this.size.w,0)},e.prototype.destroy=function(){this.element.removeChild(this.revealer),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.revealer=null,this.renderWithin=null},e}();t.LeftReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onInitDelayedBind=this.onInitDelayed.bind(this),this.element=e,this.backgroundColor=n.backgroundColor,this.revealer=t.HTML.Create("div",{"class":"reveal"}),t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor}),this.element.appendChild(this.revealer),t.CSS.SetTransition(this.revealer,"all 750ms "+t.CSSEase.QuadInOut,null,!1)}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(t){this.callbackTimeout=setTimeout(this.onInitDelayedBind,100)},e.prototype.onInitDelayed=function(e){this.callbackTimeout=null,t.CSS.SetOpacity(this.revealer,0)},e.prototype.setSize=function(t){},e.prototype.destroy=function(){clearTimeout(this.callbackTimeout),this.element=null},e}();t.NoneReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.revealer=t.HTML.Create("div",{"class":"reveal"}),this.element.appendChild(this.revealer),t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor})}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,t.CSS.SetTranslate(this.revealer,0,0),t.CSS.SetTransition(this.revealer,"all 400ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,0,0)},e.prototype.onRenderWithinStart=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,-this.size.w,0)},e.prototype.setSize=function(e){this.size=e,this.renderWithin.getLocalProgress()>0&&t.CSS.SetTranslate(this.revealer,-this.size.w,0)},e.prototype.destroy=function(){this.element.removeChild(this.revealer),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.revealer=null,this.renderWithin=null},e}();t.RightReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.revealer=t.HTML.Create("div",{"class":"reveal"}),this.element.appendChild(this.revealer),t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor})}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,t.CSS.SetTranslate(this.revealer,0,0),t.CSS.SetTransition(this.revealer,"all 400ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,0,0)},e.prototype.onRenderWithinStart=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslate(this.revealer,0,this.size.h)},e.prototype.setSize=function(e){this.size=e,this.renderWithin.getLocalProgress()>0&&t.CSS.SetTranslate(this.revealer,0,this.size.h)},e.prototype.destroy=function(){this.element.removeChild(this.revealer),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.revealer=null,this.renderWithin=null},e}();t.TopReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n){this.onRenderWithinBeforeBind=this.onRenderWithinBefore.bind(this),this.onRenderWithinStartBind=this.onRenderWithinStart.bind(this),this.element=e,this.renderWithin=i,this.backgroundColor=n.backgroundColor,this.renderWithin.addEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.addEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.revealer=t.HTML.Create("div",{"class":"reveal"}),this.element.appendChild(this.revealer),t.HTML.SetStyles(this.revealer,{width:"100%",height:"100%",backgroundColor:this.backgroundColor})}return e.FromFactoryData=function(t,i,n){return new e(t,i,n)},e.prototype.init=function(e){this.size=e,t.CSS.SetTranslateScale(this.revealer,0,0,1),t.CSS.SetTransition(this.revealer,"all 400ms "+t.CSSEase.QuadInOut,null,!1),this.renderWithin.getLocalProgress()>0?this.onRenderWithinStart():this.onRenderWithinBefore()},e.prototype.onRenderWithinBefore=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslateScale(this.revealer,0,0,1)},e.prototype.onRenderWithinStart=function(e){t.CSS.ForceUpdate(this.revealer),t.CSS.SetTranslateScale(this.revealer,0,this.size.h/2,0)},e.prototype.setSize=function(e){this.size=e,this.renderWithin.getLocalProgress()>0?t.CSS.SetTranslateScale(this.revealer,0,this.size.h/2,0):t.CSS.SetTranslateScale(this.revealer,0,0,1)},e.prototype.destroy=function(){this.element.removeChild(this.revealer),this.renderWithin.removeEventListener(t.TweenEvent.BEFORE,this.onRenderWithinBeforeBind),this.renderWithin.removeEventListener(t.TweenEvent.START,this.onRenderWithinStartBind),this.element=null,this.revealer=null,this.renderWithin=null},e}();t.ScaleSquareReveal=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.CreateReveal=function(i,n,s){var o=s.reveal;if(null==o&&(o=""),t.Main.IS_FALLBACK===!0&&(o="none"),o=o.toLowerCase(),e._Dictionary.hasOwnProperty(o)===!1)throw new TypeError("RevealFactory::CreateReveal: There is no reveal behaviour of the type '"+o+"'.");
return new e._Dictionary[o].FromFactoryData(i,n,s)},e._Dictionary={"":t.NoneReveal,none:t.NoneReveal,splitleft:t.DiagonalSplitLeftReveal,splitright:t.DiagonalSplitRightReveal,left:t.LeftReveal,right:t.RightReveal,top:t.TopReveal,bottom:t.BottomReveal,scalesquare:t.ScaleSquareReveal,fade:t.FadeReveal,circle:t.CircleReveal},e}();t.RevealFactory=e}(ss||(ss={}));var ss;!function(t){var e=function(){function e(e,i,n,s){this.element=e,this.type=i.type.toLowerCase();var o;if(4==i.widthInColumns||void 0===i.widthInColumns?(o="full",this.widthInColumns=4):3==i.widthInColumns?(o="three-quarter",this.widthInColumns=3):2==i.widthInColumns?(o="half",this.widthInColumns=2):1==i.widthInColumns&&(o="quarter",this.widthInColumns=1),t.HTML.AddClass(this.element,o),i.shiftInColumns>0&&void 0!==i.shiftInColumns){var r;1==i.shiftInColumns?r="push-quarter":2==i.shiftInColumns?r="push-half":3==i.shiftInColumns&&(r="push-three-quarter"),t.HTML.AddClass(this.element,r)}void 0!==i.fontColor&&(this.element.style.color=i.fontColor),void 0!==i.fontAlign&&(this.element.style.textAlign=i.fontAlign.toLowerCase()),void 0!==i.fontSize&&(this.element.style.fontSize=i.fontSize),void 0!==i.fontWeight&&(this.element.style.fontWeight=i.fontWeight),n.appendChild(this.element)}return e.prototype.updateSize=function(t,e){},e.prototype.getHTML=function(){return this.element},e.prototype.getType=function(){return this.type},e.prototype.destroy=function(){this.element=null},e}();t.AText=e}(ss||(ss={}));var ss;!function(ss){var TextBlank=function(){function TextBlank(data,parentElement,queue){this.element=ss.HTML.Create("div"),void 0===data.widthInColumns?this.widthInColumns=4:this.widthInColumns=data.widthInColumns,void 0===data.shiftInColumns?this.shiftInColumns=0:this.shiftInColumns=data.shiftInColumns;var wClass;if(4==this.widthInColumns?wClass="full":3==this.widthInColumns?wClass="three-quarter":2==this.widthInColumns?wClass="half":1==this.widthInColumns&&(wClass="quarter"),ss.HTML.AddClass(this.element,wClass),this.shiftInColumns>0){var pClass;1==this.shiftInColumns?pClass="push-quarter":2==this.shiftInColumns?pClass="push-half":3==this.shiftInColumns&&(pClass="push-three-quarter"),ss.HTML.AddClass(this.element,pClass)}parentElement.appendChild(this.element),this.aspectRatio=eval(data.aspectRatio)}return TextBlank.prototype.updateSize=function(t,e){var i=t.w*(this.widthInColumns/e);this.element.style.height=i/this.aspectRatio+"px"},TextBlank.prototype.getHTML=function(){return this.element},TextBlank.prototype.getType=function(){return"blank"},TextBlank.prototype.destroy=function(){this.element=null},TextBlank}();ss.TextBlank=TextBlank}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,t.HTML.Create("div",{"class":"button"}),i,n,s),this.onMouseOverBind=this.onMouseOver.bind(this),this.onMouseOutBind=this.onMouseOut.bind(this),this.onClickBind=this.onClick.bind(this),this.hoverColor=i.hoverColor,this.link=i.link,this.btnNode=t.HTML.Create("a",{href:i.link,style:"border:1px solid "+i.fontColor}),this.hoverNode=t.HTML.Create("div",{"class":"hover",style:"background-color:"+i.fontColor}),t.HTML.Add(this.btnNode,this.hoverNode),this.labelNode=t.HTML.Create("div",{"class":"label"}),this.labelNode.innerHTML=i.copy,t.HTML.Add(this.btnNode,this.labelNode),this.element.appendChild(this.btnNode),t.TouchClick.AddClickListener(this.btnNode,this.onClickBind),this.btnNode.addEventListener("mouseover",this.onMouseOverBind),this.btnNode.addEventListener("mouseout",this.onMouseOutBind)}return __extends(i,e),i.prototype.onMouseOver=function(t){this.labelNode.style.color=this.hoverColor},i.prototype.onMouseOut=function(t){this.labelNode.style.color=""},i.prototype.onClick=function(e){var i=this.link;return t.UrlUtility.IsAbsolute(i)===!0||e.metaKey===!0?(t.URLManager.CallCostumeURL(i,!0),void e.preventDefault()):(t.URLManager.CallCostumeURL(i),void e.preventDefault())},i.prototype.destroy=function(){this.btnNode.removeEventListener("mouseover",this.onMouseOverBind),this.btnNode.removeEventListener("mouseout",this.onMouseOutBind),this.btnNode=void 0,this.hoverNode=void 0,this.labelNode=void 0,e.prototype.destroy.call(this)},i}(t.AText);t.TextButton=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,t.HTML.Create("h2"),i,n,s),this.element.innerHTML=i.copy}return __extends(i,e),i}(t.AText);t.TextHeader=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,t.HTML.Create("div",{"class":"paragraph"}),i,n,s),4==i.columnAmount?t.HTML.AddClass(this.element,"four_columns"):2==i.columnAmount&&t.HTML.AddClass(this.element,"two_columns"),this.element.innerHTML=i.copy}return __extends(i,e),i}(t.AText);t.TextParagraph=e}(ss||(ss={}));var ss;!function(t){var e=function(e){function i(i,n,s){e.call(this,t.HTML.Create("blockquote"),i,n,s),this.element.innerHTML=i.copy}return __extends(i,e),i}(t.AText);t.TextQuote=e}(ss||(ss={}));var ss;!function(ss){var TextImage=function(_super){function TextImage(data,parentElement,queue){_super.call(this,ss.HTML.Create("div",{"class":"mediaCon"}),data,parentElement,queue),this.onExecuteCompleteBind=this.onExecuteComplete.bind(this),this.imageNode=ss.HTML.Create("div",{"class":"image"}),this.element.appendChild(this.imageNode),this.aspectRatio=eval(data.aspectRatio),this.sizeBehavior=ss.SizeBehavior.FromJSON(data.media),this.sizeBehavior.defineAsCSSBackground(this.imageNode),this.imageLoader=new ss.ResponsiveImageLoader(data.media.url,data.media.width,data.media.height,this.sizeBehavior),this.imageLoader.addEventListener(ss.TaskEvent.COMPLETE,this.onExecuteCompleteBind),queue.addTask(this.imageLoader)}return __extends(TextImage,_super),TextImage.prototype.onExecuteComplete=function(t){ss.HTML.SetStyles(this.imageNode,{backgroundImage:"url("+this.imageLoader.data.src+")"})},TextImage.prototype.updateSize=function(t,e){var i=new ss.Area(null,null);this.aspectRatio;i.w=t.w/e*Math.min(e,this.widthInColumns),i.h=i.w/this.aspectRatio,this.imageLoader.setSize(i),this.imageNode.style.height=i.h+"px"},TextImage.prototype.destroy=function(){this.imageLoader.destroy(),this.imageLoader=void 0,_super.prototype.destroy.call(this)},TextImage}(ss.AText);ss.TextImage=TextImage}(ss||(ss={}));var ss;!function(t){var e=function(){function e(){}return e.CreateText=function(t,i,n){var s=t.type.toLowerCase();return e._Dictionary.hasOwnProperty(s)===!1,new e._Dictionary[s](t,i,n)},e._Dictionary={header:t.TextHeader,paragraph:t.TextParagraph,space:t.TextBlank,quote:t.TextQuote,paragraphquote:t.TextQuote,textimage:t.TextImage,textbutton:t.TextButton},e}();t.TextFactory=e}(ss||(ss={}));